;/*FB_PKG_DELIM*/

__d("PrivacyConst",[],(function(a,b,c,d,e,f){e.exports={BaseValue:{FOLLOWERS:220,FRIENDS_ON_CAMPUS:210,FRIENDS_AND_MUTUAL_GAME_PLAYERS:200,FRIEND_LIST:129,FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,META_INTERNAL_DOGFOODING:113,CUSTOM:111,EVERYONE:80,EVERYONE_MINUS_FRIENDS:70,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SELF:10,NOBODY:0},CustomPrivacyTokens:{FRIENDS:247124075410460,FRIENDS_OF_FRIENDS:498125493540100,EVERYONE_MINUS_FRIENDS:772952856620091,FRIENDS_AND_MUTUAL_GAME_PLAYERS:280844843167017,FRIENDS_ON_CAMPUS:398431124771867,FOLLOWERS:1367034907209274,META_INTERNAL_DOGFOODING:1406267423557702},FriendsValue:{FOLLOWERS:220,FRIENDS_ON_CAMPUS:210,FRIENDS_AND_MUTUAL_GAME_PLAYERS:200,META_INTERNAL_DOGFOODING:113,EVERYONE:80,EVERYONE_MINUS_FRIENDS:70,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SOME_FRIENDS:30,SELF:10,NO_FRIENDS:0},PostParam:{EVERYONE:300645083384735,NETWORKS_FRIENDS:123780391104836,FRIENDS_OF_FRIENDS:275425949243301,FRIENDS:291667064279714,FRIENDS_MINUS_ACQUAINTANCES:284920934947802,ONLY_ME:286958161406148,FB_ONLY:411331705596297,EVERYONE_MINUS_FRIENDS:736033610321305,EVENT_PUBLIC:1493271774218406,EVENT_INVITE_ONLY:599950423437029,FRIENDS_AND_MUTUAL_GAME_PLAYERS:680053436169734,FOLLOWERS:1672452059938834,META_INTERNAL_DOGFOODING:3323392097902216},PrivacyField:{CURRENT_COMPOSER:8787670733,DEFAULT_COMPOSER:875106179167765,TIMELINE_TAGGED_CONTENT_VISIBILITY:8787530733,WALL_POSTS:8787370733,TAG_EXPANDED_CONTENT:8787795733,TAGGER_MESSENGER_SHARING:495310445388980,SEARCH_BY_PHONE:8787815733,SEARCH_BY_EMAIL:8787820733,CAN_FRIEND:8787540733,DEPRECATED_APP_DEFAULT:8787700733,SEARCH_BY_NAME:8787755733,SEARCH_BY_CONTACT_INFO:8787760733,SCREENNAME:8787335733,CURRENT_ADDRESS:8787355733,FRIENDS:8787365733,WEBSITE:8787375733,STATUS_UPDATES:8787395733,BIRTHDAY:8787510733,BIRTHYEAR:8787805733,CAN_COMMENT:8787535733,RELATIONSHIPS:8787550733,PROFILE_PICTURE_ALBUM:8787565733,DASHBOARD_ACTIVITY:8787575733,FAMILY:8787585733,INTERESTED_IN_LOOKING_FOR:8787590733,PLACES:8787620733,LANGUAGES:8787625733,QUOTATIONS:8787630733,ABOUT_ME:8787635733,POLITICAL:8787640733,RELIGIOUS:8787645733,CURRENT_CITY:8787650733,HOMETOWN:8787655733,PROFILE_LIKES_AND_INTERESTS:8787660733,BLURB:8787665733,OTHER_LIKES_AND_INTERESTS:8787680733,SUBSCRIBERS:8787690733,SUBSCRIBED_TO:8787695733,PERSONAL_CONTACT_DEFAULT:8787765733,PAGE_CONTACT_DEFAULT:8787770733,AUTO_GENERATED_FB_EMAIL:8787775733,CUSTOM_GENDERS:237760973066217,LOCATION_DO_NOT_WRITE_DIRECTLY:8787785733,SOCIAL_ADS:7719929599,PLATFORM_ADS:126540474531,BASS_ADS:183468681673909,ACTIVITIES:144331422306930,INTERESTS:113693108715766,MUSIC:172372399483077,BOOKS:100725463352700,GAMES:199298603444535,MOVIES:201146206594049,TV_SHOWS:129665560441221,SPORTS_PLAYED:129991670408857,FAVORITE_TEAMS:225288534151802,FAVORITE_ATHLETES:203380763033334,PEOPLE_I_ADMIRE:210380795648667,FAVORITE_FOODS:585935528106425,FAVORITE_RESTAURANTS:172588449584647,FAVORITE_WEBSITES:180412195459106,CLOTHING_BRANDS:397391233714082,LAST_POST_PRIVACY:314763985364212,SECOND_TO_LAST_POST_PRIVACY:321179124722698,PREVIOUS_SECONDARY_COMPOSER:864562253561430,RECENT_COMPOSER:358304524327898,COMPOSER_CUSTOM_INCLUSION:1067668039947624,COMPOSER_CUSTOM_EXCLUSION:1082068668536535,NOW_COMPOSER:421290164697736,BACKSTAGE_PRIVACY:809506612451171,FACEREC_ENROLLMENT:1709697052669794,DEVICE_PHOTO_PROCESSING:1798505450455620,SPACES_VR_OFFLINE_VISIT_PRIVACY:351913698615451,RESHARES_ON_TIMELINE_VISIBILITY:230094651068076,CAN_POST_TRIBUTES:298481070877996,CAN_SEE_TRIBUTE_POSTS:1909416226028186,TRIBUTES_TAGGED_CONTENT_VISIBILITY:322268258473567,RESHARE_TO_STORIES:282421212606762,RESHARE_STORY_TO_STORIES:855792411486922,REPLIES_TO_STORIES:1362036977298100,EVENT_RESPONSE:316303542562773,COLLECTIONS_STICKY_PRIVACY:1032905720391450,EXAMPLE:621736848675997,FB_SHORTS_COMPOSER_CUSTOM_EXCLUSION:3866487916780840,FB_SHORTS_CURRENT_COMPOSER:216844253311823,SOUNDBITES_COMPOSER_CUSTOM_EXCLUSION:537781390802814,SOUNDBITES_CURRENT_COMPOSER:149771757278887,FB_POST_REMIX_COMPOSER:5137561969699718,PUBLIC_CHATS:452192430435731,PROFILE_PRONOUNS:912462619841888},TagExpansion:{NONE:0,TAGGEES:1,FRIENDS_OF_TAGGEES:2,FRIENDS_TAGGED:6},ExpansionType:{NONE:0,TAGS_ONLY:1}}}),null);
__d("InstantGamesFeedTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:InstantGamesFeedLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:InstantGamesFeedLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:InstantGamesFeedLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setContentID=function(a){this.$1.content_id=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setGameID=function(a){this.$1.game_id=a;return this};c.setGameSessionID=function(a){this.$1.game_session_id=a;return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setGroupSize=function(a){this.$1.group_size=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setPostID=function(a){this.$1.post_id=a;return this};c.setPostPrivacyID=function(a){this.$1.post_privacy_id=a;return this};c.setPosterID=function(a){this.$1.poster_id=a;return this};c.setRenderFailureReason=function(a){this.$1.render_failure_reason=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setShareSurface=function(a){this.$1.share_surface=a;return this};c.setStoryInvalidationReason=function(a){this.$1.story_invalidation_reason=a;return this};c.setStoryTokenString=function(a){this.$1.story_token_string=a;return this};c.setTournamentID=function(a){this.$1.tournament_id=a;return this};c.setUISurface=function(a){this.$1.ui_surface=a;return this};c.setUpdateID=function(a){this.$1.update_id=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,content_id:!0,country:!0,deviceid:!0,event:!0,game_id:!0,game_session_id:!0,group_id:!0,group_size:!0,isemployee:!0,name:!0,post_id:!0,post_privacy_id:!0,poster_id:!0,render_failure_reason:!0,sessionid:!0,share_surface:!0,story_invalidation_reason:!0,story_token_string:!0,tournament_id:!0,ui_surface:!0,update_id:!0};f["default"]=a}),66);
__d("OldPrivacySelectorTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:OldPrivacySelectorLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:OldPrivacySelectorLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:OldPrivacySelectorLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdamaRenderLocation=function(a){this.$1.adama_render_location=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFbid=function(a){this.$1.fbid=a;return this};return a}();c={adama_render_location:!0,event:!0,fbid:!0};f["default"]=a}),66);
__d("PhotoUploadFacerecWaterfallTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:PhotoUploadFacerecWaterfallLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:PhotoUploadFacerecWaterfallLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:PhotoUploadFacerecWaterfallLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFaceBoxID=function(a){this.$1.face_box_id=a;return this};c.setPhotoFbid=function(a){this.$1.photo_fbid=a;return this};c.setRecognizedUser=function(a){this.$1.recognized_user=a;return this};c.setTaggedUser=function(a){this.$1.tagged_user=a;return this};return a}();c={event:!0,face_box_id:!0,photo_fbid:!0,recognized_user:!0,tagged_user:!0};f["default"]=a}),66);
__d("PlatformSharingWebFunnelAnalysisTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:PlatformSharingWebFunnelAnalysisLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:PlatformSharingWebFunnelAnalysisLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:PlatformSharingWebFunnelAnalysisLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setFunnelLoggingInputData=function(a){this.$1.funnel_logging_input_data=a.getJSON();return this};c.setFunnelLoggingReservedFunnelLoggingExtraData=function(a){this.$1.funnel_logging_reserved_funnel_logging_extra_data=b("GeneratedLoggerUtils").serializeMap(a);return this};return a}();c={funnel_logging_input_data:!0,funnel_logging_reserved_funnel_logging_extra_data:!0};f["default"]=a}),66);
__d("ReactComposerNestedActionDispatchTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:ReactComposerNestedActionDispatchLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:ReactComposerNestedActionDispatchLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:ReactComposerNestedActionDispatchLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setInnerActionType=function(a){this.$1.inner_action_type=a;return this};c.setOuterActionType=function(a){this.$1.outer_action_type=a;return this};c.setStack=function(a){this.$1.stack=a;return this};return a}();c={inner_action_type:!0,outer_action_type:!0,stack:!0};f["default"]=a}),66);
__d("WorkUserNameQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7077336315670878"}),null);
__d("WorkUserNameQuery.graphql",["WorkUserNameQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"userID"}],c=[{kind:"Variable",name:"id",variableName:"userID"}],d={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WorkUserNameQuery",selections:[{alias:null,args:c,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WorkUserNameQuery",selections:[{alias:null,args:c,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("WorkUserNameQuery_facebookRelayOperation"),metadata:{},name:"WorkUserNameQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("ComposerStoryEditWebMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5310420198969733"}),null);
__d("ComposerStoryEditWebMutation.graphql",["ComposerStoryEditWebMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"StoryEditResponsePayload",kind:"LinkedField",name:"story_edit",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ComposerStoryEditWebMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ComposerStoryEditWebMutation",selections:c},params:{id:b("ComposerStoryEditWebMutation_facebookRelayOperation"),metadata:{},name:"ComposerStoryEditWebMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("ComposerStoryCreateWebMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7068852136522717"}),null);
__d("ComposerStoryCreateWebMutation.graphql",["ComposerStoryCreateWebMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"StoryCreateResponsePayload",kind:"LinkedField",name:"story_create",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"story_id",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_token",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ComposerStoryCreateWebMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ComposerStoryCreateWebMutation",selections:c},params:{id:b("ComposerStoryCreateWebMutation_facebookRelayOperation"),metadata:{},name:"ComposerStoryCreateWebMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("ComposerEditCallsite",[],(function(a,b,c,d,e,f){a=Object.freeze({FB_FEED:"fb_feed",TIMELINE:"timeline",DRAFTS_DASH:"drafts_dash",MARKETPLACE:"marketplace",PAGE_CONTENT_TAB:"page_content_tab",PERMALINK:"permalink",GROUP_MALL:"group_mall",PAGES:"pages",REP_TAGGING:"rep_tagging",CREATOR_STUDIO_CONTENT_LIBRARY:"creator_studio_content_library",CIVIC_CTA:"civic_cta"});f["default"]=a}),66);
__d("ComposerPublishType",[],(function(a,b,c,d,e,f){a=Object.freeze({FEED_INSERT:1,DIALOG:2,REPLACE_COMPOSER:3,INSERT_IN_DIALOG:4,PAGE_CONTENT_TAB:5});f["default"]=a}),66);
__d("ComposerPublisherSupportedParameters",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTION_TYPE_ID:"action_type_id",ANIMATED_IMAGE:"animated_image",ASKED_FUN_FACT_PROMPT_DATA:"asked_fun_fact_prompt_data",ATTACHMENT:"attachment",BACKDATED_DATE:"backdated_date",CHARITY_ID:"charity_id",COMPOSER_ATTACHMENT_SELL_AUDIENCE_TARGET_IDS:"composer_attachment_sell_audience_target_ids",COMPOSER_ATTACHMENT_SELL_CONDITION:"composer_attachment_sell_condition",COMPOSER_ATTACHMENT_SELL_CURRENCY:"composer_attachment_sell_currency",COMPOSER_ATTACHMENT_SELL_LOCATION_PAGE_ID:"composer_attachment_sell_location_page_id",COMPOSER_ATTACHMENT_SELL_PRICE:"composer_attachment_sell_price",COMPOSER_ATTACHMENT_SELL_PICKUP_NOTE:"composer_attachment_sell_pickup_note",COMPOSER_ATTACHMENT_SELL_TITLE:"composer_attachment_sell_title",COMPOSER_CUSTOM_ACCESSIBILITY_CAPTION:"composer_custom_accessibility_caption",COMPOSER_ENTRY_POINT:"composer_entry_point",COMPOSER_ENTRY_TIME:"composer_entry_time",COMPOSER_HAS_CROP:"composer_has_crop",COMPOSER_HAS_FILTER:"composer_has_filter",COMPOSER_SESSION_DURATION:"composer_session_duration",COMPOSER_SESSION_ID:"composer_session_id",COMPOSER_SOURCE_SURFACE:"composer_source_surface",COMPOSER_TEXT_BLOCK_DATA:"block_data",COMPOSER_TEXT_BLOCK_DEPTHS:"block_depths",COMPOSER_TEXT_BLOCK_TYPES:"block_types",COMPOSER_TEXT_BLOCKS:"blocks",COMPOSER_TEXT_ENTITIES:"entities",COMPOSER_TEXT_INLINE_STYLES:"inline_styles",COMPOSER_UNPUBLISHED_PHOTO:"composer_unpublished_photo",COMPOSER_STICKER:"composer_sticker",COMPOSER_TEXT_OVERLAY:"composer_text_overlay",COMPOSER_TYPE:"composer_type",COMPOSERTAGS_CITY:"composertags_city",COMPOSERTAGS_PLACE:"composertags_place",COMPOSERTAGS_PLACE_NAME:"composertags_place_name",COMPOSERTAGS_SPONSORS:"composertags_sponsors",COMPOSERTAGS_WITH:"composertags_with",DELIGHT_RANGES:"delight_ranges",DETECTION_ANALYTICS_DATA:"detection_analytics_data",DIRECT_SHARE_STATUS:"direct_share_status",DRAFT:"draft",EDIT_ACTION_TYPE_ID:"edit_action_type_id",EDIT_ALBUM_ID:"edit_album_id",EDIT_ATTACHMENT:"edit_attachment",EDIT_COMPOSER_SESSION_ID:"edit_composer_session_id",EDIT_COMPOSERTAGS_CITY:"edit_composertags_city",EDIT_COMPOSERTAGS_PLACE:"edit_composertags_place",EDIT_COMPOSERTAGS_PLACE_NAME:"edit_composertags_place_name",EDIT_COMPOSERTAGS_WITH:"edit_composertags_with",EDIT_DELIGHT_RANGES:"edit_delight_ranges",EDIT_MULTILINGUAL_SPECIFIED_LANG:"edit_multilingual_specified_lang",EDIT_MULTILINGUAL_STATUS_LANGS:"edit_multilingual_status_langs",EDIT_MULTILINGUAL_STATUSES:"edit_multilingual_statuses",EDIT_HIDE_OBJECT_ATTACHMENT:"edit_hide_object_attachment",EDIT_ICON_ID:"edit_icon_id",EDIT_IS_EXPLICIT_PLACE:"edit_is_explicit_place",EDIT_OBJECT_ID:"edit_object_id",EDIT_OBJECT_STR:"edit_object_str",EDIT_PRIVACYX:"edit_privacyx",EDIT_SAVE_ONLY:"edit_save_only",EDIT_STORY_TOKEN:"edit_story_token",EDIT_XC_EDIT_CALLSITE:"edit_xc_edit_callsite",EDIT_XC_ENTSTORY_CONTEXT:"edit_xc_entstory_context",EDIT_XC_LINK_URL:"edit_xc_link_url",EDIT_COMPOSER_UNPUBLISHED_PHOTO:"edit_composer_unpublished_photo",EDIT_XC_STICKER_ID:"edit_xc_sticker_id",EDIT_XC_STORY_DOM_ID:"edit_xc_story_dom_id",EDIT_XC_SHARE_IMAGES:"edit_xc_share_images",EDIT_XC_SHARE_PARAMS:"edit_xc_share_params",EDIT_XC_SHARE_SUMMARY:"edit_xc_share_summary",EDIT_XC_SHARE_TARGET_TYPE:"edit_xc_share_target_type",EDIT_XC_SHARE_TITLE:"edit_xc_share_title",EDIT_XHPC_COMPOSERID:"edit_xhpc_composerid",EDIT_XHPC_MESSAGE:"edit_xhpc_message",EDIT_XHPC_MESSAGE_TEXT:"edit_xhpc_message_text",EVENT_TAG:"event_tag",EXTENSIBLE_SPROUTS_RANKER_REQUEST:"extensible_sprouts_ranker_request",FUN_FACT_PROMPT_ID:"fun_fact_prompt_id",HIDE_OBJECT_ATTACHMENT:"hide_object_attachment",FEED_TARGETED_DATA:"feed_targeted_data",BOOSTED_POST_CONFIG:"boosted_post_config",HOLIDAY_CARD:"holiday_card",ICON_ID:"icon_id",IS_AD_POST:"is_ad_post",IS_DIALOG_COMPOSER:"is_dialog_composer",IS_FORCED_RESHARE_OF_POST:"is_forced_reshare_of_post",IS_MARKDOWN:"is_markdown",IS_PLACELIST_POST:"is_placelist_post",IS_REACT:"is_react",IS_WELCOME_TO_GROUP_POST:"is_welcome_to_group_post",LIFE_EVENT_DATA:"life_event_data",LOCAL_DEV_PLATFORM_APP_INSTANCE:"local_dev_platform_app_instance",MULTILINGUAL_SPECIFIED_LANG:"multilingual_specified_lang",MULTILINGUAL_STATUS_LANGS:"multilingual_status_langs",MULTILINGUAL_STATUSES:"multilingual_statuses",MULTILINGUAL_RICH_TEXT:"multilingual_rich_text",NUM_KEYSTROKES:"num_keystrokes",NUM_PASTES:"num_pastes",OBJECT_ID:"object_id",OBJECT_STR:"object_str",OG_SUGGESTION_MECHANISM:"og_suggestion_mechanism",PAGE_RECOMMENDATION_IDS:"page_recommendation_ids",PAGE_RECOMMENDATION:"page_recommendation",PLACE_ATTACHMENT_SETTING:"place_attachment_setting",PLACE_LIST_ENTRY_POINT:"place_list_entry_point",PLACELIST_WITHIN_PAGE:"placelist_within_page",PLAY_WITH_FRIENDS_GAME_ID:"play_with_friends_game_id",POLL_QUESTION_DATA:"poll_question_data",POST_TO_MARKETPLACE:"post_to_marketplace",PRIVACYX:"privacyx",QN:"qn",SPONSOR_RELATIONSHIP:"sponsor_relationship",SCHEDULED:"scheduled",SCHEDULED_PUBLISH_TIME:"scheduled_publish_time",SHARE_DIALOG_ACTORID:"share_dialog_actorId",SHARE_DIALOG_AUDIENCETYPE:"share_dialog_audienceType",SHARE_DIALOG_COMPOSERSESSIONID:"share_dialog_composerSessionID",SHARE_DIALOG_MESSAGE:"share_dialog_message",SHARE_DIALOG_POSTID:"share_dialog_postId",SHARE_DIALOG_PRIVACY:"share_dialog_privacy",SHARE_DIALOG_ISFORCEDRESHAREOFPOST:"share_dialog_isForcedReshareOfPost",STORY_LIST_ATTACHMENT_DATA:"story_list_attachment_data",TARGETED_PRIVACY_DATA:"targeted_privacy_data",TEXT_FORMAT_PRESET_ID:"text_format_preset_id",UNPUBLISHED_CONTENT_TYPE:"unpublished_content_type",XC_LINK_URL:"xc_link_url",XC_STICKER_ID:"xc_sticker_id",XC_SHARE_IMAGES:"xc_share_images",XC_SHARE_PARAMS:"xc_share_params",XC_SHARE_SUMMARY:"xc_share_summary",XC_SHARE_TARGET_TYPE:"xc_share_target_type",XC_SHARE_TITLE:"xc_share_title",XHPC_AGGREGATED_STORY_COMPOSER:"xhpc_aggregated_story_composer",XHPC_COMPOSERID:"xhpc_composerid",XHPC_CONTEXT:"xhpc_context",XHPC_FINCH:"xhpc_finch",XHPC_FUNDRAISER_PAGE:"xhpc_fundraiser_page",XHPC_MESSAGE:"xhpc_message",XHPC_MESSAGE_TEXT:"xhpc_message_text",XHPC_PUBLISH_TYPE:"xhpc_publish_type",XHPC_TARGETID:"xhpc_targetid",XHPC_TIMELINE:"xhpc_timeline",XY_TAGS:"xy_tags"});f["default"]=a}),66);
__d("ComposerTargetType",[],(function(a,b,c,d,e,f){a=Object.freeze({SELF_USER:"feed",OTHER_USER:"wall",GROUP:"group",PAGE:"page",EVENT:"event",RECOMMENDATION:"recommendation",COMMUNITY_HELP_DRIVE:"community_help_drive",VOLUNTEERING_EVENT:"volunteering_event",CRISIS:"crisis",FUNDRAISER:"fundraiser",EXAMPLE:"example",MARKETPLACE:"marketplace",ALBUM:"album",OTHER:"other",MULTI_DIRECT:"multi_direct",LEARNING:"learning",LOCAL_COMMUNITY:"local_community",LOCAL_PLACE:"local_place",WORK_GROUP_LEARNING:"work_group_learning",SI_LEARNING_CLASS:"si_learning_class",GROUP_CHALLENGE:"group_challenge",GAME_HUB:"game_hub"});f["default"]=a}),66);
__d("OGComposerSuggestionMechanisms",[],(function(a,b,c,d,e,f){a=Object.freeze({MOVIE_THEATER_CHECKIN:"movie_theater_checkin",AIRPORT_CHECKIN:"airport_checkin",HOME_CHECKIN:"home_checkin",COOL_PLACE_CHECKIN:"cool_place_checkin",TRAIN_CHECKIN:"train_checkin",CURRENT_SONG:"current_song",RECENT_ACTION:"recent_action",AUDIO_FINGERPRINT:"audio_fingerprint",WHITELISTED_SUGGESTION:"whitelisted_suggestion",UNIT_TEST:"unit_test",FEED_SPECIFIC_SUGGESTION:"feed_specific_suggestion",DETECTED_FROM_TEXT_INPUT:"detected_from_text_input",EVENT_VENUE_CHECKIN:"event_venue_checkin",SUPPORTING_CLASSIFIER:"supportingclassifier",LISTENING_LINK_CLASSIFIER:"listeninglinkclassifier",LINK_TO_OG_CLASSIFIER:"link_to_og_classifier",GK_BASED_SUGGESTION_CLASSIFIER:"gk_based_suggestion_classifier",EVENT_TO_ATTEND:"event_to_attend",GK_BASED_PRODUCTION_PROMPT_CLASSIFIER:"gk_based_production_prompt_classifier",MOVIE_THEATER_CHECKIN_SUGGESTIFIER:"movie_theater_checkin_suggestifier",AIRPORT_CHECKIN_SUGGESTIFIER:"airport_checkin_suggestifier",COOL_PLACE_CHECKIN_SUGGESTIFIER:"cool_place_checkin_suggestifier",TRAIN_CHECKIN_SUGGESTIFIER:"train_checkin_suggestifier",EVENT_VENUE_CHECKIN_SUGGESTIFIER:"event_venue_checkin_suggestifier",EVENT_TO_ATTEND_SUGGESTIFIER:"event_to_attend_suggestifier",SPA_CHECKIN:"spa_checkin",SPA_CHECKIN_SUGGESTIFIER:"spa_checkin_suggestifier",MEDICAL_CHECKIN:"medical_checkin",MEDICAL_CHECKIN_SUGGESTIFIER:"medical_checkin_suggestifier",TRANSPORTATION_CHECKIN:"transportation_checkin",TRANSPORTATION_CHECKIN_SUGGESTIFIER:"transportation_checkin_suggestifier",SWEETS_SHOP_CHECKIN:"sweets_shop_checkin",SWEETS_SHOP_CHECKIN_SUGGESTIFIER:"sweets_shop_checkin_suggestifier",FAST_FOOD_CHECKIN:"fast_food_checkin",FAST_FOOD_CHECKIN_SUGGESTIFIER:"fast_food_checkin_suggestifier",SPECIFIC_CUISINE_CHECKIN:"specific_cuisine_checkin",SPECIFIC_CUISINE_SUGGESTIFIER:"specific_cuisine_checkin_suggestifier",TOPIC_BAR_CHECKIN:"topic_bar_checkin",TOPIC_BAR_CHECKIN_SUGGESTIFIER:"topic_bar_checkin_suggestifier",RESTAURANT_CHECKIN:"restaurant_checkin",RESTAURANT_CHECKIN_SUGGESTIFIER:"restaurant_checkin_suggestifier",COFFEE_SHOP_CHECKIN:"coffee_shop_checkin",COFFEE_SHOP_SUGGESTIFIER:"coffee_shop_checkin_suggestifier",MINUTIAE_TO_PLACE_MOVIE_THEATER_CHECKIN:"minutiae_to_place_movie_theater_checkin",MINUTIAE_TO_PLACE_TRAVELING_CHECKIN:"minutiae_to_place_traveling_checkin",MINUTIAE_TO_PLACE_EVENT_TO_ATTEND:"minutiae_to_place_event_to_attend",MINUTIAE_TO_PLACE_CELEBRATING:"minutiae_to_place_celebrating",MINUTIAE_TO_PLACE_FEELING_HUNGRY:"minutiae_to_place_feeling_hungry",MINUTIAE_TO_PLACE_GAME_STADIUM_CHECKIN:"minutiae_to_place_game_stadium_checkin",MINUTIAE_TO_PLACE_CONCERT_VENUE_CHECKIN:"minutiae_to_place_concert_venue_checkin",MINUTIAE_TO_PLACE_COOL_PLACE_CHECKIN:"minutiae_to_place_cool_place_checkin",MINUTIAE_TO_PLACE_FEELING_RELAXED:"minutiae_to_place_feeling_relaxed",MINUTIAE_TO_PLACE_CELEBRATING_HOLIDAY:"minutiae_to_place_celebrating_holiday",MINUTIAE_TO_PLACE_FEELING:"minutiae_to_place_feeling",MINUTIAE_TO_PLACE_FEELING_TO_HOTEL_CHECKIN:"minutiae_to_place_feeling_hotel_checking",MINUTIAE_TO_PLACE_CELEBRATING_EXPERIMENT:"minutiae_to_place_celebrating_experiment"});f["default"]=a}),66);
__d("ReactComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({COMPOSER_ENTRY:null,COMPOSER_CANCEL:null,COMPOSER_NAVIGATE_AWAY_ATTEMPT:null,COMPOSER_SHARESHEET_POST_CLICKED:null,INIT_CONFIG:null,PAGES_IG_PHOTO_UPLOAD_STARTED:null,PAGES_JOB_AUTOCONVERT_STARTED:null,PAGES_OFFER_AUTOCONVERT_STARTED:null,POST_ERROR:null,POST_STARTED_LOGGING_ONLY_DO_NOT_USE:null,POST_STARTED:null,POST_INTENDED:null,POST_SUCCEEDED:null,POST_FINALLY:null,POST_PREPROCESSING:null,PUBLISH_STARTED:null,PUBLISH_SUCCEEDED:null,COMPOSER_RESET:null,EXPAND_SPROUTS:null,COLLAPSE_SPROUTS:null,FEATURE_INTENT:null,FEATURE_DONE:null,FEATURE_CANCEL:null,FOLDER_DROPPED:null,SCHEDULE:null,DRAFT:null,SAVE_STARTED:null,SET_LOGGED_SPROUT_PROMOTION_VIEW:null,SET_FINISHED_SPROUT_PROMOTION:null,SET_QUEUE_FINISHED_SPROUT_PROMOTION:null,SPROUT_VIEW_UPDATE:null,SET_IS_RUNNING_INTERCEPTION:null},"ReactComposerActionTypes");g["default"]=a}),98);
__d("ReactComposerOptimisticPostingActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({START_OPTIMISTICALLY_POSTING:null,FINISH_OPTIMISTICALLY_POSTING:null},"ReactComposerOptimisticPostingActionType");g["default"]=a}),98);
__d("ReactComposerLoggingQueue",["invariant","Bootloader","killswitch","requireWeak"],(function(a,b,c,d,e,f,g,h){var i=null;c("requireWeak")("ReactComposerLoggingStore",function(a){i=a});var j=[];function a(a){if(a&&a.suppressWaterfallLogging)return;a&&a.composerID||h(0,1573);if(i&&i.isActivated(a.composerID))return;j.push(a)}function b(a,b,d,e){c("Bootloader").loadModules(["ComposerXSessionIDs","ComposerXMarauderLogger","ReactComposerPerfLogger","ReactComposerLoggingStore"],function(g,h,j,f){c("killswitch")("COMPOSER_LAZY_INITIALIZE_SESSION_ID")&&g.resetSessionID(a),h.registerComposer(b,d,e),j.registerComposer(b,e.targetType,e.ref,d),f.activate(a)},"ReactComposerLoggingQueue")}function d(){return j.shift()}function e(){return j.length}g.add=a;g.initBootload=b;g.pop=d;g.getLength=e}),98);
__d("ReactComposerDispatcher",["Dispatcher_DEPRECATED","ReactComposerLoggingQueue","ReactComposerNestedActionDispatchTypedLogger"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this)||this;b.$ReactComposerDispatcher1=[];return b}var e=b.prototype;e.dispatch=function(b){if(this.isDispatching())new(c("ReactComposerNestedActionDispatchTypedLogger"))().setOuterActionType(this.$ReactComposerDispatcher2.type).setInnerActionType(b.type).setStack(new Error().stack).log(),this.$ReactComposerDispatcher1.push(b);else{this.$ReactComposerDispatcher2=b;a.prototype.dispatch.call(this,b);delete this.$ReactComposerDispatcher2;if(this.$ReactComposerDispatcher1.length>0){var e=this.$ReactComposerDispatcher1.shift();this.dispatch(e)}}d("ReactComposerLoggingQueue").add(b)};return b}(c("Dispatcher_DEPRECATED"));b=new a();g["default"]=b}),98);
__d("ReactComposerStoreBase",["EventEmitter","ReactComposerActionTypes","ReactComposerDispatcher","ReactComposerEvents"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e.$ReactComposerStoreBase1=c;e.$ReactComposerStoreBase2=new Map();e.$ReactComposerStoreBase3=b("ReactComposerDispatcher");e.$ReactComposerStoreBase4=e.$ReactComposerStoreBase3.register(function(a){switch(a.type){case b("ReactComposerActionTypes").COMPOSER_RESET:e.__cleanup(a);break}d(a)});return e}var d=c.prototype;d.getComposerData=function(a){var b=this.$ReactComposerStoreBase2.get(a);b||(b=this.$ReactComposerStoreBase1(),this.$ReactComposerStoreBase2.set(a,b));return b};d.clearComposerData=function(a){this.$ReactComposerStoreBase2.set(a,this.$ReactComposerStoreBase1())};d.addChangeListener=function(c){return a.prototype.addListener.call(this,b("ReactComposerEvents").CHANGE,c)};d.addListener=function(b,c,d){if(arguments.length===1&&typeof b==="function")return this.addChangeListener(b);else return a.prototype.addListener.apply(this,arguments)};d.emitChange=function(a){this.emit(b("ReactComposerEvents").CHANGE,{composerID:a})};d.getDispatchToken=function(){return this.$ReactComposerStoreBase4};d.getDispatcher=function(){return this.$ReactComposerStoreBase3};d.validateAction=function(a,b){b=[].concat(b);var c=b.map(function(b){if(a[b]===void 0)throw new Error("Action missing field: "+b);return a[b]});return b.length===1?c[0]:c};d.__cleanup=function(a){this.clearComposerData(a.composerID),this.emitChange(a.composerID)};return c}(b("EventEmitter"));e.exports=a}),null);
__d("ReactComposerActionStore",["Arbiter","AsyncResponse","ReactComposerActionTypes","ReactComposerEvents","ReactComposerOptimisticPostingActionType","ReactComposerStoreBase"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){b=b?b:function(){return null};var e;b=a.call(this,b,function(a){if(!(e&&e.__shouldIgnoreAction(a)))switch(a.type){case c("ReactComposerActionTypes").POST_STARTED:e&&e.$ReactComposerActionStore2(a);break;case c("ReactComposerActionTypes").POST_INTENDED:e&&e.$ReactComposerActionStore3(a);break;case c("ReactComposerOptimisticPostingActionType").START_OPTIMISTICALLY_POSTING:e&&e.$ReactComposerActionStore4(a);break;case c("ReactComposerActionTypes").POST_SUCCEEDED:e&&e.$ReactComposerActionStore5(a);break;case c("ReactComposerActionTypes").POST_ERROR:e&&e.$ReactComposerActionStore6(a);break;case c("ReactComposerActionTypes").POST_FINALLY:e&&e.$ReactComposerActionStore7(a);break;case c("ReactComposerActionTypes").POST_PREPROCESSING:e&&e.$ReactComposerActionStore8(a);break;case c("ReactComposerActionTypes").SAVE_STARTED:e&&e.$ReactComposerActionStore9(a);break;default:}d&&d(a)})||this;e=babelHelpers.assertThisInitialized(b);b.$ReactComposerActionStore1=new Set();return b}var d=b.prototype;d.registerComposerID=function(a){this.$ReactComposerActionStore1.add(a)};d.$ReactComposerActionStore2=function(a){var b=this.validateAction(a,"composerID");this.__onPostStarted&&this.__onPostStarted(a);c("Arbiter").inform(c("ReactComposerEvents").POST_STARTED+b)};d.$ReactComposerActionStore4=function(a){a=this.validateAction(a,"composerID");c("Arbiter").inform(c("ReactComposerEvents").OPTIMISTIC_POST_STARTED+a)};d.$ReactComposerActionStore3=function(a){this.validateAction(a,["composerID","actorID","config","targetID"]),(!this.__canPost||this.__canPost(a))&&this.$ReactComposerActionStore2(a)};d.$ReactComposerActionStore5=function(a){var b=this.validateAction(a,"composerID");this.__onPostSucceeded&&this.__onPostSucceeded(a);c("Arbiter").inform(c("ReactComposerEvents").POST_SUCCEEDED+b)};d.$ReactComposerActionStore6=function(a){var b=this.validateAction(a,"composerID");c("Arbiter").inform(c("ReactComposerEvents").POST_FAILED+b);if(this.__onPostError)return this.__onPostError(a);a.response&&c("AsyncResponse").defaultErrorHandler(a.response)};d.$ReactComposerActionStore7=function(a){this.__onPostFinally&&this.__onPostFinally(a),c("Arbiter").inform(c("ReactComposerEvents").POST_FINALLY)};d.$ReactComposerActionStore8=function(a){this.__onPostPreprocessing&&this.__onPostPreprocessing(a)};d.$ReactComposerActionStore9=function(a){var b=this.validateAction(a,"composerID");this.__onSaveStarted&&this.__onSaveStarted(a);c("Arbiter").inform(c("ReactComposerEvents").POST_STARTED+b)};d.__shouldIgnoreAction=function(a){a=this.validateAction(a,"composerID");return!this.$ReactComposerActionStore1.has(a)};return b}(c("ReactComposerStoreBase"));g["default"]=a}),98);
__d("ReactComposerAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({REGISTER_ATTACHMENT:null,INITIALIZE_ATTACHMENT:null,SELECT_ATTACHMENT_LOGGING_ONLY_DO_NOT_USE:null,SELECT_ATTACHMENT:null,SET_ATTACHMENT_MARKUP:null,SET_INITIALIZED:null,SET_BOOTLOADED:null,SET_BOOTSTRAPPED:null,SET_CONTENT_MULTI_SHARE:null,UPLOAD_ATTACHMENT:null},"ReactComposerAttachmentActionType");g["default"]=a}),98);
__d("ReactComposerScrapedAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({ATTACHMENT_SCRAPE_ENABLED:null,ATTACHMENT_PERMISSIVE_MATCH_SETTED:null,ATTACHMENT_SCRAPE_INTENDED:null,ATTACHMENT_SCRAPED:null,ATTACHMENT_SCRAPE_CLEARED:null,ATTACHMENT_CAROUSEL_UPLOAD:null,ATTACHMENT_SELECT_COLLECTION:null,ATTACHMENT_SHARE_SELECTED:null,ATTACHMENT_TITLE_EDITED:null,ATTACHMENT_DESCRIPTION_EDITED:null,ATTACHMENT_IMAGE_DESELECTED:null,ATTACHMENT_BREAKING_CONFIG_SET:null,ATTACHMENT_CLEAR_SPINNER:null},"ReactComposerScrapedAttachmentActionType");g["default"]=a}),98);
__d("ReactComposerSproutsDisplayState",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({INLINE:null,EXPANDED:null},"ReactComposerSproutsDisplayState");g["default"]=a}),98);
__d("SproutConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a=3;f.MAX_INLINE_SPROUTS_COUNT=a}),66);
__d("ReactComposerStore",["Bootloader","ReactComposerActionStore","ReactComposerActionTypes","ReactComposerAttachmentActionType","ReactComposerInit","ReactComposerScrapedAttachmentActionType","ReactComposerSproutsDisplayState","SproutConfigConstants"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;b=a.call(this,function(){return{isActive:!1,orderedSprouts:[],orderedInlineSprouts:[],serverErrorResponse:null,posting:!1,postSucceeded:!1,publishing:!1,rankerRequestID:null,sproutSurface:null,ref:null,targetType:null,sproutsDisplayState:c("ReactComposerSproutsDisplayState").INLINE,scheduledPublishTime:null,hasLoggedSproutPromotionView:!1,hasFinishedSproutPromotion:!1}},function(a){switch(a.type){case c("ReactComposerActionTypes").INIT_CONFIG:d&&d.$ReactComposerStore1(a);break;case c("ReactComposerActionTypes").DRAFT:d&&d.$ReactComposerStore2(a);break;case c("ReactComposerActionTypes").PUBLISH_STARTED:d&&d.$ReactComposerStore3(a);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT_LOGGING_ONLY_DO_NOT_USE:d&&d.$ReactComposerStore4(a);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerStore4(a);break;case c("ReactComposerActionTypes").EXPAND_SPROUTS:d&&d.$ReactComposerStore5(a);break;case c("ReactComposerActionTypes").COLLAPSE_SPROUTS:d&&d.$ReactComposerStore6(a);break;case c("ReactComposerAttachmentActionType").UPLOAD_ATTACHMENT:case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:d&&d.$ReactComposerStore7(a);break;case c("ReactComposerActionTypes").SCHEDULE:d&&d.$ReactComposerStore8(a);break;case c("ReactComposerActionTypes").SET_LOGGED_SPROUT_PROMOTION_VIEW:d&&d.$ReactComposerStore9(a);break;case c("ReactComposerActionTypes").SET_FINISHED_SPROUT_PROMOTION:d&&d.$ReactComposerStore10(a);break;case c("ReactComposerActionTypes").SET_QUEUE_FINISHED_SPROUT_PROMOTION:d&&d.$ReactComposerStore11(a);break;case c("ReactComposerActionTypes").PAGES_IG_PHOTO_UPLOAD_STARTED:d&&d.handleIgPhotoUploadStarted(a);break;case c("ReactComposerActionTypes").PAGES_JOB_AUTOCONVERT_STARTED:d&&d.$ReactComposerStore12(a);break;case c("ReactComposerActionTypes").PAGES_OFFER_AUTOCONVERT_STARTED:d&&d.$ReactComposerStore13(a);break;case c("ReactComposerAttachmentActionType").SET_BOOTLOADED:d&&d.$ReactComposerStore14(a);break;case c("ReactComposerActionTypes").SET_IS_RUNNING_INTERCEPTION:d&&d.$ReactComposerStore15(a);break}})||this;d=babelHelpers.assertThisInitialized(b);return b}var e=b.prototype;e.$ReactComposerStore8=function(a){var b=this.getComposerData(a.composerID);b.unpublishedContentType="SCHEDULED";b.scheduledPublishTime=a.scheduleDate};e.$ReactComposerStore2=function(a){a=this.getComposerData(a.composerID);a.unpublishedContentType="DRAFT";a.scheduledPublishTime=null};e.getScheduledPublishTime=function(a){return this.getComposerData(a).scheduledPublishTime};e.getServerErrorResponse=function(a){return this.getComposerData(a).serverErrorResponse};e.getRef=function(a){return this.getComposerData(a).ref};e.getTargetType=function(a){return this.getComposerData(a).targetType};e.getOrderedSprouts=function(a){return this.getComposerData(a).orderedSprouts};e.getDisplayedSprouts=function(a){a=this.getComposerData(a);return a.sproutsDisplayState==c("ReactComposerSproutsDisplayState").EXPANDED?a.orderedSprouts:a.orderedInlineSprouts};e.getRankerRequestID=function(a){return this.getComposerData(a).rankerRequestID};e.isSaving=function(a){return Boolean(this.getComposerData(a).saving)};e.isPosting=function(a){return this.getComposerData(a).posting};e.hasPostSucceeded=function(a){return this.getComposerData(a).postSucceeded};e.isActive=function(a){return this.getComposerData(a).isActive};e.isPublishing=function(a){return this.getComposerData(a).publishing};e.getSproutsDisplayState=function(a){return this.getComposerData(a).sproutsDisplayState};e.getSproutSurface=function(a){a=this.getComposerData(a);return a.sproutsDisplayState===c("ReactComposerSproutsDisplayState").INLINE?a.inlineSproutSurface:a.sproutSurface};e.hasLoggedSproutPromotionView=function(a){return this.getComposerData(a).hasLoggedSproutPromotionView};e.hasFinishedSproutPromotion=function(a){return this.getComposerData(a).hasFinishedSproutPromotion};e.getClearSproutPromotionOnNewComposer=function(a){return this.getComposerData(a).clearSproutPromotionOnNewComposer};e.isUploading=function(a){return this.getComposerData(a).uploading};e.shouldShowVoiceSwitcherNux=function(a){return this.getComposerData(a).shouldShowVoiceSwitcherNux};e.handleIgPhotoUploadStarted=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.posting=!0;this.emitChange(b)};e.__shouldIgnoreAction=function(a){return!1};e.__onPostStarted=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.posting=!0;this.emitChange(b)};e.__onPostPreprocessing=function(a){this.__onPostStarted(a)};e.__onPostSucceeded=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.serverErrorResponse=null;a.posting=!1;a.postSucceeded=!0;a.publishing=!1;this.emitChange(b)};e.__onPostError=function(a){var b=this.validateAction(a,"composerID"),c=this.getComposerData(a.composerID);c.serverErrorResponse=a.response;c.posting=!1;c.postSucceeded=!1;c.publishing=!1;this.emitChange(b)};e.__onPostFinally=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.posting=!1;a.publishing=!1;a.saving=!1;this.emitChange(b)};e.__onSaveStarted=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.saving=!0;this.emitChange(b)};e.$ReactComposerStore1=function(a){var b=this.validateAction(a,["composerID","loggingConfig","activateOnInit"]),c=b[0],e=b[1];b=b[2];var f=this.getComposerData(c);f.ref=e.ref;f.composerVersion=e.composerVersion;f.targetType=e.targetType;f.rankerRequestID=e.rankerRequestID||null;f.sproutSurface=e.sproutSurface||null;f.inlineSproutSurface=e.inlineSproutSurface||null;f.lazySproutsExpand=a.lazySproutsExpand||!1;f.actorType=e.actorType||"other";f.composerFlow=e.composerFlow||"unknown";f.composerLayout=e.composerLayout||"unknown";f.entryPoint=e.entryPoint||"unknown";f.composerLocation=e.composerLocation||"unknown";var g=e.actorID,h=e.isActorAPage;f.actorID=g?g:null;f.isActorAPage=h?h:!1;h=(g=e.destinationsConfig)==null?void 0:g.destinations;if(h){e=!1;g=!1;var i=!1,j=!1;h.map(function(a){switch(a.type){case"story":e=!0;break;case"groups":i=!0;break;case"instagram":g=!0;j=a.extra_config.instagram.isEnabled==!0;break;default:break}});f.pageComposerDestinationsConfig={isSharesheetEnabled:!0,showStorySection:e,showInstagramSection:g,showGroupSection:i,isInstagramAuthenticated:j}}f.orderedSprouts=[];f.orderedInlineSprouts=[];h=a.sproutsConfig;a=a.promotedSprout;if(h){a&&(f.orderedSprouts.push(a),f.orderedInlineSprouts.push(a));for(var k in h)h[k].enabled&&k!==a&&(f.orderedSprouts.push(k),f.orderedInlineSprouts.length<d("SproutConfigConstants").MAX_INLINE_SPROUTS_COUNT&&h[k].inline&&f.orderedInlineSprouts.push(k))}b&&this.$ReactComposerStore16(c);this.emitChange(c)};e.$ReactComposerStore9=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.hasLoggedSproutPromotionView=!0;this.emitChange(b)};e.$ReactComposerStore10=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.hasFinishedSproutPromotion=!0;a.clearSproutPromotionOnNewComposer=!0;this.emitChange(b)};e.$ReactComposerStore11=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.clearSproutPromotionOnNewComposer=!0;this.emitChange(b)};e.$ReactComposerStore3=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.publishing=!0;this.emitChange(b)};e.$ReactComposerStore12=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.posting=!0;this.emitChange(b)};e.$ReactComposerStore13=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.posting=!0;this.emitChange(b)};e.$ReactComposerStore7=function(a){var b=this.validateAction(a,"composerID"),c=this.getComposerData(a.composerID);c.uploading=a.uploading;this.emitChange(b)};e.$ReactComposerStore4=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.lazySproutsExpand||(b.sproutsDisplayState=c("ReactComposerSproutsDisplayState").EXPANDED);this.$ReactComposerStore16(a);this.emitChange(a)};e.$ReactComposerStore5=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.sproutsDisplayState=c("ReactComposerSproutsDisplayState").EXPANDED;this.emitChange(a)};e.$ReactComposerStore6=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.sproutsDisplayState=c("ReactComposerSproutsDisplayState").INLINE;this.emitChange(a)};e.$ReactComposerStore14=function(a){var b=this.validateAction(a,"composerID"),d=this.getComposerData(b);a.id==="LIVING_ROOM"&&d.sproutsDisplayState===c("ReactComposerSproutsDisplayState").INLINE&&(d.sproutsDisplayState=c("ReactComposerSproutsDisplayState").EXPANDED,this.emitChange(b))};e.$ReactComposerStore15=function(a){a=this.validateAction(a,["composerID","isRunningInterception"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.isRunningInterception=a;this.emitChange(b)};e.isRunningInterception=function(a){return!!this.getComposerData(a).isRunningInterception};e.$ReactComposerStore16=function(a){var b=this.getComposerData(a);b.isActive||(b.isActive=!0,c("Bootloader").loadModules(["curry","Run","ReactComposerHandleUnsavedChanges","URI"],function(b,c,d,e){c.onBeforeUnload(b(d.handler,a,e.getNextURI())),c.onUnload(b(d.possiblyLogComposerCancelEvent,a)),c.onLeave(b(d.possiblyLogComposerCancelEvent,a))},"ReactComposerStore"))};e.__cleanup=function(a){window.setTimeout(d("ReactComposerInit").resetComposer.bind(null,a.composerID),0)};return b}(c("ReactComposerActionStore"));b=new a();g["default"]=b}),98);
__d("ReactComposerInit",["invariant","Arbiter","ReactComposerEvents","ReactComposerIDGenerator","ReactComposerStore","ReactDOM","ge","ifRequired","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react"),j={_isUnmounting:!1,instances:new Map(),changeProps:function(a,b,c){c===void 0&&(c=!1),j.changePropsWithoutReset(a,b),j.resetComposer(a,c)},changePropsWithoutReset:function(a,b){a=j._getCurrentInstance(a);a.props=b},normalizeComposerID:function(a){a.contextConfig.composerID||(a.contextConfig.composerID=b("ReactComposerIDGenerator").getID());return a.contextConfig.composerID},init:function(a,c,d){var e=j.normalizeComposerID(c);a={ComposerModule:a,props:c,container:d,hidden:!1};j._render(a);j.instances.set(e,a);b("Arbiter").inform(b("ReactComposerEvents").INSTANCE_MOUNTED+e)},initWithoutRendering:function(a,c,d){var e=j.normalizeComposerID(c);a={ComposerModule:a,props:c,container:d,hidden:!1};j.instances.set(e,a);b("Arbiter").inform(b("ReactComposerEvents").INSTANCE_MOUNTED+e)},_render:function(a){var c=a.ComposerModule,d=a.props;a=a.container;b("ReactDOM").render(i.jsx(c,babelHelpers["extends"]({},d)),a,"ReactComposerInit.js")},_createNewComposer:function(a,c,d){d===void 0&&(d=!0),a.props.config!==void 0&&a.props.config.sproutsPromotionConfig&&a.props.config.sproutsPromotionConfig.promotionID&&(b("ReactComposerStore").getClearSproutPromotionOnNewComposer(a.props.contextConfig.composerID)&&(a.props.config.sproutsPromotionConfig={})),a.props.config!==void 0&&a.props.config.pagesComposerNuxConfig&&b("ifRequired")("PagesComposerNuxUtils",function(b){a.props.config.pagesComposerNuxConfig=b.updatePagesComposerNuxConfig(a.props.contextConfig.composerID)}),a.props.contextConfig.composerID=b("ReactComposerIDGenerator").getID(),d&&(a.props.prefillConfig={}),j.init(a.ComposerModule,a.props,c)},resetComposer:function(a,c){c===void 0&&(c=!0);var d=j._getCurrentInstance(a);j.unmountInstance(a);d.hidden?d.container.parentNode&&d.container.parentNode.removeChild(d.container):j._createNewComposer(d,d.container,c);c=d.props.contextConfig.composerID;b("Arbiter").inform(b("ReactComposerEvents").COMPOSER_RESET+a,{newComposerID:c});return c},hideComposer:function(a){a=j._getCurrentInstance(a);a.container.style.display="none";a.hidden=!0},showComposer:function(a){a=j._getCurrentInstance(a);a.container.style.display="block";a.hidden=!1},hideAndReplaceComposer:function(a){var c=j._getCurrentInstance(a),d=c.container.cloneNode(!1);c.container.removeAttribute("id");c.container.parentNode&&c.container.parentNode.insertBefore(d,c.container);j.hideComposer(a);j._createNewComposer(c,d);b("Arbiter").inform(b("ReactComposerEvents").COMPOSER_RESET+a,{newComposerID:c.props.contextConfig.composerID})},isInstanceMounted:function(a){return!!j.instances.get(a)},unmountInstance:function(a){if(j.isInstanceMounted(a)&&!j._isUnmounting){var c=j._getCurrentInstance(a);c=c.props;if(c.config!==void 0&&c.config.dialogComposer&&c.config.dialogElementID!=null){c=b("ge")(c.config.dialogElementID);c!=null&&c.remove()}j._isUnmounting=!0;j._unmountReact(a);j._isUnmounting=!1;j.instances["delete"](a)}},_unmountReact:function(a){var c=j._getCurrentInstance(a);b("ReactDOM").unmountComponentAtNode(c.container,e.id);b("Arbiter").inform(b("ReactComposerEvents").COMPOSER_UNMOUNT+a);return c},_getCurrentInstance:function(a){var b=j.instances.get(a);b||g(0,2272,a);return b}};e.exports=j}),null);
__d("PagesComposerContextUtils",["ReactComposerStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a==="page_content_tab_published_posts"||a==="page_content_tab_published_posts_opted_out"||a==="page_content_tab_scheduled_posts"||a==="page_content_tab_scheduled_posts_opted_out"||a==="page_content_tab_drafts"||a==="pages_shop_tab"||h(a)||a==="page_content_tab_ads_posts"||a==="page_content_tab_ads_posts_deprecation"||a==="page_content_tab_video_library"||a==="page_content_tab_video_library_living_room_cta"||a==="page_content_tab_living_room_megaphone"||a==="page_content_tab_video_library_premiere"||a==="page_content_ads_asset_video_library"||a==="page_content_tab_canvas"||a==="page_content_tab_reference_library"||a==="page_content_tab_season_details"||a==="page_content_tab_playlist_details"||a==="page_left_nav_create_post_button"||a==="page_publishing_tool_vck"||a==="page_tips"||a==="page_admin_journey"||a==="endorsement_module"||a==="pages_promotions_hub_coupon_tab"||a==="ads_create"||a==="ads_power_editor"||a==="pages_profile_pic_add_story"||a==="pages_archived_story_card_viewer"||a==="PAGES_INSIGHT_TAB_STORIES"||a==="pages_insight_tab_published_posts"}function b(a){return a==="page_left_nav_create_post_button"||a==="page_tips"||a==="pages_shop_tab"||a==="page_admin_journey"||a==="endorsement_module"||a==="pages_profile_pic_add_story"}function d(a){return a==="pages_profile_pic_add_story"||a==="pages_archived_story_card_viewer"||a==="PAGES_INSIGHT_TAB_STORIES"}function e(a,b){return(a==="pages_feed"||a==="pages_posts")&&b}function f(a,b,d){b=c("ReactComposerStore").getComposerData(b);b=b.targetType;return b==="page"&&!!d&&a===d}function h(a){return a==="page_content_tab_draft_edit"||a==="pages_draft_post_reminders"}function i(a){return a==="pages_feed"||a==="pages_posts"}function j(a){return a==="page_content_tab_published_posts"||a==="page_content_tab_published_posts_opted_out"||a==="page_content_tab_scheduled_posts"||a==="page_content_tab_scheduled_posts_opted_out"}g.getIsDialogComposer=a;g.getIsPageTabDialogComposer=b;g.getIsStoryComposer=d;g.getIsInlineDialogComposer=e;g.isPageAdminPostingInPage=f;g.getIsDraftComposer=h;g.getIsPageComposer=i;g.getIsValidForBizComposerToggle=j}),98);
__d("PagesComposerGraphMLGate",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a,b){g[a]=b}function h(a){return!a?null:g[a]}function b(a){a=h(a);return a?a.useMLForVisitorStatusCreation:!1}function c(a){a=h(a);return a?a.useMLForFeedTargetingFeature:!1}function d(a){a=h(a);return a?a.useMLForMediaPostCreation:!1}function e(a){a=h(a);return a?a.useMLForPageCTAPostCreation:!1}function i(a){a=h(a);return a?a.useMLForBoostedPostConfig:!1}f.register=a;f.getInstance=h;f.shouldUseGraphMLForVisitorStatus=b;f.shouldUseGraphMLForFeedTargetingFeature=c;f.shouldUseGraphMLForMediaPostCreation=d;f.shouldUseGraphMLForPageCTAPostCreation=e;f.shouldUseGraphMLForBoostedPostFeature=i}),66);
__d("PageContentTabConstants",["PageContentTabConfig","PageContentTabTabs","keyMirrorRecursive"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirrorRecursive")({ACTIVATE:"",ALLOW_CROSSPOSTING_OF_THIS_VIDEO:"",APPLY_BLOCK_LIST:"",AUDIENCE_ALERT:{BEGIN:"",CLOSE:"",CREATE:"",CREATION_FAILED:"",CREATION_SUCCESS:"",TURN_OFF:"",TURN_ON:"",TURNING_OFF_FAILED:"",TURNING_OFF_SUCCESS:"",VIEW:""},BACKDATE:"",CANCEL:"",CANCEL_ORDER:"",CANCEL_OR_DELETE:"",CONTACT_BUYER:"",CONVERT_LEGACY_VIDEO_TO_L3_VIDEO:"",CREATE_EXPERIMENT:"",CROSSPOSTING_WITHIN_BUSINESS:"",DEACTIVATE:"",DELETE_FUNDRAISER:"",DELETE:"",MARK_AS_EPISODE:"",MARK_AS_NON_EPISODE:"",MARK_OUT_OF_STOCK:"",MARK_IN_STOCK:"",DELETE_SEASON:"",DELETE_PLAYLIST:"",DOWNLOAD_VIDEO_SD:"",DOWNLOAD_VIDEO_HD:"",DUPLICATE:"",EDIT_COPYRIGHT:"",EDIT_EXPIRATION:"",EDIT:"",EMBEDDABLE:"",MONETIZE:"",UNMONETIZE:"",EXPIRE_NOW:"",FEED_TYPE:"",FRAMES:{ACTIVATE:"",DEACTIVATE:"",DELETE:""},HIDE:"",HIGHLIGHT_IN_VIDEO_FEED:"",INSIGHTS:"",INSTANT_ARTICLE_CTA:{ACTIVATE:"",DEACTIVATE:"",EDIT:""},LEAD_ADS_FORMS:{ACTIVATE:"",ARCHIVE:"",DELETE:"",MANAGE:"",PREVIEW:"",DOWNLOAD_LEADS:""},MAKE_FEATURED:"",MAKE_PAGE_TRAILER:"",NEW_POST_FROM_VIDEO_ASSET:"",PAGE_ELIGIBILITY_GROUPS:{LOADED:""},POSTS_CONFIG:{URL_INPUT_CHANGED:"",VALIDATE_URL_BEGIN:"",VALIDATE_URL_LOADED:"",VALIDATE_URL_ERROR:""},PRINT_INVOICE:"",PUBLISH_FUNDRAISER:"",PUBLISH_TO_NEWS_FEED:"",PUBLISH_TO_VIDEOS_TAB:"",PUBLISH:"",REFUND_ORDER:"",REJECT:"",REMOVE_FROM_PLAYLIST:"",REMOVE_FROM_SEASON:"",REPUBLISH:"",RESCHEDULE:"",SCHEDULE:"",SHIP_ORDER:"",SOCIAL_ACTIONS:"",UNHIGHLIGHT_IN_VIDEO_FEED:"",UNPUBLISH_FUNDRAISER:"",UNSCHEDULE:"",VIEW_POST:"",VIDEO_LIBRARY_TOUR_STARTED:"",VIDEO_LIBRARY_TOUR_COMPLETED:"",VIDEO_LIBRARY_TOUR_RESUMED:"",SHARE:"",PROMOTE:"",BOOST:"",REMOVE_FROM_TOUR:"",ADD_TO_TOUR:""});b=c("keyMirrorRecursive")({POST:"",MANUAL_REVIEW_ACTION:"",BOOST_POST:"",BRANDED_CONTENT_BRAND:"",BRANDED_CONTENT_CREATOR:"",DATE_CREATED:"",DATE_LAST_MODIFIED:"",DELIVERED:"",MARKUP_EDITOR:"",PROMOTION_STATUS:"",SCHEDULED_PUBLISH_TIME:"",PRODUCT:"",VISIBILITY:"",INVENTORY:"",IMPRESSIONS:"",INSIGHTS:"",MESSAGES:"",MESSAGE_SENDS:"",MESSAGE_SENT_DATE:"",ORDER_DATE:"",ORDER_ITEMS:"",ORDER_BUYER:"",ORDER_PRICE:"",ORDER_REFUND:"",ORDER_STATUS:"",PLAYLIST:"",PLAYLIST_NUM_VIDEOS:"",PLAYLIST_LAST_UPDATED:"",COLLECTION:"",EXPIRATION_INFO:"",PUBLISH_STATUS:"",ERRORS:"",WARNINGS:"",ID:"",REACH:"",ENGAGEMENT:"",RESULTS:"",PPTP:"",VIDEO:"",VIDEOS:"",VIDEO_ICONS:"",VIDEO_VIEWS:"",VIDEO_DATE_CREATED:"",VIDEO_EMBEDDABLE:"",VIDEO_SOCIAL_ACTIONS:"",LIVE_VIEWS:"",LIKE_COUNT:"",COMMENT_COUNT:"",TOTAL_VIEWS:"",JOB_POSTS:"",EPISODES:"",EPISODE_VIEWS:"",EPISODE_STATUS:"",FORM_DATE_CREATED:"",FORM_DOWNLOAD_CSV_URL:"",FORM_EDIT_BUTTON:"",FORM_NAME:"",FORM_LEADS_COUNT:"",FORM_EXPIRED_LEADS_COUNT:"",FORM_LOCALE:"",FORM_STATUS:"",FORM_PROMOTION_UPSELL:"",FORM_BLOCK_SHARING:"",MATCHING_VIDEO:"",MATCHING_PUBLISHER:"",REFERENCE_CONFLICTS:"",REFERENCE_CONFLICTS_DEADLINE:"",REFERENCE_MATCH_STATE:"",PUBLISHED_DATE:"",DATE_FOUND:"",OVERLAP:"",EXPIRES_DAYS:"",DISPUTE_EXPIRES_DAYS:"",REPORTED_VIDEO:"",LAST_MODIFIED_BY:"",FUNDRAISER:"",FUNDRAISER_STATUS:"",FUNDRAISER_DONORS:"",FUNDRAISER_LIKES:"",LOCATION_LANGUAGE:"",REORDERING:"",REFERENCE_VIDEO:"",ADS_CANVAS_NAME:"",ADS_CANVAS_UPDATE_TIME:"",ADS_CANVAS_IS_PUBLISHED:"",ADS_CANVAS_EDITOR:"",VIDEO_AUDIO:"",NEW_MATCHES:"",AUDIENCE_ALERTS:"",START_DATE:"",EXPIRATION_DATE:"",FRAME_PREVIEW:"",FRAME_STATUS:"",FRAME_CATEGORY:"",FRAME_APPROVAL:"",FRAME_ACTIVATES:"",RULE:"",FILES:"",MATCHES:"",PROMOTE:"",DATE_STARTED:"",STATUS:"",ICONS:"",VIEW:"",STATUS_TOGGLE:"",TITLE:"",LAST_EDITED:"",EDIT:"",PREVIEW:"",PROMOTION:"",LEADS:"",TYPE:"",SEASON:"",SEASON_NUM_EPISODES:"",SEASON_POSTED_UPLOADED:"",SEASON_SCHEDULING:"",SEASON_DETAILS:"",SEASON_LAST_UPDATED:"",IS_EPISODE:"",EVENT_INFO:"",NAME:"",LOCATION:"",POSITION:"",RECEIVED:"",SOUND_RECORDING:"",ATTRIBUTION_TITLE:"",ATTRIBUTION_STATUS:"",ATTRIBUTION_REF_FILE_COUNT:"",ATTRIBUTION_DATE_CREATED:"",ATTRIBUTION_RUN_COUNT:"",EXPERIMENT_PUBLISH_TIME:"",EXPERIMENT_NAME:"",EXPERIMENT_DESCRIPTION:"",EXPERIMENT_DURATION:"",EXPERIMENT_AUTHOR:"",ISRC:"",MONETIZATION_STATUS:"",AD_AFFINITY:"",EARNINGS:"",AUDIO_RELEASE_ALBUM_NAME:"",AUDIO_RELEASE_ARTIST_NAME:"",AUDIO_RELEASE_DATE_CREATED:"",AUDIO_RELEASE_LABEL_NAME:"",AUDIO_RELEASE_ICPN:"",AUDIO_RELEASE_STATUS:"",AUDIO_ASSET_TRACK_NUMBER:"",AUDIO_ASSET_TRACK_NAME:"",AUDIO_ASSET_ARTIST_NAME:"",AUDIO_ASSET_START_DATE:"",AUDIO_ASSET_ISRC:"",AUDIO_ASSET_AVAILABILITY_STATUS:"",AUDIO_LIBRARY_POLICY_TERRITORY:"",AUDIO_LIBRARY_POLICY_START_DATE:"",AUDIO_LIBRARY_POLICY_END_DATE:"",AUDIO_ASSET_GEO_AVAILABILITY_STATUS:""});d=c("keyMirrorRecursive")({BUTTONS:"",DATES:""});e=c("keyMirrorRecursive")({POSTS:"",VIDEOS:"",EVENTS:"",MESSAGES:"",LEAD_ADS_FORMS:"",VIDEOS_COPYRIGHT:"",SHOP:"",FUNDRAISERS:"",INSTANT_ARTICLES:"",CROSSPOSTED_VIDEOS:"",PROFILE_PICTURE_FRAMES:"",CURATED_COLLECTION:"",POLLS:"",JOBS:"",QR_CODE:"",BRANDED_CONTENT:"",GAMESHOW:"",MONETIZED_VIDEOS:"",REGISTRATIONS:"",POLITICAL_CONTENT:"",TOOLS:"",REWARDS:"",STORIES:""});f=c("keyMirrorRecursive")({ADD_POSTS:"",CREATE_POST:"",CREATE_POSTS:"",EDIT_POSTS:"",INIT_PAGE:"",REMOVE_POST:"",REMOVE_POSTS:"",FILTER:"",ERROR:"",PAGING_CHANGED:"",UPDATE_FILTER_STATUS:"",UPDATE_STALE_CONTENT_NOTICE:"",QUERY_KEY_CHANGED:"",QUERY_CHANGED:"",FILTER_CHANGED:"",SORT_CHANGED:"",SET_CUSTOM_TAB_STATE:"",BRING_POST_TO_TOP:"",SET_VIDEO_LIST_ID:"",SET_VIDEO_LIST_HEADER_INFO:"",REQUEST_VIDEO_LIST_HEADER_INFO:"",DYNAMIC_TAB_ADDED:""});var h=c("keyMirrorRecursive")({SERVER:"",VIEW_ACTION:""}),i=c("keyMirrorRecursive")({DESKTOP:"",MOBILE:"",INSTAGRAM:"",STORIES:""}),j="ASC",k="DESC",l="/ajax/edits/browser/post/";g.ACTIONS=a;g.COLUMNS=b;g.COLUMN_GROUPS=d;g.TABS=c("PageContentTabTabs");g.LEFT_NAV_GROUPS=e;g.ACTION_TYPES=f;g.PAYLOAD_SOURCES=h;g.PREVIEW_TABS=i;g.SORT_ORDER_ASC=j;g.SORT_ORDER_DESC=k;g.EDIT_HISTORY_ASYN_DIALOG=l;g.LIMIT=c("PageContentTabConfig").posts_per_page}),98);
__d("PagesComposerActionsTypes",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({ABANDON_OFFER_UPSELL:null,BACKDATE:null,CLEAR_COMPOSER_DATA:null,DID_SHOW_POST_CONFIRMATION:null,INSTAGRAM_CROSS_POSTING:null,PUBLISH_NOW:null,SCHEDULE:null,SET_ADS_POST:null,SET_BOOSTED_POST:null,SET_COMPOSER_TYPE:null,SET_CURRENT_LOCALE:null,SET_DRAFT:null,SET_INTERCEPTION_CONFIG:null,SET_IS_DIALOG_COMPOSER:null,SET_IS_REVIEWABLE_BRANDED_CONTENT:null,SET_IS_RUNNING_INTERCEPTION:null,SET_PAGES_COMPOSER_CONFIG:null,SET_PAGES_COMPOSER_CONTEXT_CONFIG:null,SET_PREVIEW:null,SHOW_OFFER_UPSELL:null,UPDATE_PREVIEW_CONFIG:null});g["default"]=a}),98);
__d("PagesComposerUnpublishedPostsStore",["ClientIDs","PageContentTabConstants","PagesComposerActionsTypes","ReactComposerStoreBase"],(function(a,b,c,d,e,f,g){"use strict";var h={backdateConfig:null,didShowPostConfirmation:!1,isAdsPost:!1,isDraft:!1,isOfferUpsellAbandoned:!1,isOfferUpsellShown:!1,isPreview:!1,isReviewableBrandedContent:!1,offerConfig:null,previewConfig:null,scheduledPublishTime:null,stopFeedDistributionDate:null};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return b=a.call(this,function(){return babelHelpers["extends"]({},h)},function(a){var d=babelHelpers.assertThisInitialized(b);switch(a.type){case c("PagesComposerActionsTypes").BACKDATE:a;d.$PagesComposerUnpublishedPostsStore1(a);break;case c("PagesComposerActionsTypes").SET_DRAFT:d.$PagesComposerUnpublishedPostsStore2(a);break;case c("PagesComposerActionsTypes").SCHEDULE:d.$PagesComposerUnpublishedPostsStore3(a);break;case c("PagesComposerActionsTypes").SET_ADS_POST:d.$PagesComposerUnpublishedPostsStore4(a);break;case c("PagesComposerActionsTypes").SHOW_OFFER_UPSELL:d.$PagesComposerUnpublishedPostsStore5(a);break;case c("PagesComposerActionsTypes").ABANDON_OFFER_UPSELL:d.$PagesComposerUnpublishedPostsStore6(a);break;case c("PagesComposerActionsTypes").SET_IS_REVIEWABLE_BRANDED_CONTENT:d.$PagesComposerUnpublishedPostsStore7(a);break;case c("PagesComposerActionsTypes").CLEAR_COMPOSER_DATA:d.$PagesComposerUnpublishedPostsStore8(a);break;case c("PagesComposerActionsTypes").PUBLISH_NOW:d.$PagesComposerUnpublishedPostsStore9(a);break;case c("PagesComposerActionsTypes").DID_SHOW_POST_CONFIRMATION:d.$PagesComposerUnpublishedPostsStore10(a);break;case c("PagesComposerActionsTypes").SET_PREVIEW:d.$PagesComposerUnpublishedPostsStore11(a);break;case c("PagesComposerActionsTypes").UPDATE_PREVIEW_CONFIG:d.$PagesComposerUnpublishedPostsStore12(a);break;default:}})||this}var e=b.prototype;e.getPostActionType=function(a){if(this.getIsPreview(a))return"PREVIEW";else if(this.getIsDraft(a))return"SAVE_DRAFT";else if(this.getBackdateConfig(a)!=null)return"BACKDATE";else if(this.getScheduledPublishTime(a)!=null||this.getStopFeedDistributionTime(a)!=null)return"SCHEDULE";else return"PUBLISH"};e.getDidShowPostConfirmation=function(a){return this.getComposerData(a).didShowPostConfirmation};e.getBackdateConfig=function(a){return this.getComposerData(a).backdateConfig};e.getIsDraft=function(a){return this.getComposerData(a).isDraft};e.getIsReviewableBrandedContent=function(a){return this.getComposerData(a).isReviewableBrandedContent};e.getScheduledPublishTime=function(a){return this.getComposerData(a).scheduledPublishTime};e.getStopFeedDistributionTime=function(a){return this.getComposerData(a).stopFeedDistributionDate};e.getIsAdsPost=function(a){return this.getComposerData(a).isAdsPost};e.getIsOfferUpsellShown=function(a){return this.getComposerData(a).isOfferUpsellShown};e.getIsOfferUpsellAbandoned=function(a){return this.getComposerData(a).isOfferUpsellAbandoned};e.getOfferConfig=function(a){return this.getComposerData(a).offerConfig};e.getIsPreview=function(a){return this.getComposerData(a).isPreview};e.getPreviewConfig=function(a){return this.getComposerData(a).previewConfig};e.$PagesComposerUnpublishedPostsStore10=function(a){var b=this.getComposerData(a.composerID);b.didShowPostConfirmation=!0;this.emitChange(a.composerID)};e.$PagesComposerUnpublishedPostsStore1=function(a){var b=this.getComposerData(a.composerID);b.backdateConfig={year:a.year,month:a.month,day:a.day,hideFromNewsFeed:a.hideFromNewsFeed};b.scheduledPublishTime=null;b.stopFeedDistributionDate=null;b.isDraft=!1;this.emitChange(a.composerID)};e.$PagesComposerUnpublishedPostsStore3=function(a){var b=this.getComposerData(a.composerID);b.scheduledPublishTime=a.scheduleDate;b.stopFeedDistributionDate=a.stopFeedDistributionDate;b.backdateConfig=null;b.isDraft=!1;this.emitChange(a.composerID)};e.$PagesComposerUnpublishedPostsStore2=function(a){var b=this.getComposerData(a.composerID);b.isDraft=!0;b.scheduledPublishTime=null;b.stopFeedDistributionDate=null;b.backdateConfig=null;this.emitChange(a.composerID)};e.$PagesComposerUnpublishedPostsStore4=function(a){a=this.getComposerData(a.composerID);a.isAdsPost=!0};e.$PagesComposerUnpublishedPostsStore5=function(a){a=this.validateAction(a,["composerID","config"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.offerConfig=a;c.isOfferUpsellShown=!0;this.emitChange(b)};e.$PagesComposerUnpublishedPostsStore6=function(a){a=this.getComposerData(a.composerID);a.isOfferUpsellAbandoned=!0};e.$PagesComposerUnpublishedPostsStore7=function(a){a=this.getComposerData(a.composerID);a.isReviewableBrandedContent=!0};e.$PagesComposerUnpublishedPostsStore8=function(a){this.clearComposerData(a.composerID)};e.$PagesComposerUnpublishedPostsStore9=function(a){var b=this.getComposerData(a.composerID);b.isDraft=!1;b.scheduledPublishTime=null;b.stopFeedDistributionDate=null;b.backdateConfig=null;this.emitChange(a.composerID)};e.$PagesComposerUnpublishedPostsStore11=function(a){var b=a.shouldReset,c=a.composerID;c=this.getComposerData(c);b===!0?(c.isPreview=!1,c.previewConfig=null):(c.isPreview=!0,c.previewConfig={isLoadingPreview:!0,previewPostID:null,renderID:d("ClientIDs").getNewClientID(),selectedPreviewTab:d("PageContentTabConstants").PREVIEW_TABS.DESKTOP,showPreviewDialog:!0});this.emitChange(a.composerID)};e.$PagesComposerUnpublishedPostsStore12=function(a){var b,c,d,e,f=this.getComposerData(a.composerID);b=a.previewConfig.isLoadingPreview!=null?a.previewConfig.isLoadingPreview:(b=f.previewConfig)==null?void 0:b.isLoadingPreview;c=a.previewConfig.previewPostID!=null?a.previewConfig.previewPostID:(c=f.previewConfig)==null?void 0:c.previewPostID;d=a.previewConfig.selectedPreviewTab!=null?a.previewConfig.selectedPreviewTab:(d=f.previewConfig)==null?void 0:d.selectedPreviewTab;e=a.previewConfig.showPreviewDialog!=null?a.previewConfig.showPreviewDialog:(e=f.previewConfig)==null?void 0:e.showPreviewDialog;f.previewConfig={isLoadingPreview:b,previewPostID:c,renderID:(c=(b=f.previewConfig)==null?void 0:b.renderID)!=null?c:"",selectedPreviewTab:d,showPreviewDialog:e};this.emitChange(a.composerID)};return b}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("PlaceRecommendationEntrypoint",[],(function(a,b,c,d,e,f){a=Object.freeze({CHEVRON:"chevron",COMMENT:"comment",COMPARISON_CARD:"comparison_card",INTERACTIVE_STORY_CARD:"interactive_story_card",BOOKMARK:"bookmark",GROUP_COMPOSER:"group_composer",GROUP_TAB_COMPOSER:"group_tab_composer",SPROUT:"sprout",POST_UPSELL:"post_upsell",LEARN:"learn",PAST_REX:"past_rex",PLACE_PICKER:"place_picker",REX_BUTTON:"rex_button",UPSELL_CTA:"upsell_CTA",CITY_GUIDES:"city_guides",GROUP_COMPOSER_ACTION_BUTTON:"group_composer_action_button",FOLLOW_UP_UNIT_SHARE_NOW:"follow_up_unit_share_now",FOLLOW_UP_UNIT_EDIT_POST:"follow_up_unit_edit_post",FEED_UPSELL:"feed_upsell",FEED_IMPLICIT_UPSELL:"feed_implicit_upsell",FULL_MAP:"full_map",FULL_MAP_FEED_ATTACHMENT:"full_map_feed_attachment",FULL_MAP_PERMALINK:"full_map_permalink",FULL_MAP_ANNOTATION:"full_map_annotation",FULL_MAP_HSCROLL:"full_map_hscroll",FULL_MAP_MAPVIEW:"full_map_mapview",FULL_MAP_LISTVIEW:"full_map_listview",IMPLICIT_MAP:"implicit_map",LOOKING_FOR_MINUTIAE:"looking_for_minutiae",NEIGHBORHOOD_HELP:"neighborhood_help",NOTIFICATION:"notification",NUX:"nux",PLACE_SEARCH:"place_search",REJECT:"reject",SLOT:"slot",STORY:"story",UNSOLICITED:"unsolicited",XOUT:"xout",SERVICES_SOCIAL_REX_CROSSPOST:"services_social_rex_crosspost"});f["default"]=a}),66);
__d("PrivacyBaseState",[],(function(a,b,c,d,e,f){a=Object.freeze({EVERYONE:"everyone",FRIENDS:"friends",FRIENDS_OF_FRIENDS:"friends_of_friends",SELF:"self"});f["default"]=a}),66);
__d("QuestionPollTypeJSEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({NON_POLL:0,CHOOSE_ONE:1,CHOOSE_MULTIPLE:2,RANKED:3,GIF_CHOOSE_ONE:4,IMAGE_CHOOSE_ONE:5,VISUAL_TEXT_CHOOSE_ONE:6,IMAGE_CHOOSE_MULTIPLE:7,PAGE_CHOOSE_MULTIPLE:8,MOST_LIKELY_TO:9,MEDIA_CHOOSE_ONE:10});f["default"]=a}),66);
__d("ReactComposerActions",["ReactComposerActionTypes","ReactComposerDispatcher","ReactComposerStore"],(function(a,b,c,d,e,f,g){b("ReactComposerStore");var h;function a(a,b,d,e,f,g,h){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").INIT_CONFIG,loggingConfig:b,lazySproutsExpand:d,activateOnInit:e===!0,sproutsConfig:f,promotedSprout:g,triggeredFrom:h})}function d(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").SCHEDULE,scheduleDate:b})}function e(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").POST_ERROR,response:b})}function f(a,b){window.setTimeout(function(){(!h||h(a,b.actorID,b.config,b.targetID))&&c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").POST_INTENDED,actorID:b.actorID,config:b.config,targetID:b.targetID})},0)}function i(a){h=a}function j(a,b){a={composerID:a,sproutType:b,type:c("ReactComposerActionTypes").POST_STARTED_LOGGING_ONLY_DO_NOT_USE};c("ReactComposerDispatcher").dispatch(a)}function k(a,b){l(a,b,c("ReactComposerActionTypes").POST_STARTED)}function l(a,b,d){var e=b.actorID,f=b.composerType,g=b.config,h=b.onPostSuccess,i=b.onPostFailure,j=b.targetID,k=babelHelpers.objectWithoutPropertiesLoose(b,["actorID","composerType","config","onPostSuccess","onPostFailure","targetID"]);window.setTimeout(function(){return c("ReactComposerDispatcher").dispatch({composerID:a,composerType:f,type:d,actorID:e,config:g,targetID:j,onPostSuccess:h,onPostFailure:i,otherData:k})},0)}function m(a,b){var d=b.actorID,e=b.composerType,f=b.config,g=b.onPostSuccess,h=b.targetID,i=babelHelpers.objectWithoutPropertiesLoose(b,["actorID","composerType","config","onPostSuccess","targetID"]);window.setTimeout(function(){return c("ReactComposerDispatcher").dispatch({composerID:a,composerType:e,type:c("ReactComposerActionTypes").PAGES_IG_PHOTO_UPLOAD_STARTED,actorID:d,config:f,targetID:h,onPostSuccess:g,otherData:i})},0)}function n(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").PAGES_JOB_AUTOCONVERT_STARTED})}function o(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").PAGES_OFFER_AUTOCONVERT_STARTED})}function p(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").POST_SUCCEEDED,loggingToken:b})}function q(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").POST_FINALLY,response:b})}function r(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").PUBLISH_STARTED})}function s(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").POST_PREPROCESSING})}function t(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").COMPOSER_RESET})}function u(a,b){l(a,b,c("ReactComposerActionTypes").SAVE_STARTED)}function v(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").EXPAND_SPROUTS})}function w(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").COLLAPSE_SPROUTS})}function x(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").SET_LOGGED_SPROUT_PROMOTION_VIEW})}function y(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").SET_FINISHED_SPROUT_PROMOTION})}function z(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").SET_QUEUE_FINISHED_SPROUT_PROMOTION})}function A(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerActionTypes").SET_IS_RUNNING_INTERCEPTION,isRunningInterception:b})}g.initConfig=a;g.schedule=d;g.postError=e;g.postIntended=f;g.registerPostIntendedHandler=i;g.postStartedLoggingOnlyDoNotUse=j;g.postStarted=k;g.postOrSaveStarted=l;g.igPhotoUploadStarted=m;g.jobAutoconvertStarted=n;g.offerAutoconvertStarted=o;g.postSucceeded=p;g.postFinally=q;g.publishStarted=r;g.postPreprocessing=s;g.reset=t;g.saveStarted=u;g.expandSprouts=v;g.collapseSprouts=w;g.setLoggedSproutPromotionView=x;g.setFinishedSproutPromotion=y;g.setQueueFinishedSproutPromotion=z;g.setIsRunningInterception=A}),98);
__d("ReactComposerPostUtilsCore",["invariant","ReactComposerActions"],(function(a,b,c,d,e,f,g,h){function a(a,b,c){!isNaN(c)&&c>0||h(0,5885);return babelHelpers["extends"]({is_react:!0,xhpc_composerid:a,xhpc_targetid:c},b)}function b(a,b){d("ReactComposerActions").postSucceeded(a,b),d("ReactComposerActions").reset(a)}g.getCoreData=a;g.handlePostSucceeded=b}),98);
__d("TextDelightInComposerGating",["TextDelightConfig","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==="post"?c("gkx")("678313"):!1}function a(a){return h(a)&&c("TextDelightConfig").composerOptions.enabled}function b(a){return h(a)&&c("TextDelightConfig").composerOptions.enabled&&c("TextDelightConfig").composerOptions.highlightEnabled}function d(a){return h(a)&&c("TextDelightConfig").composerOptions.enabled&&c("TextDelightConfig").composerOptions.backspaceEnabled}function e(a){return h(a)&&c("TextDelightConfig").composerOptions.enabled&&c("TextDelightConfig").composerOptions.xbuttonEnabled}g.checkGKForSurface=h;g.isEnabled=a;g.isHighlightEnabled=b;g.isBackspaceEnabled=d;g.isXbuttonEnabled=e}),98);
__d("XCometPlayWithFriendsShareAttachmentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/instantgames/playwithfriends/play/{game_id}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XComposerPublisherCreationHooksController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/publisher/creation-hooks/",{data:{type:"TypeAssert"},story_id:{type:"String"}})}),null);
__d("ComposerPublisher",["invariant","ActorURI","AsyncRequest","AsyncResponse","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","ComposerEditCallsite","ComposerPublishType","ComposerPublisherSupportedParameters","ComposerStoryCreateWebMutation.graphql","ComposerStoryEditWebMutation.graphql","ConstUriUtils","CurrentUser","FBLogger","InstantGamesFeedTypedLogger","MentionsUtils","ODS","OGComposerSuggestionMechanisms","PagesComposerContextUtils","PagesComposerGraphMLGate","PagesComposerUnpublishedPostsStore","PlaceRecommendationEntrypoint","PrivacyBaseState","Promise","QuestionPollTypeJSEnum","ReactComposerActions","ReactComposerMediaUploadStore","ReactComposerPostUtilsCore","ReactComposerStore","ReactComposerWebUnusedParameters","ReactComposerWebWhitelistParameters","TextDelightInComposerGating","WebGraphQLLegacyHelper","XCometPlayWithFriendsShareAttachmentControllerRouteBuilder","XComposerPublisherCreationHooksController","XWebGraphQLMutationController","compactArray","enumUtils","isEmpty","nullthrows","promiseDone","uuidv4"],(function(a,b,c,d,e,f,g,h){var i,j={publish:function(a,b,d){d=j.translateData(a.actorID,a.composerID,d,b);j._publishImpl(a.actorID,d,c("nullthrows")(c("ComposerStoryCreateWebMutation.graphql").params.id),j._getCreationSuccessHandler(a,d),j._getErrorHandler(a.composerID,a.onPostFailure),j._getFinallyHandler(a.composerID,null))},publishFromShareDialog:function(a,b,d,e,f){var g=j.translateDataFromShareDialog(b);j._publishImpl(b.actorId,g,c("nullthrows")(c("ComposerStoryCreateWebMutation.graphql").params.id),j._getSuccessHandler(a,g,d,e),j._getErrorHandler(a,e),j._getFinallyHandler(a,f))},_publishEditImpl:function(a,b,d,e,f){j._publishImpl(a,d,c("nullthrows")(c("ComposerStoryEditWebMutation.graphql").params.id),j._getSuccessHandler(b,d,e,f),j._getErrorHandler(b,f),j._getFinallyHandler(b,null))},_publishImpl:function(a,b,e,f,g,h){c("promiseDone")(j._graphQLRequestPromise(a,b,e).then(f,g)["finally"](h)),d("ODS").bumpEntityKey(2966,"webgraphml_publish","hit")},_graphQLRequestPromise:function(a,e,f){var g=d("WebGraphQLLegacyHelper").getURI({controller:c("XWebGraphQLMutationController"),docID:f});return new(i||(i=b("Promise")))(function(b,d){var f=new(c("AsyncRequest"))(g).setHandler(function(a){return b(a)}).setErrorHandler(function(a){return d(a)}).setData({variables:JSON.stringify({client_mutation_id:c("uuidv4")(),actor_id:a,input:e})});f.send()})},_getSuccessHandler:function(a,b,c,e){return function(f){var g=j._getFirstGraphQLError(f);if(g){j._handleGraphQLError(a,f,e);return}window.setTimeout(function(){var e=j._getShouldSkipPostSucceededHandler(a,b,f);if(!e){d("ReactComposerPostUtilsCore").handlePostSucceeded(a,(e=(e=f.payload)==null?void 0:e.logging_token)!=null?e:(e=f.payload)==null?void 0:(e=e.data)==null?void 0:(e=e.story_create)==null?void 0:e.logging_token)}c&&c(f)},0)}},_getCreationSuccessHandler:function(a,b){return function(c){var e,f;e=c==null?void 0:(e=c.payload)==null?void 0:(e=e.data)==null?void 0:e.story_create;var g=(e==null?void 0:e.story_id)||(e==null?void 0:(f=e.story)==null?void 0:f.id),h=e==null?void 0:e.logging_token;if(g==null)return j._getSuccessHandler(a.composerID,b,a.onPostSuccess,a.onPostFailure)(c);else{f=function(c){j._getSuccessHandler(a.composerID,b,a.onPostSuccess,a.onPostFailure)(babelHelpers["extends"]({},c,{payload:{story_id:g,logging_token:h}}))};e=function(b){window.setTimeout(function(){d("ReactComposerActions").reset(a.composerID),window.location.reload()},0)};return j._renderRequestPromise(a.actorID,g,b).then(f,e)}}},_renderRequestPromise:function(a,e,f){var g=d("ActorURI").create(c("XComposerPublisherCreationHooksController").getURIBuilder().getURI(),a);return new(i||(i=b("Promise")))(function(a,b){new(c("AsyncRequest"))(g).setHandler(function(b){return a(b)}).setErrorHandler(function(a){return b(a)}).setData({data:j._getPostCreationHooksData(f),story_id:e}).send()})},_getFirstGraphQLError:function(a){return a.payload&&a.payload.errors&&a.payload.errors[0]},_getErrorHandler:function(a,b){return function(c){var d=j._getFirstGraphQLError(c);if(d){j._handleGraphQLError(a,c,b);return}j._handleWebFailure(a,c,b)}},_handleGraphQLError:function(a,b,d){var e=j._getFirstGraphQLError(b);b=new(c("AsyncResponse"))(b.getRequest(),b);b.errorSummary=e?e.summary:null;b.errorDescription=e?e.description:null;b.silentError=e&&e.is_silent;b.transientError=e&&e.is_transient;j._handleWebFailure(a,b,d)},_handleWebFailure:function(a,b,c){window.setTimeout(function(){d("ReactComposerActions").postError(a,b),c&&c(b)},0)},_getFinallyHandler:function(a,b){return function(c){window.setTimeout(function(){d("ReactComposerActions").postFinally(a,c),b&&b(c)},0)}},_getShouldSkipPostSucceededHandler:function(a,b,e){a=c("PagesComposerUnpublishedPostsStore").getIsPreview(a);if(a)return!0;if(d("PagesComposerContextUtils").getIsDialogComposer(b.composer_entry_point)||((a=b)!=null?(a=a.web_graphml_migration_params)!=null?a.is_dialog_composer:a:a))return!0;return e.payload&&e.payload.isPostPending?!0:!1},_getSharedCreateMutationData:function(a,b,d,e,f,g,h,i,k,l){var m={actor_id:a,client_mutation_id:c("uuidv4")(),source:"WWW"};if(b&&b.type==="STORIES")m.audiences=[{stories:{self:{target_id:d}}}];else if(b&&b.type==="MESSENGER"){var n=[];b.messenger_ids.parseIndividualAndExistingGroups().forEach(function(a){n.push({direct:{target_id:a}})});b.messenger_ids.parseNewMessengerGroups().forEach(function(a){n.push({direct:{group:{participants:{users:a}}}})});m.audiences=n}else k&&k==="multi_direct"?m.audiences=[{multi_direct:{users:l}}]:d&&j._getIsDirectedPost(a,d)?m.audience={to_id:d}:c("CurrentUser").getAccountID()!==a&&e===null?m.audience={privacy:{base_state:"EVERYONE"}}:m.audience={web_privacyx:e};h&&(m.message=j._getTranslatedTextWithEntitiesFields(h,i));return j._getSharedMutationData(m,f,g)},_getSharedMutationData:function(a,b,d){b={composer_session_id:b||c("uuidv4")()};d&&(b.ref=d);a.logging=b;return a},_getCommonOriginalMutationData:function(a,b){b.composertags_with&&(a.with_tags_ids=b.composertags_with);b.multilingual_specified_lang&&(a.specified_dialect=b.multilingual_specified_lang);if(b.multilingual_statuses&&b.multilingual_status_langs){var c=b.multilingual_status_langs,d=b.multilingual_rich_text,e={};d==null?void 0:d.forEach(function(a){e[a.dialect]=a.composedTextParams});a.multilingual_translations=(d=b.multilingual_statuses)==null?void 0:d.map(function(a,b){return{message:a,dialect:c[b],composed_text:e[c[b]]}})}return a},translateDataFromShareDialog:function(a){var b=j._getSharedCreateMutationData(a.actorId,null,null,a.privacy,a.composerSessionID,null,a.message);b.attachments={link:{internal_linkable_id:a.postId,shared_from_post_id:a.postId}};a.isForcedReshareOfPost&&(b.reshare_original_post="RESHARE_ORIGINAL_POST");b.web_graphml_migration_params={composer_type:"RESHARE"};a.videoStartTimeMs&&(b.video_start_time_ms=a.videoStartTimeMs);return b},publishFromEditDialog:function(a,b){j._publishEditImpl(a.actorID,a.composerID,j.translateDataFromEditDialog(a.actorID,a.composerID,b,a.composerConfig),a.onPostSuccess,a.onPostFailure)},translateDataFromEditDialog:function(a,b,d,e){e===void 0&&(e={});var f=d.story_token;f||h(0,2576);a={actor_id:a,client_mutation_id:c("uuidv4")(),story_id:f};a=j._getCommonOriginalMutationData(a,d);if(d.album_id)a.audience={album_id:d.album_id};else if(d.privacyx){f={web_privacyx:d.privacyx};a.audience=f}a.editable_post_feature_capabilities=["STICKER","CONTAINED_MEDIA"];d.xc_sticker_id===0?a.sticker_id=null:d.xc_sticker_id&&(a.sticker_id=d.xc_sticker_id);d.composertags_place&&d.is_explicit_place?a.explicit_place_id=d.composertags_place:d.composertags_place_name?a.place_name=d.composertags_place_name:d.composertags_city?a.implicit_place_id=String(d.composertags_city):a.explicit_place_id=null;f={};if(d.action_type_id&&d.action_type_id.length&&(d.object_id||d.object_str)){f.taggable_activity_id=d.action_type_id[0];d.object_id&&(f.object_id=d.object_id[0]);d.object_str&&(f.object_text=d.object_str[0]);d.icon_id&&(f.icon_id=d.icon_id);d.hide_object_attachment&&(f.object_attachment_behavior=d.hide_object_attachment?"HIDDEN":"SHOWN");if(d.og_suggestion_mechanism)for(var g in c("OGComposerSuggestionMechanisms"))if(c("OGComposerSuggestionMechanisms")[g]==d.og_suggestion_mechanism){f.suggestion_mechanism=g;break}a.inline_activities=[f]}else a.inline_activities=[];if(d.xc_edit_callsite){g={edit_callsite:j._getTranslatedEnum(d.xc_edit_callsite,c("ComposerEditCallsite"))};d.xc_story_dom_id&&(g.story_dom_id=d.xc_story_dom_id);d.xhpc_composerid&&(g.composer_dom_element_id=d.xhpc_composerid);d.xc_entstory_context&&(g.entstory_context=d.xc_entstory_context);d.save_only&&(g.save_only=d.save_only);a.web_graphml_migration_params=g}d.xhpc_message?a.message=j._getTranslatedTextWithEntitiesFields(d.xhpc_message,d.delight_ranges):a.message=null;d.is_markdown!=null&&(a.formatting=j._getComposerSupportsMarkdown(e)&&d.is_markdown?"MARKDOWN":"PLAINTEXT");f=d.composer_unpublished_photo;if(d.attachment&&d.attachment.params)a.attachments=[{link:j._translateShareAttachment(d.attachment.type,d.attachment.params,d.attachment.shared_from_post_id)}],(d.attachment&&d.attachment.reshare_original_post||d.is_forced_reshare_of_post)&&(a.reshare_original_post="RESHARE_ORIGINAL_POST"),a.editable_post_feature_capabilities.push("CONTAINED_LINK");else if(f){var i=[],k=j._getPhotos(b);f.forEach(function(a){k.includes(a)?i.push({photo:{id:a}}):i.push({video:{id:a,notify_when_processed:!0}})});a.attachments=i;a.editable_post_feature_capabilities.push("CONTAINED_LINK")}else d.attachment===null&&(a.attachments=[],a.editable_post_feature_capabilities.push("CONTAINED_LINK"));g=d.life_event_data;g&&(a=j._getTranslatedLifeEventAttachment(a,g));j._augmentMultiShareAttachmentData(b,a);c("isEmpty")(d.action_post_attachment_data)||(a.action_post_attachment_data=d.action_post_attachment_data);c("isEmpty")(d.work_checklist_metadata)||(a.work_checklist_metadata=d.work_checklist_metadata);d.blocks&&(a.composed_text={block_data:d.block_data,block_depths:d.block_depths,block_types:d.block_types,blocks:d.blocks,entities:d.entities,entity_map:d.entity_map,inline_styles:d.inline_styles});return j._getSharedMutationData(a,d.composer_session_id,null)},_translateShareAttachment:function(a,b,c){return{share_scrape_data:JSON.stringify({share_type:a,share_params:b,shared_from_post_id:c})}},_getTranslatedEnum:function(a,b){var c=null;for(var d in b)if(b[d]===a){c=d;break}c||h(0,2577,a);return c},_getValueFromEnumKey:function(a,b){var c=null;for(var d in b)if(d===a){c=b[d];break}c||h(0,11345,a);return c},_getComposerSupportsMarkdown:function(a){var b;b=((b=a)!=null?(b=b.sproutsConfig)!=null?(b=b.MARKDOWN)!=null?b.enabled:b:b:b)===!0;a=((a=a)!=null?(a=a.taggersConfig)!=null?(a=a.MARKDOWN)!=null?a.enabled:a:a:a)===!0;return b||a?!0:!1},translateData:function(a,b,e,f){var g=j._getSharedCreateMutationData(a,e,f.xhpc_targetid,f.privacyx,f.composer_session_id,f.ref,f.xhpc_message,f.delight_ranges,f.target_type,f.composertags_with);g=j._getCommonOriginalMutationData(g,f);g.camera_post_context={deduplication_id:f.composer_session_id,source:"composer"};if(f.instagram_business_account_id||f.crosspost_group_id){var h={};f.instagram_business_account_id&&(h.instagram_business_account_ids=[f.instagram_business_account_id]);f.crosspost_group_id&&(h.group_ids=[f.crosspost_group_id]);g.page_crossposting_metadata=h}f.xc_sticker_id&&(g.referenced_sticker_id=f.xc_sticker_id);f.is_welcome_to_group_post&&(g.is_welcome_to_group_post=f.is_welcome_to_group_post);f.is_ama===!0&&(g.ama_post_metadata={enabled:!0});f.composer_source_surface&&(g.composer_source_surface=f.composer_source_surface);f.composer_entry_point&&(g.composer_entry_point=f.composer_entry_point);f.composer_entry_time&&(g.composer_entry_time=f.composer_entry_time);h=f.cta_data;h&&(g.call_to_action_data={type:h.type,is_cta_share_post:h.value.is_cta_share_post,service_config_id:h.value.service_config_id,link:h.value.link,customized_message_page_cta_text:h.value.customized_message_page_cta_text,link_format:f.attachment&&!c("isEmpty")(f.attachment.videoID)?"VIDEO_LPP":null});h={};f.composer_session_duration&&(h.composition_duration=f.composer_session_duration);f.num_keystrokes&&(h.number_of_keystrokes=f.num_keystrokes);f.num_pastes&&(h.number_of_copy_pastes=f.num_pastes);("composer_session_duration"in f||"num_keystrokes"in f||"num_pastes"in f)&&(g.composer_session_events_log=h);f.composer_type&&(g.composer_type=f.composer_type);f.is_q_and_a&&(g.is_q_and_a=f.is_q_and_a);f.is_markdown&&(g.formatting="MARKDOWN");f.text_format_preset_id&&(g.text_format_preset_id=f.text_format_preset_id);if(f.action_type_id&&f.action_type_id.length&&(f.object_id||f.object_str)){h={taggable_activity_id:f.action_type_id[0]};f.object_id&&(h.object_id=f.object_id[0]);f.object_str&&(h.object_text=f.object_str[0]);f.icon_id&&(h.icon_id=f.icon_id);f.hide_object_attachment&&(h.object_attachment_behavior=f.hide_object_attachment?"HIDDEN":"SHOWN");if(f.og_suggestion_mechanism)for(var i in c("OGComposerSuggestionMechanisms"))if(c("OGComposerSuggestionMechanisms")[i]==f.og_suggestion_mechanism){h.suggestion_mechanism=i;break}g.inline_activities=[h]}if(f.composertags_sponsors){if(f.branded_content_data){i=f.branded_content_data;if(i.tagging_data){h=i.tagging_data;i.tagging_data=babelHelpers["extends"]({},i.tagging_data,{shared_to_sponsor_status:d("enumUtils").enumValueToKeyEnforcing(h.shared_to_sponsor_status,c("BrandedContentSharedToSponsorStatus")),sponsor_relationship:d("enumUtils").enumValueToKeyEnforcing(h.sponsor_relationship,c("BrandedContentSponsorRelationship")),can_sponsor_add_cta:h.can_sponsor_add_cta===1})}g.branded_content_data=f.branded_content_data}g.sponsor_id=f.composertags_sponsors[0];g.direct_share_status=d("enumUtils").enumValueToKey(f.direct_share_status,c("BrandedContentSharedToSponsorStatus"));g.sponsor_relationship=d("enumUtils").enumValueToKey(f.sponsor_relationship,c("BrandedContentSponsorRelationship"))}i={};f.is_also_posting_video_to_feed&&(i.is_also_posting_video_to_feed=f.is_also_posting_video_to_feed);c("isEmpty")(f.feed_targeted_data)||(i.feed_targeted_data=JSON.stringify(f.feed_targeted_data));c("isEmpty")(f.targeted_privacy_data)||(i.targeted_privacy_data=JSON.stringify(f.targeted_privacy_data));c("isEmpty")(f.boosted_post_config)||(i.boosted_post_config=f.boosted_post_config);f.target_type&&(i.target_type=f.target_type);f.xhpc_aggregated_story_composer&&(i.xhpc_aggregated_story_composer=f.xhpc_aggregated_story_composer);f.xhpc_composerid&&(i.xhpc_composerid=f.xhpc_composerid);f.xhpc_context&&(i.xhpc_context=f.xhpc_context);f.xhpc_finch&&(i.xhpc_finch=f.xhpc_finch);f.xhpc_fundraiser_page&&(i.xhpc_fundraiser_page=f.xhpc_fundraiser_page);if(f.xhpc_publish_type)for(h in c("ComposerPublishType"))if(c("ComposerPublishType")[h]==f.xhpc_publish_type){i.xhpc_publish_type=h;break}f.xhpc_timeline&&(i.xhpc_timeline=f.xhpc_timeline);f.backdated_date&&f.backdated_date.year&&(i.backdated_array=f.backdated_date);f.qn&&(i.waterfall_id=f.qn);f.post_to_marketplace&&(i.xpost_to_marketplace=f.post_to_marketplace);f.composer_attachment_sell_audience_target_ids&&(i.xpost_target_ids=f.composer_attachment_sell_audience_target_ids);f.is_dialog_composer&&(i.is_dialog_composer=f.is_dialog_composer);i&&(g.web_graphml_migration_params=i);f.fun_fact_prompt_id&&(g.fun_fact_prompt_id=f.fun_fact_prompt_id);if(f.asked_fun_fact_prompt_data){h=f.asked_fun_fact_prompt_data.prompt_title;h&&(g.asked_fun_fact_prompt_data={prompt_title:j._getTranslatedTextWithEntitiesFields(h).text})}f.memorial_tribute_metadata&&(g.memorial_tribute_metadata=f.memorial_tribute_metadata);f.extensible_sprouts_ranker_request&&(g.extensible_sprouts_ranker_request=f.extensible_sprouts_ranker_request);i=f.external_movie_data!=null?babelHelpers["extends"]({},f.external_movie_data,{external_movie_id:((i=f.external_movie_data)==null?void 0:i.external_movie_id)!==""?(h=f.external_movie_data)==null?void 0:h.external_movie_id:null}):null;f.external_movie_data&&(g.external_movie_data=i);f.place_attachment_setting===1?g.place_attachment_setting="HIDE_ATTACHMENT":f.place_attachment_setting===2&&(g.place_attachment_setting="SHOW_ATTACHMENT");f.work_learning_unit&&(g.work_learning_unit=f.work_learning_unit);if(f.is_placelist_post){h={is_placelist_post:f.is_placelist_post};f.placelist_within_page&&(h.placelist_within_page=f.placelist_within_page);if(f.place_list_entry_point)for(i in c("PlaceRecommendationEntrypoint"))if(c("PlaceRecommendationEntrypoint")[i]==f.place_list_entry_point){h.place_list_entry_point=i;break}g.placelist_data=h}f.ask_admin_to_post===!0&&(g.ask_admin_to_post_for_user={is_asking_admin_to_post:!0});f.is_preview===!0?g.unpublished_content_data={unpublished_content_type:"PREVIEW"}:f.is_ad_post===!0?g.unpublished_content_data={unpublished_content_type:"ADS_POST"}:f.draft===!0||f.unpublished_content_type==="DRAFT"?g.unpublished_content_data={unpublished_content_type:"DRAFT"}:(f.scheduled===!0||f.unpublished_content_type==="SCHEDULED")&&f.scheduled_publish_time&&f.unpublished_content_type!=="SCHEDULED_RECURRING"?g.unpublished_content_data={unpublished_content_type:"SCHEDULED",scheduled_publish_time:f.scheduled_publish_time}:(f.scheduled===!0||f.unpublished_content_type==="SCHEDULED_RECURRING")&&f.scheduled_publish_time&&(g.unpublished_content_data={unpublished_content_type:"SCHEDULED",scheduled_publish_time:f.scheduled_publish_time,scheduled_post_recurrence_config:{frequency:f.post_frequency,end_time:f.recurring_post_end_time}});f.composertags_place?g.explicit_place_id=f.composertags_place:f.composertags_city?g.implicit_place_id=String(f.composertags_city):f.composertags_place_name&&(g.place_name=f.composertags_place_name);c("isEmpty")(f.animated_image)||(g.animated_image=f.animated_image);c("isEmpty")(f.event_tag)||(g.event_tag=f.event_tag);c("isEmpty")(f.holiday_card)||(g.holiday_card=f.holiday_card);c("isEmpty")(f.detection_analytics_data)||(g.detection_analytics_data=f.detection_analytics_data);c("isEmpty")(f.page_recommendation_ids)||(g.page_recommendation_ids=f.page_recommendation_ids);c("isEmpty")(f.page_recommendation)||(g.page_recommendation=f.page_recommendation);c("isEmpty")(f.story_list_attachment_data)||(g.story_list_attachment_data=f.story_list_attachment_data);c("isEmpty")(f.asset3d_id)||(g.asset3d_id=f.asset3d_id);c("isEmpty")(f.living_room_attachment)||(g.living_room_attachment=f.living_room_attachment);c("isEmpty")(f.video_meetup)||(g.video_meetup=f.video_meetup);c("isEmpty")(f.chatroom)||(g.chatroom=f.chatroom);c("isEmpty")(f.local_dev_platform_app_instance)||(g.local_dev_platform_app_instance=f.local_dev_platform_app_instance);c("isEmpty")(f.action_post_attachment_data)||(g.action_post_attachment_data=f.action_post_attachment_data);c("isEmpty")(f.poll_question_data)||(g.poll_question_data=j._getTranslatedPollQuestionData(f.poll_question_data));c("isEmpty")(f.draft_id)||(g.post_from_draft={draft_id:f.draft_id});f.instant_game_entry_point_data&&(g.instant_game_entry_point_data=f.instant_game_entry_point_data);f.has_support_now_cta&&(f.target_type==="group"?g.user_funding_promotion_metadata={is_removed:!1,profile_id:f.xhpc_targetid,type:f.user_funding_attachment_type}:g.fan_funding_promotion_metadata={is_promotional_post:f.has_support_now_cta,page_id:a,payload:f.fan_funding_promotion_payload});c("isEmpty")(f.work_checklist_metadata)||(g.work_checklist_metadata=f.work_checklist_metadata);i=[];!c("isEmpty")(f.cta_data)&&f.attachment&&!c("isEmpty")(f.attachment.photoID)?i=[{photo:{id:f.attachment.photoID}}]:!c("isEmpty")(f.cta_data)&&f.attachment&&!c("isEmpty")(f.attachment.videoID)?i=[{video:{id:f.attachment.videoID,notify_when_processed:!0}}]:f.attachment&&f.attachment.params?(i=[{link:j._translateShareAttachment(f.attachment.type,f.attachment.params,f.attachment.shared_from_post_id)}],(f.attachment&&f.attachment.reshare_original_post||f.is_forced_reshare_of_post)&&(g.reshare_original_post="RESHARE_ORIGINAL_POST")):f.composer_unpublished_photo?i=j._getTranslatedMediaAttachments(e,j._getPhotos(b),f.composer_unpublished_photo,f.composer_custom_accessibility_caption,f.composer_has_crop,f.composer_has_filter,f.composer_text_overlay,f.composer_sticker,f.xy_tags):f.attachment_poll_data&&(i=[{poll:{poll_type:f.attachment_poll_data.poll_type,poll_answers_state:f.attachment_poll_data.poll_answers_state,options:f.attachment_poll_data.options}}]);if(f.play_with_friends_game_id){h=c("ReactComposerStore").getTargetType(b);new(c("InstantGamesFeedTypedLogger"))().setEvent("play_with_friends_composer_post_attempted").setUISurface("play_with_friends_attachment").setGameID(f.play_with_friends_game_id).setGroupID(h=="group"?f.xhpc_targetid:null).setPostPrivacyID(f.privacyx).log();g.play_with_friends_game_id=f.play_with_friends_game_id;a=c("XCometPlayWithFriendsShareAttachmentControllerRouteBuilder").buildURL({game_id:parseInt(f.play_with_friends_game_id,10)});i.push({link:{external:{url:(e=d("ConstUriUtils").getUri(a))==null?void 0:(h=e.getQualifiedUri())==null?void 0:h.toString()}}})}a=j._getProductItemAttachment(f,g.message);if(a){e={product_item:a};i.push(e)}if(f.charity_id){h={fundraiser_for_story:{charity_id:f.charity_id}};i.push(h)}a=f.life_event_data;a&&(g=j._getTranslatedLifeEventAttachment(g,a));c("isEmpty")(i)||(g.attachments=i);j._augmentMultiShareAttachmentData(b,g);f.blocks&&(g.composed_text={block_data:f.block_data,block_depths:f.block_depths,block_types:f.block_types,blocks:f.blocks,entities:f.entities,entity_map:f.entity_map,inline_styles:f.inline_styles});return g},_augmentMultiShareAttachmentData:function(a,b){},_getPostCreationHooksData:function(a){var b={};a.audiences&&(b.audiences=j._getAudiencesData(a.audiences));a.audience&&(b.audience=j._getAudienceData(a.audience));var d=a.web_graphml_migration_params;d&&d.xhpc_publish_type&&(d.xhpc_publish_type=j._getValueFromEnumKey(d.xhpc_publish_type,c("ComposerPublishType")));b.web_graphml_migration_params=d;b.past_time=a.past_time;b.is_q_and_a=a.is_q_and_a;b.is_local_dev_platform_app_instance=a.local_dev_platform_app_instance!=null;d=a.page_recommendation_ids;var e=a.page_recommendation;b.is_page_recommendation=d!=null&&d.length!==0||e!=null;a.attachments&&(b.media_attachments=j._getMediaAttachments(a.attachments));b.call_to_action_data=a.call_to_action_data;d=a.logging;b.logging_ref=d&&d.ref;e=a.message;b.message_text=e&&e.text;d=a.unpublished_content_data;b.unpublished_content_type=d&&d.unpublished_content_type;return b},_getAudiencesData:function(a){return a==null?a:a.map(function(a){var b,d=a==null?void 0:a.undirected;b=a==null?void 0:(b=a.undirected)==null?void 0:b.privacy;a&&d&&b&&(b.base_state=j._getValueFromEnumKey(b.base_state,c("PrivacyBaseState")),d.privacy=b,a.undirected=d);return a})},_getAudienceData:function(a){if(a==null)return a;var b=a;a=a.privacy;a&&(a==null?void 0:a.base_state)&&(a.base_state=j._getValueFromEnumKey(a.base_state,c("PrivacyBaseState")),b.privacy=a);return b},_getMediaAttachments:function(a){if(a==null)return a;a=a.map(function(a){if(!a||!a.photo&&!a.video)return null;var b={};a.photo&&(b.photo={id:a.photo.id,tags:a.photo.tags});a.video&&a.video.id&&(b.video={id:a.video.id});return b});return c("compactArray")(a)},_getGraphQLConditionKey:function(a){switch(a){case"new":return"NEW_ITEM";case"refurbished":return"REFURBISHED";default:return"USED"}},_getProductItemAttachment:function(a,b){if(a.composer_attachment_sell_price&&a.composer_attachment_sell_title){var c={title:a.composer_attachment_sell_title,item_price:{price:a.composer_attachment_sell_price,currency:a.composer_attachment_sell_currency},location_page_id:a.composer_attachment_sell_location_page_id,condition:j._getGraphQLConditionKey(a.composer_attachment_sell_condition)};a.composer_attachment_sell_pickup_note&&(c.pickup_note=j._getTranslatedTextWithEntitiesFields(a.composer_attachment_sell_pickup_note));b&&(c.description=b);return c}return null},_getTranslatedMediaAttachments:function(a,b,d,e,f,g,h,i,j){var k=[];d.forEach(function(d){if(b.includes(d)){var l={id:d};f[d]===!0&&(l.crop_state="CROPPED");g[d]===!0&&(l.filter_state="FILTERED");e[d]&&(l.custom_accessibility_caption=e[d]);if(h[d]&&!c("isEmpty")(h[d])){l.text_overlay=h[d];if(a.type==="STORIES"){var m=[];l.text_overlay.forEach(function(a){m.push({text:{message:{text:a}}})});l.overlays=m}}if(i[d]&&!c("isEmpty")(i[d])){var n=[];Object.keys(i[d]).forEach(function(a){n.push({id:a,count:i[d][a]})});l.stickers=n}j&&Array.isArray(j)&&(l.tags=j.filter(function(a){return a.fbid===l.id}).map(function(a){var b={};a.subject?b.id=a.subject:b.name=a.name;return{x:a.x,y:a.y,source:a.source,taggee:b}}));k.push({photo:l})}else k.push({video:{id:d,notify_when_processed:!0}})});return k},_getTranslatedPollQuestionData:function(a){var b={text:a.text,hidden_results:a.hidden_results,options:a.options,question_type:j._getTranslatedEnum(a.question_type,c("QuestionPollTypeJSEnum"))};b&&((a.poll_end_time===0||a.poll_end_time)&&(b.poll_end_time=a.poll_end_time),(a.relative_poll_end_time===0||a.relative_poll_end_time)&&(b.relative_poll_end_time=a.relative_poll_end_time));return b},_getTranslatedLifeEventAttachment:function(a,b){var c={life_event:{extras:b.extras,icon:b.icon,fallback_media_kind:b.fallback_media_kind,fb_media:[],life_event_type:b.life_event_type,source:b.source,start_date:b.start_date,logging_data:b.logging_data}};b.title&&(a.title=j._getTranslatedTextWithEntitiesFields(b.title));var d=[c];b.media.forEach(function(a){a.type==="DEFAULT_MEDIA"?c.life_event.fb_media.push(a.id):(c.life_event.fb_media.push("0"),a.type==="VIDEO"?d.push({video:{id:a.id,notify_when_processed:!0}}):d.push({photo:{id:a.id}}))});a.attachments=d;return a},_getTranslatedTextWithEntitiesFields:function(a,b){a=d("MentionsUtils").parseMessageMentions(a);var c=a.ranges;a=a.text;if(!c)return{text:a,ranges:[]};c=c.map(function(a){return{offset:a.offset,length:a.length,entity:{id:a.uid}}});d("TextDelightInComposerGating").isHighlightEnabled("post")&&b&&(c=[].concat(c,b.map(function(a){return{offset:a.offset,length:a.length,entity:{id:a.campaignID}}})));return{text:a,ranges:c}},_getShouldUseGraphQLForFeedTargetingFeature:function(a){if(c("isEmpty")(a.feed_targeted_data))return!1;for(var b in a)if(j._getContainsWhitelistedParameter(a,b)&&b!=="feed_targeted_data"&&b!=="targeted_privacy_data")return!1;return d("PagesComposerGraphMLGate").shouldUseGraphMLForFeedTargetingFeature(a.xhpc_targetid)},_getShouldUseGraphQLForBoostedPostFeature:function(a){if(c("isEmpty")(a.boosted_post_config))return!1;for(var b in a)if(j._getContainsWhitelistedParameter(a,b)&&b!=="boosted_post_config")return!1;return d("PagesComposerGraphMLGate").shouldUseGraphMLForBoostedPostFeature(a.xhpc_targetid)},_hasModifiedOrMultipleScrapedAttachments:function(a){a=(a=a)!=null?(a=a.attachment)!=null?a.params:a:a;if(!a||c("isEmpty")(a)||Array.isArray(a))return!1;var b=a.child_attachments,d=a.canvas_video,e=a.carousel_video_lpp;a=a.edited_params;if(!c("isEmpty")(a)||!c("isEmpty")(e)||!c("isEmpty")(d)||!c("isEmpty")(b)&&Object.keys(b).length>1)return!0;for(a in b){if(((e=b[a])!=null?e.image_source:e)!=="scrape")return!0}return!1},getShouldUseGraphQLForStatus:function(a,b){if(!j._getShouldUseGraphQL(b)&&!j._getShouldUseGraphQLForFeedTargetingFeature(b)&&!j._getShouldUseGraphQLForBoostedPostFeature(b))return!1;if(c("CurrentUser").getAccountID()!==a){if(b.ask_admin_to_post===!0)return!0;a=j._getIsDirectedPost(a,b.xhpc_targetid);if(a){d("ODS").bumpEntityKey(2966,"webgraphml_should_not_use","status_different_actor_directed_post");return!1}if(j._hasModifiedOrMultipleScrapedAttachments(b)){d("ODS").bumpEntityKey(2966,"webgraphml_should_not_use","status_has_modified_attachements");return!1}return!0}if(b.target_type==="page"){a=j._getPageVisitorStatusPostGK(b.xhpc_targetid);a||d("ODS").bumpEntityKey(2966,"webgraphml_should_not_use","status_failing_gating_page_visitor_post");return a}return!0},getShouldUseGraphQLForMedia:function(a,b){if(!j._getShouldUseGraphQL(b))return!1;if(c("CurrentUser").getAccountID()!==a){if(b.ask_admin_to_post===!0)return!0;if(d("PagesComposerGraphMLGate").shouldUseGraphMLForMediaPostCreation(b.xhpc_targetid))return!0;d("ODS").bumpEntityKey(2966,"webgraphml_should_not_use","media_different_actor");return!1}if(b.target_type==="page"){d("ODS").bumpEntityKey(2966,"webgraphml_should_not_use","media_target_type_page");return!1}return!0},getShouldUseGraphQLForShareDialog:function(a){d("ODS").bumpEntityKey(2966,"webgraphml_should_use","share");if(!j._getShouldUseGraphQLForShareDialog(a)){d("ODS").bumpEntityKey(2966,"webgraphml_should_not_use","share_missing_features");return!1}if(c("CurrentUser").getAccountID()!==a.actorId){d("ODS").bumpEntityKey(2966,"webgraphml_should_not_use","share_different_actor");return!1}if(a.shareType===String(34)||a.shareType===String(77))return!1;if(a.audienceType!=="self"){d("ODS").bumpEntityKey(2966,"webgraphml_should_not_use","share_unsupported_audience_type_"+(a.audienceType?a.audienceType:"unset"));return!1}a=j._getIsDirectedPost(a.actorId,a.actorId);if(a&&!j._getDirectedShareDialogPostGK()||!a){d("ODS").bumpEntityKey(2966,"webgraphml_should_not_use","share_"+(a?"directed":"undirected")+"_failing_gating");return!1}return!0},_getPhotos:function(a){return c("ReactComposerMediaUploadStore").getPhotos(a).map(function(a){return a.photoID}).toArray()},_getIsSupportedParameter:function(a,b){return Object.values(c("ComposerPublisherSupportedParameters")).includes(b)||c("ReactComposerWebUnusedParameters").params.create.includes(b)||c("isEmpty")(a[b])},_getContainsWhitelistedParameter:function(a,b){return c("ReactComposerWebWhitelistParameters").params.create.includes(b)&&!c("isEmpty")(a[b])},_getIsSupportedParameterForShareDialog:function(a,b){var d="share_dialog_";return Object.values(c("ComposerPublisherSupportedParameters")).includes(d+b)||c("ReactComposerWebUnusedParameters").params.share.includes(b)||c("isEmpty")(a[b])},_getShouldUseGraphQL:function(a){for(var b in a)if(j._getContainsWhitelistedParameter(a,b))return!1;return!0},_getShouldUseGraphQLForEdit:function(a){for(var b in a)if(j._getContainsWhitelistedParameterForEdit(a,b))return!1;return!0},getShouldUseGraphQLForEdit:function(a,b){d("ODS").bumpEntityKey(2966,"webgraphml_should_use","edit");if(!b.story_token){d("ODS").bumpEntityKey(2966,"webgraphml_should_not_use","edit_missing_story_token");c("FBLogger")("WebGraphML").warn("Missing story token from %s. Context: %s",b.xc_edit_callsite,b.xc_entstory_context);return!1}if(!j._getShouldUseGraphQLForEdit(b)){d("ODS").bumpEntityKey(2966,"webgraphml_should_not_use","edit_missing_features");return!1}if(c("CurrentUser").getAccountID()!==a){d("ODS").bumpEntityKey(2966,"webgraphml_should_not_use","edit_different_actor");return!1}return!0},_getIsSupportedParameterForEdit:function(a,b){var d="edit_";return Object.values(c("ComposerPublisherSupportedParameters")).includes(d+b)||c("ReactComposerWebUnusedParameters").params.edit.includes(b)||c("isEmpty")(a[b])},_getContainsWhitelistedParameterForEdit:function(a,b){return c("ReactComposerWebWhitelistParameters").params.edit.includes(b)&&!c("isEmpty")(a[b])},_getShouldUseGraphQLForShareDialog:function(a){for(var b in a)if(!j._getIsSupportedParameterForShareDialog(a,b))return!1;return!0},_getIsDirectedPost:function(a,b){return a!==b},_getPageCTAPostGK:function(a){return d("PagesComposerGraphMLGate").shouldUseGraphMLForPageCTAPostCreation(a)},_getPageVisitorStatusPostGK:function(a){return d("PagesComposerGraphMLGate").shouldUseGraphMLForVisitorStatus(a)},_getDirectedShareDialogPostGK:function(){return!0}};a=j;g["default"]=a}),98);
__d("ComposerXSessionIDs",["cx","DOM","killswitch","uuidv4"],(function(a,b,c,d,e,f,g){var h={},i=!b("killswitch")("COMPOSER_LAZY_INITIALIZE_SESSION_ID");a={getSessionID:function(a){i&&!h[a]&&(h[a]=b("uuidv4")());return h[a]},resetSessionID:function(a){h[a]=b("uuidv4")()},createSessionIDInput:function(a){return b("DOM").create("input",{type:"hidden",name:"composer_session_id",className:"_5r_b",value:a})}};e.exports=a}),null);
__d("ComposerXMarauderLogger",["ComposerStructuredLogger","ComposerStructuredLoggerUtil","ComposerXSessionIDs","Event","MarauderLogger"],(function(a,b,c,d,e,f,g){var h={},i="status";function j(a,b,c){if(d("ComposerStructuredLoggerUtil").shouldUseFalco(b,a))d("ComposerStructuredLogger").logEvent(b,a);else{var e;c||(c={});var f=h[b];b=d("ComposerXSessionIDs").getSessionID(b);if(!f||!b)return;if(c.logOncePerSession){f.loggedEventTypes[b]||(f.loggedEventTypes[b]={});if(f.loggedEventTypes[b][a])return;f.loggedEventTypes[b][a]=!0}e=(e=(e=c.extraData)==null?void 0:e.composer_entry_point_name)!=null?e:k(f);var g=f.composerType?f.composerType:i;c=babelHelpers["extends"]({},c.extraData,{composer_entry_point_name:e,composer_type:g,target_type:f.targetType,target_id:f.targetID,ref:f.entryPointRef,composer_source_surface:f.composerSourceSurface,is_edit_composer:f.isEditComposer===!0});d("MarauderLogger").log(a,"composer",c,void 0,void 0,b)}}function a(a,b,c){h[a.id]=babelHelpers["extends"]({targetID:b,loggedEventTypes:{}},c),d("ComposerStructuredLogger").registerComposer(a,b,c)}function b(a){return h[a]}function k(a){return a.composerSourceSurface==="page"?a.ref:"inline_composer"}function e(a,b){return!b?[]:[c("Event").listen(b,"submit",function(){n(a)}),c("Event").listen(b,"success",function(){o(a)}),c("Event").listen(b,"error",function(b){p(a,{error_info:{error_code:b.data.response.error,error_description:b.data.response.errorDescription,error_summary:b.data.response.errorSummary}})})]}function f(a,b){a=h[a];if(!a)return;switch(b){case"self":a.targetType="feed";break;case"friend":a.targetType="wall";break;case"page":case"selfpage":a.targetType="page";break;case"group":a.targetType="group";break;default:a.targetType="other"}}function l(a,b){j("composer_entry",a,{logOncePerSession:!0,extraData:b})}function m(a,b){j("composer_post_completed",a,{extraData:b})}function n(a,b){j("composer_post",a,{extraData:b})}function o(a,b){j("composer_post_success",a,{extraData:b})}function p(a,b){j("composer_post_failure",a,{extraData:b})}g.logEvent=j;g.registerComposer=a;g.getInstance=b;g.getComposerEntryPointName=k;g.listenForPostEvents=e;g.setShareMode=f;g.logEntry=l;g.logCompleted=m;g.logPost=n;g.logPostSuccess=o;g.logPostFailure=p}),98);
__d("ComposerFocusAcquiredFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743451");b=d("FalcoLoggerInternal").create("composer_focus_acquired",a);e=b;g["default"]=e}),98);
__d("ComposerFocusLostFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743452");b=d("FalcoLoggerInternal").create("composer_focus_lost",a);e=b;g["default"]=e}),98);
__d("ComposerInitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743453");b=d("FalcoLoggerInternal").create("composer_init",a);e=b;g["default"]=e}),98);
__d("PagesComposerDraftPostEditEnterFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744114");b=d("FalcoLoggerInternal").create("pages_composer_draft_post_edit_enter_flow",a);e=b;g["default"]=e}),98);
__d("PagesComposerDraftPostEditJSEvents",[],(function(a,b,c,d,e,f){a=Object.freeze({COMPOSER_POST:"composer_post",COMPOSER_ENTRY:"composer_entry"});f["default"]=a}),66);
__d("PagesComposerDraftPostEditSubmitFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744115");b=d("FalcoLoggerInternal").create("pages_composer_draft_post_edit_submit_flow",a);e=b;g["default"]=e}),98);
__d("PagesComposerAutoSavingActionsTypes",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({SET_DRAFT_ID:null});g["default"]=a}),98);
__d("ReactComposerAutoSavingStore",["PagesComposerAutoSavingActionsTypes","ReactComposerStoreBase"],(function(a,b,c,d,e,f,g){"use strict";var h={draftID:null};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return b=a.call(this,function(){return babelHelpers["extends"]({},h)},function(a){switch(a.type){case c("PagesComposerAutoSavingActionsTypes").SET_DRAFT_ID:babelHelpers.assertThisInitialized(b)&&b.$PagesComposerAutoSavingStore1(a);break}})||this}var d=b.prototype;d.getDraftID=function(a){return this.getComposerData(a).draftID};d.$PagesComposerAutoSavingStore1=function(a){var b=this.getComposerData(a.composerID);b.draftID=a.draftID;this.emitChange(a.composerID)};d.hasDraftID=function(a){return!!this.getComposerData(a).draftID};return b}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("ComposerStructuredLogger",["ComposerCancelFalcoEvent","ComposerEntryFalcoEvent","ComposerFocusAcquiredFalcoEvent","ComposerFocusLostFalcoEvent","ComposerInitFalcoEvent","ComposerPostFailureFalcoEvent","ComposerPostFalcoEvent","ComposerPostSuccessFalcoEvent","ComposerStructuredLoggerUtil","ComposerXSessionIDs","PagesComposerContextUtils","PagesComposerDraftPostEditEnterFlowFalcoEvent","PagesComposerDraftPostEditJSEvents","PagesComposerDraftPostEditSubmitFlowFalcoEvent","ReactComposerAutoSavingStore","ReactComposerLoggingStore"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(a,b,c){var d={};h[a.id]=Object.assign(d,{targetID:b,loggedEventTypes:{}},c)}function b(a){return h[a]}function i(a,b,e){var f=h[a],g=d("ComposerXSessionIDs").getSessionID(a);if(f==null||g===null||g===void 0)return!1;if(d("PagesComposerContextUtils").getIsDraftComposer(d("ComposerStructuredLoggerUtil").getEntryPoint(a))&&!Object.values(c("PagesComposerDraftPostEditJSEvents")).includes(e))return!1;a=c("ReactComposerLoggingStore").getComposerData(a);if(a.uniqueEvents.has(e)){if(a.uniqueEvents.get(e))return!1;a.uniqueEvents=a.uniqueEvents.set(e,!0)}if(b){f.loggedEventTypes[g]||(f.loggedEventTypes[g]={});if(f.loggedEventTypes[g][e])return!1;f.loggedEventTypes[g][e]=!0}return!0}function e(a,b){i(a,!0,b)&&c("ComposerInitFalcoEvent").log(function(){return t(a)})}function j(a,b){i(a,!0,b)&&c("ComposerEntryFalcoEvent").log(function(){return t(a)})}function k(a,b){i(a,!0,b)&&c("ComposerFocusAcquiredFalcoEvent").log(function(){return t(a)})}function l(a,b){i(a,!0,b)&&c("ComposerFocusLostFalcoEvent").log(function(){return t(a)})}function m(a,b){i(a,!0,b)&&c("ComposerPostFalcoEvent").log(function(){return t(a)})}function n(a,b){i(a,!0,b)&&c("ComposerPostSuccessFalcoEvent").log(function(){return t(a)})}function o(a,b){i(a,!0,b)&&c("ComposerPostFailureFalcoEvent").log(function(){return t(a)})}function p(a,b){i(a,!0,b)&&c("ComposerCancelFalcoEvent").log(function(){return t(a)})}function q(a,b){b==="composer_post"?r(a,b):b==="composer_entry"&&s(a,b)}function r(a,b){if(i(a,!0,b)){var e=babelHelpers["extends"]({},d("ComposerStructuredLoggerUtil").getDraftPostEditLoggingBaseData(a),{event_data:{is_sprouts_composer:1,post_action_type:d("ComposerStructuredLoggerUtil").getPostActionType(a),post_id:c("ReactComposerAutoSavingStore").getDraftID(a)}});if(b==="composer_post"&&e.post_id===null)return;c("PagesComposerDraftPostEditSubmitFlowFalcoEvent").log(function(){return e})}}function f(a,b){d("PagesComposerContextUtils").getIsDraftComposer(d("ComposerStructuredLoggerUtil").getEntryPoint(a))?q(a,b):b==="composer_entry"?j(a,b):b==="composer_cancel"?p(a,b):b==="composer_post"?m(a,b):b==="composer_focus_acquired"?k(a,b):b==="composer_focus_lost"?l(a,b):b==="composer_post_success"?n(a,b):b==="composer_post_failure"&&o(a,b)}function s(a,b){if(i(a,!0,b)){var e=babelHelpers["extends"]({},d("ComposerStructuredLoggerUtil").getDraftPostEditLoggingBaseData(a),{event_data:{is_sprouts_composer:1,post_id:c("ReactComposerAutoSavingStore").getDraftID(a)}});if(b==="composer_entry"&&e.post_id===null)return;c("PagesComposerDraftPostEditEnterFlowFalcoEvent").log(function(){return e})}}function t(a){return babelHelpers["extends"]({},d("ComposerStructuredLoggerUtil").getLoggingBaseData(a),{event_data:babelHelpers["extends"]({},d("ComposerStructuredLoggerUtil").getLoggingEventData(a))})}g.registerComposer=a;g.getInstance=b;g.shouldLogEvent=i;g.logImpression=e;g.logEnterFlow=j;g.logFocusAcquired=k;g.logFocusLost=l;g.logSubmitFlow=m;g.logSubmitFlowSuccess=n;g.logSubmitFlowFailure=o;g.logCancelFlow=p;g.logDraftPostEditEvent=q;g.logDraftPostEditSubmitFlow=r;g.logEvent=f;g.logDraftPostEditEnterFlow=s;g._getComposerLoggingData=t}),98);
__d("PagesComposerWWWInterceptionActionsType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirrorRecursive")({INTERCEPTION_DETECTED:null,INTERCEPTION_RESPONSE:null},"PagesComposerWWWInterceptionActionsType");g["default"]=a}),98);
__d("ReactComposerAttachmentInitState",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({UNINITIALIZED:null,INITIALIZING:null,INITIALIZED:null},"ReactComposerAttachmentInitState");g["default"]=a}),98);
__d("ReactComposerAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({ADVERTISE:"ADVERTISE",STATUS:"STATUS",MEDIA:"MEDIA",ALBUM:"ALBUM",MILESTONE:"MILESTONE",MLE:"MLE",NOTES:"NOTES",IG_PHOTO_REMINDER:"IG_PHOTO_REMINDER",QANDA:"QANDA",PAGES_EXTRA:"PAGES_EXTRA",FILE:"FILE",QUESTION:"QUESTION",VISUAL_POLL:"VISUAL_POLL",LIST:"LIST",TODO_LIST:"TODO_LIST",SELL:"SELL",WORK_HEADER:"WORK_HEADER",WORK_FOOTER:"WORK_FOOTER",SEND_GIFT:"SEND_GIFT",LOCAL_DEV_PLATFORM:"LOCAL_DEV_PLATFORM",LIVE_BROADCAST:"LIVE_BROADCAST",PHOTO_ZOOM_CROP:"PHOTO_ZOOM_CROP",PROFILE_PIC_DESCRIPTION:"PROFILE_PIC_DESCRIPTION",PROFILE_PIC_FRAME:"PROFILE_PIC_FRAME",LIVE_VIDEO:"LIVE_VIDEO",DOC:"DOC",EVENT:"EVENT",GAME:"GAME",CTA:"CTA",QA:"QA",MESSAGE:"MESSAGE",WHATSAPP_MESSAGE:"WHATSAPP_MESSAGE",GET_DIRECTIONS:"GET_DIRECTIONS",CALL:"CALL",SHOP:"SHOP",PLACE_LIST:"PLACE_LIST",QUIZ:"QUIZ",ADD_MENTIONED:"ADD_MENTIONED",AUDIENCE_SELECTOR:"AUDIENCE_SELECTOR",LEARNING_COURSE:"LEARNING_COURSE",LEARNING_THIRD_PARTY_LINK:"LEARNING_THIRD_PARTY_LINK",PAGE_RECOMMENDATION:"PAGE_RECOMMENDATION",POST_TO_GROUP:"POST_TO_GROUP",MEDIA_EFFECT_SHARE:"MEDIA_EFFECT_SHARE",FIND_PLAYERS:"FIND_PLAYERS",SALES_PROMO:"SALES_PROMO",JOB_SEARCH:"JOB_SEARCH",SHARING_SPACES_SELECTOR:"SHARING_SPACES_SELECTOR",UICE_EXAMPLE_ATTACHMENT:"UICE_EXAMPLE_ATTACHMENT",EVENT_CREATION:"EVENT_CREATION",ASSET_3D:"ASSET_3D",LIVING_ROOM:"LIVING_ROOM",VIDEO_SUGGESTIONS:"VIDEO_SUGGESTIONS",APP_INTEGRATION_AODOCS:"APP_INTEGRATION_AODOCS",APP_INTEGRATION_BOX:"APP_INTEGRATION_BOX",APP_INTEGRATION_CORNERSTONE:"APP_INTEGRATION_CORNERSTONE",APP_INTEGRATION_DROPBOX:"APP_INTEGRATION_DROPBOX",APP_INTEGRATION_EGNYTE:"APP_INTEGRATION_EGNYTE",APP_INTEGRATION_GDRIVE:"APP_INTEGRATION_GDRIVE",APP_INTEGRATION_JIRA:"APP_INTEGRATION_JIRA",APP_INTEGRATION_ONEDRIVE:"APP_INTEGRATION_ONEDRIVE",APP_INTEGRATION_QUIP:"APP_INTEGRATION_QUIP",APP_INTEGRATION_SHAREPOINT:"APP_INTEGRATION_SHAREPOINT",APP_INTEGRATION_TASKS:"APP_INTEGRATION_TASKS",APP_INTEGRATION_TRELLO:"APP_INTEGRATION_TRELLO",INTERN_QA:"INTERN_QA",RECRUITING_CANDIDATE:"RECRUITING_CANDIDATE",VIDEO_EDITOR:"VIDEO_EDITOR",SUPPORT_NOW:"SUPPORT_NOW",VISUAL_POLLS:"VISUAL_POLLS",WORK_FILE:"WORK_FILE",SOTTO_CTA:"SOTTO_CTA",SHIFT_SWAP:"SHIFT_SWAP",DRAFT_FOR:"DRAFT_FOR",WORK_ACHIEVEMENT:"WORK_ACHIEVEMENT",WORK_COLLABORATION:"WORK_COLLABORATION",CHATROOM:"CHATROOM",KNOWLEDGE_NOTES:"KNOWLEDGE_NOTES"});f["default"]=a}),66);
__d("ReactComposerFocusActionTypes",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({SUBSCRIBE:null,UNSUBSCRIBE:null,FOCUS_ACQUIRED:null,FOCUS_LOST:null});g["default"]=a}),98);
__d("ReactComposerAttachmentStore",["ImmutableObject","PagesComposerWWWInterceptionActionsType","ReactComposerAttachmentActionType","ReactComposerAttachmentInitState","ReactComposerAttachmentType","ReactComposerFocusActionTypes","ReactComposerStoreBaseGatedModule","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){var h=[c("ReactComposerAttachmentType").STATUS,c("ReactComposerAttachmentType").MEDIA,c("ReactComposerAttachmentType").SHARING_SPACES_SELECTOR],i=[c("ReactComposerAttachmentType").MEDIA];a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;b=a.call(this,function(){return{attachments:[],selectedAttachment:null,isSelectedAttachmentActive:!1,proxiedAttachment:null,isContentMultiShareAttachment:!1}},function(a){switch(a.type){case c("ReactComposerAttachmentActionType").REGISTER_ATTACHMENT:d&&d.$ReactComposerAttachmentStore1(a);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerAttachmentStore2(a);break;case c("ReactComposerAttachmentActionType").SET_ATTACHMENT_MARKUP:d&&d.$ReactComposerAttachmentStore3(a);break;case c("ReactComposerAttachmentActionType").SET_BOOTLOADED:d&&d.$ReactComposerAttachmentStore4(a);break;case c("ReactComposerAttachmentActionType").SET_BOOTSTRAPPED:d&&d.$ReactComposerAttachmentStore5(a);break;case c("ReactComposerAttachmentActionType").SET_INITIALIZED:d&&d.$ReactComposerAttachmentStore6(a);break;case c("ReactComposerFocusActionTypes").FOCUS_LOST:d&&d.$ReactComposerAttachmentStore7(a);break;case c("PagesComposerWWWInterceptionActionsType").INTERCEPTION_DETECTED:d&&d.$ReactComposerAttachmentStore8(a);break;case c("PagesComposerWWWInterceptionActionsType").INTERCEPTION_RESPONSE:d&&d.$ReactComposerAttachmentStore9(a);break;case c("ReactComposerAttachmentActionType").SET_CONTENT_MULTI_SHARE:d&&d.$ReactComposerAttachmentStore10(a);break}})||this;d=babelHelpers.assertThisInitialized(b);return b}var d=b.prototype;d.getAttachment=function(a,b){a=this.getComposerData(a);return a.attachments.find(function(a){return a.id===b})};d.getSelectedAttachmentID=function(a){a=this.getComposerData(a);return a.selectedAttachment?a.selectedAttachment.id:null};d.getProxiedAttachmentID=function(a){a=this.getComposerData(a);return a.proxiedAttachment?a.proxiedAttachment.id:null};d.isContentMultiShareAttachment=function(a){return this.getComposerData(a).isContentMultiShareAttachment};d.hasAttachment=function(a,b){return this.getComposerData(a).attachments.some(function(a){return a.id===b})};d.getIsAttachmentSelected=function(a,b){a=this.getComposerData(a).selectedAttachment;return!!a&&a.id===b};d.getIsAttachmentSelectedOrProxied=function(a,b){if(this.getIsAttachmentSelected(a,b))return!0;else{a=this.getComposerData(a).proxiedAttachment;return!!a&&a.id===b}};d.isSelectedAttachmentDestinationPickerEligible=function(a){a=this.getComposerData(a).selectedAttachment;return a&&h.indexOf(a.id)!=-1};d.isSelectedAttachmentActive=function(a){return this.getComposerData(a).isSelectedAttachmentActive};d.isInterceptionDetected=function(a,b){if(!b)return!1;a=this.getComposerData(a);b=this.$ReactComposerAttachmentStore11(a,b);return a.attachments[b]?a.attachments[b].interceptionDetected:!1};d.isBootstrapped=function(a,b){a=this.getComposerData(a);b=this.$ReactComposerAttachmentStore11(a,b);return a.attachments[b].bootstrapped};d.getBootloadDuration=function(a,b){a=this.getComposerData(a);b=this.$ReactComposerAttachmentStore11(a,b);return a.attachments[b].bootloadDuration};d.getBootstrapDuration=function(a,b){a=this.getComposerData(a);b=this.$ReactComposerAttachmentStore11(a,b);return a.attachments[b].bootstrapDuration};d.getInterceptionResponse=function(a){a=this.getComposerData(a);return a.interceptionResponse||null};d.getAttachmentMarkup=function(a,b){a=this.getComposerData(a);b=this.$ReactComposerAttachmentStore11(a,b);return a.attachments[b].markup};d.getAttachmentsConfig=function(a,b){a=this.getComposerData(a);b=this.$ReactComposerAttachmentStore11(a,b);return a.attachments[b].config};d.getIsMediaCompatibleAttachmentSelected=function(a){a=this.getSelectedAttachmentID(a);return i.includes(a)};d.$ReactComposerAttachmentStore1=function(a){var b=this.validateAction(a,["composerID","id"]),d=b[0];b=b[1];var e=this.getComposerData(d);b=new(c("ImmutableObject"))({id:b,initState:c("ReactComposerAttachmentInitState").UNINITIALIZED,bootloaded:a.bootloaded,bootstrapped:a.bootstrapped,module:a.module,postButtonModule:a.postButtonModule,initTime:null,bootloadDuration:null,bootstrapDuration:null,interceptionDetected:!1,config:a.config&&b===c("ReactComposerAttachmentType").MEDIA?{videoUploadParams:a.config.videoUploadParams||{}}:null});e.attachments.push(b);a.selected&&(e.selectedAttachment=b);a.active&&(e.isSelectedAttachmentActive=!0);this.emitChange(d)};d.$ReactComposerAttachmentStore9=function(a){a=this.validateAction(a,["interceptionResponse","composerID"]);var b=a[0];a=a[1];var c=this.getComposerData(a);c.interceptionResponse=b;this.emitChange(a)};d.$ReactComposerAttachmentStore8=function(a){a=this.validateAction(a,["attachmentID","composerID"]);var b=a[0];a=a[1];var d=this.getComposerData(a);b=this.$ReactComposerAttachmentStore11(d,b);d.attachments[b].interceptionDetected||(d.attachments[b]=c("ImmutableObject").set(d.attachments[b],{interceptionDetected:!0}));this.emitChange(a)};d.$ReactComposerAttachmentStore2=function(a){var b=this.validateAction(a,["id","composerID","activate"]),d=b[0],e=b[1];b=b[2];var f=this.getComposerData(e);d=this.$ReactComposerAttachmentStore11(f,d);f.selectedAttachment=f.attachments[d];f.isSelectedAttachmentActive=b;f.attachments[d].initState===c("ReactComposerAttachmentInitState").UNINITIALIZED&&(f.attachments[d]=c("ImmutableObject").set(f.attachments[d],{initState:c("ReactComposerAttachmentInitState").INITIALIZING}));if(a.proxiedAttachmentID){b=this.$ReactComposerAttachmentStore11(f,a.proxiedAttachmentID);f.proxiedAttachment=f.attachments[b]}else delete f.proxiedAttachment;this.emitChange(e)};d.$ReactComposerAttachmentStore4=function(a){var b=this.validateAction(a,["id","composerID","attachmentModule"]),d=b[0],e=b[1];b=b[2];var f=this.getComposerData(e);d=this.$ReactComposerAttachmentStore11(f,d);f.attachments[d]=c("ImmutableObject").set(f.attachments[d],{bootloaded:!0,bootloadDuration:c("performanceAbsoluteNow")()-f.attachments[d].initTime,module:b,postButtonModule:a.postButtonModule});this.emitChange(e)};d.$ReactComposerAttachmentStore5=function(a){a=this.validateAction(a,["id","composerID"]);var b=a[0];a=a[1];var d=this.getComposerData(a);b=this.$ReactComposerAttachmentStore11(d,b);d.attachments[b]=c("ImmutableObject").set(d.attachments[b],{bootstrapped:!0,bootstrapDuration:c("performanceAbsoluteNow")()-d.attachments[b].initTime});this.emitChange(a)};d.$ReactComposerAttachmentStore3=function(a){a=this.validateAction(a,["composerID","config"]);var b=a[0];a=a[1];var d=this.getComposerData(b),e=a.attachmentID;if(!e)return;e=this.$ReactComposerAttachmentStore11(d,e);d.attachments[e]=c("ImmutableObject").set(d.attachments[e],{markup:a.markup});this.emitChange(b)};d.$ReactComposerAttachmentStore6=function(a){a=this.validateAction(a,["id","composerID"]);var b=a[0];a=a[1];var d=this.getComposerData(a);b=this.$ReactComposerAttachmentStore11(d,b);d.attachments[b]=c("ImmutableObject").set(d.attachments[b],{initState:c("ReactComposerAttachmentInitState").INITIALIZED,initTime:c("performanceAbsoluteNow")()});this.emitChange(a)};d.$ReactComposerAttachmentStore7=function(a){a=this.validateAction(a,"composerID");var b=this.getProxiedAttachmentID(a);b&&this.$ReactComposerAttachmentStore2({composerID:a,id:this.getProxiedAttachmentID(a),activate:!1})};d.$ReactComposerAttachmentStore10=function(a){a=this.validateAction(a,["composerID","isContentMultiShareAttachment"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.isContentMultiShareAttachment=a;this.emitChange(b)};d.$ReactComposerAttachmentStore11=function(a,b){var c=-1;for(var d=0;d<a.attachments.length;d++)if(a.attachments[d].id===b){c=d;break}if(c===-1)throw new Error("Undefined attachment id: "+b);return c};return b}(c("ReactComposerStoreBaseGatedModule").module);b=new a();g["default"]=b}),98);
__d("ReactComposerAudienceActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({SET_AUDIENCE:null,SET_AUDIENCE_ELEMENT:null,SET_AUDIENCE_INSTANCE:null,SET_PRIVACYX_NULL_DANGEROUS:null,SET_COLLECTION:null,SET_TIMELINE_DESTINATION:null,TOGGLE_TIMELINE_DESTINATION:null,SET_STORIES_DESTINATION:null,TOGGLE_STORIES_DESTINATION:null,SET_ADS_POST_DESTINATION:null,TOGGLE_ADS_POST_DESTINATION:null,SET_INSTAGRAM_DESTINATION:null,SET_GROUP_DESTINATION:null,TOGGLE_INSTAGRAM_DESTINATION:null,SAVE_STORIES_STATE:null,TOGGLE_MESSENGER_ENTRY:null,CLICK_SEE_MESSENGER:null,STORE_MESSENGER_ENTRIES:null,CLEAR_STORED_MESSENGER_ENTRIES:null,ADD_NEW_GROUP:null},"ReactComposerAudienceActionTypes");g["default"]=a}),98);
__d("ReactComposerAudienceMessengerTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({INDIVIDUAL:"individual",EXISTING_GROUP:"existing_group",NEW_GROUP:"new_group",ALL_NEW_GROUPS:"all_new_groups_attempt"});f["default"]=a}),66);
__d("ReactComposerAudienceMessengerEntry",["MercuryIDs","ReactComposerAudienceMessengerTypes","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("immutable").Record({individual:c("immutable").Set(),existing_group:c("immutable").Set(),new_group:c("immutable").Set(),all_new_groups_attempt:new Set()});b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d,e,f){return a.call(this,{individual:b||c("immutable").Set(),existing_group:d||c("immutable").Set(),new_group:e||c("immutable").Set(),all_new_groups_attempt:f||new Set()})||this}var e=b.prototype;e.isEmpty=function(){return this.individual.size===0&&this.existing_group.size===0&&this.new_group.size===0};e.flatten=function(){var a=c("immutable").Set();this.toMap().forEach(function(b,d){return d===c("ReactComposerAudienceMessengerTypes").ALL_NEW_GROUPS?null:a=a.union(b)});return a};e.parseIndividualAndExistingGroups=function(){return this.individual.union(this.existing_group)};e.parseNewMessengerGroups=function(){return this.new_group.map(function(a){return a.split(",")})};e.getThreadIDs=function(){var a=this.individual.map(function(a){return d("MercuryIDs").getThreadIDFromUserID(a)}),b=this.existing_group.map(function(a){return d("MercuryIDs").getThreadIDFromThreadFBID(a)});return a.union(b)};e.isDuplicateNewGroup=function(a){for(var b=this.all_new_groups_attempt,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(e.getUniqueID()===a)return!0}return!1};return b}(a);g["default"]=b}),98);
__d("ReactComposerAudienceStore",["csx","invariant","$","DOM","ReactComposerActionStore","ReactComposerAudienceActionTypes","ReactComposerAudienceMessengerEntry","ReactComposerAudienceMessengerTypes"],(function(a,b,c,d,e,f,g,h,i){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;b=a.call(this,function(){return{audience:null,audienceElement:null,audienceInstance:null,legacyAudience:null,privacyxNullDangerous:!1,collectionID:null,privacyLabel:null,timelineSelected:!0,storiesSelected:!1,instagramSelected:!1,selectedGroupID:null,adsPostSelected:!1,storiesSelectedSavedState:null,selectedMessengerRecipientEntries:new(c("ReactComposerAudienceMessengerEntry"))(),expandedMessengerSection:!1,savedMessengerEntries:new(c("ReactComposerAudienceMessengerEntry"))()}},function(a){switch(a.type){case c("ReactComposerAudienceActionTypes").SET_AUDIENCE:d&&d.$ReactComposerAudienceStore1(a);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE_ELEMENT:d&&d.$ReactComposerAudienceStore2(a);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE_INSTANCE:d&&d.$ReactComposerAudienceStore3(a);break;case c("ReactComposerAudienceActionTypes").SET_PRIVACYX_NULL_DANGEROUS:d&&d.$ReactComposerAudienceStore4(a);break;case c("ReactComposerAudienceActionTypes").SET_COLLECTION:d&&d.$ReactComposerAudienceStore5(a);break;case c("ReactComposerAudienceActionTypes").SET_TIMELINE_DESTINATION:d&&d.$ReactComposerAudienceStore6(a);break;case c("ReactComposerAudienceActionTypes").TOGGLE_TIMELINE_DESTINATION:d&&d.$ReactComposerAudienceStore7(a);break;case c("ReactComposerAudienceActionTypes").SET_STORIES_DESTINATION:d&&d.$ReactComposerAudienceStore8(a);break;case c("ReactComposerAudienceActionTypes").TOGGLE_STORIES_DESTINATION:d&&d.$ReactComposerAudienceStore9(a);break;case c("ReactComposerAudienceActionTypes").SET_ADS_POST_DESTINATION:d&&d.$ReactComposerAudienceStore10(a);break;case c("ReactComposerAudienceActionTypes").TOGGLE_ADS_POST_DESTINATION:d&&d.$ReactComposerAudienceStore11(a);break;case c("ReactComposerAudienceActionTypes").SET_INSTAGRAM_DESTINATION:d&&d.$ReactComposerAudienceStore12(a);break;case c("ReactComposerAudienceActionTypes").SET_GROUP_DESTINATION:d&&d.$ReactComposerAudienceStore13(a);break;case c("ReactComposerAudienceActionTypes").TOGGLE_INSTAGRAM_DESTINATION:d&&d.$ReactComposerAudienceStore14(a);break;case c("ReactComposerAudienceActionTypes").SAVE_STORIES_STATE:d&&d.$ReactComposerAudienceStore15(a);break;case c("ReactComposerAudienceActionTypes").TOGGLE_MESSENGER_ENTRY:d&&d.$ReactComposerAudienceStore16(a);break;case c("ReactComposerAudienceActionTypes").CLICK_SEE_MESSENGER:d&&d.$ReactComposerAudienceStore17(a);break;case c("ReactComposerAudienceActionTypes").STORE_MESSENGER_ENTRIES:d&&d.$ReactComposerAudienceStore18(a);break;case c("ReactComposerAudienceActionTypes").CLEAR_STORED_MESSENGER_ENTRIES:d&&d.$ReactComposerAudienceStore19(a);break;case c("ReactComposerAudienceActionTypes").ADD_NEW_GROUP:d&&d.$ReactComposerAudienceStore20(a);break}})||this;d=babelHelpers.assertThisInitialized(b);return b}var d=b.prototype;d.getAudience=function(a){if(this.getPrivacyxNullDangerous(a))return null;try{var b=c("DOM").scry(c("$")(a),"._5dd8");b.length<2||i(0,5186);b=b[0];if(b){b=c("DOM").scry(b,'input[name="privacyx"]');b.length<2||i(0,5187);if(b.length===1)return b[0].value}}catch(a){}return this.getComposerData(a).audience};d.getLegacyAudience=function(a){return this.getComposerData(a).legacyAudience};d.getAudienceElement=function(a){return this.getComposerData(a).audienceElement};d.getAudienceInstance=function(a){return this.getComposerData(a).audienceInstance};d.getPrivacyxNullDangerous=function(a){return this.getComposerData(a).privacyxNullDangerous};d.getCollectionID=function(a){return this.getComposerData(a).collectionID};d.getPrivacyLabel=function(a){return this.getComposerData(a).privacyLabel};d.getTimelineSelected=function(a){return this.getComposerData(a).timelineSelected};d.getStoriesSelected=function(a){return this.getComposerData(a).storiesSelected};d.getAdsPePostSelected=function(a){return this.getComposerData(a).adsPostSelected};d.getInstagramBusinessAccountID=function(a){return this.getComposerData(a).instagramBusinessAccountID};d.getInstagramSelected=function(a){return this.getComposerData(a).instagramSelected};d.getSelectedGroupID=function(a){return this.getComposerData(a).selectedGroupID};d.getStoriesSelectedSavedState=function(a){return this.getComposerData(a).storiesSelectedSavedState};d.getSelectedMessengerRecipientEntries=function(a){return this.getComposerData(a).selectedMessengerRecipientEntries};d.getMessengerSectionVisible=function(a){return this.getComposerData(a).expandedMessengerSection};d.getStoredMessengerRecipientEntries=function(a){return this.getComposerData(a).savedMessengerEntries};d.getNoDestinationSelected=function(a){return!this.getSelectedMessengerRecipientEntries(a)&&!this.getStoriesSelectedSavedState(a)&&!this.getInstagramSelected(a)&&!this.getSelectedGroupID(a)&&!this.getStoriesSelected(a)&&!this.getTimelineSelected(a)};d.$ReactComposerAudienceStore1=function(a){var b=this.validateAction(a,"composerID"),c=this.getComposerData(b);c.audience=a.audience;c.legacyAudience=a.legacyAudience;this.emitChange(b)};d.$ReactComposerAudienceStore2=function(a){a=this.validateAction(a,["composerID","audienceElement"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.audienceElement=a;this.emitChange(b)};d.$ReactComposerAudienceStore3=function(a){var b=this.validateAction(a,"composerID"),c=this.getComposerData(b);c.audienceInstance=a.audienceInstance;this.emitChange(b)};d.$ReactComposerAudienceStore4=function(a){var b=this.validateAction(a,"composerID"),c=this.getComposerData(b);c.privacyxNullDangerous=a.privacyxNullDangerous;this.emitChange(b)};d.$ReactComposerAudienceStore5=function(a){var b=this.validateAction(a,["composerID","collectionID"]),c=b[0];b=b[1];var d=this.getComposerData(c);d.collectionID=b;d.privacyLabel=a.privacyLabel;this.emitChange(c)};d.$ReactComposerAudienceStore6=function(a){a=this.validateAction(a,["composerID","timelineSelected"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.timelineSelected=a;this.emitChange(b)};d.$ReactComposerAudienceStore7=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.timelineSelected=!b.timelineSelected;this.emitChange(a)};d.$ReactComposerAudienceStore8=function(a){a=this.validateAction(a,["composerID","storiesSelected"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.storiesSelected=a;this.emitChange(b)};d.$ReactComposerAudienceStore9=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.storiesSelected=!b.storiesSelected;this.emitChange(a)};d.$ReactComposerAudienceStore10=function(a){a=this.validateAction(a,["composerID","adsPostSelected"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.adsPostSelected=a;this.emitChange(b)};d.$ReactComposerAudienceStore11=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.adsPostSelected=!b.adsPostSelected;this.emitChange(a)};d.$ReactComposerAudienceStore12=function(a){a=this.validateAction(a,["composerID","instagramSelected"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.instagramSelected=a;this.emitChange(b)};d.$ReactComposerAudienceStore13=function(a){a=this.validateAction(a,["composerID","selectedGroupID"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.selectedGroupID=a;this.emitChange(b)};d.$ReactComposerAudienceStore14=function(a){a=this.validateAction(a,["composerID","instagramBusinessAccountID"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.instagramSelected=!c.instagramSelected;c.instagramBusinessAccountID?c.instagramBusinessAccountID=null:c.instagramBusinessAccountID=a;this.emitChange(b)};d.$ReactComposerAudienceStore15=function(a){a=this.validateAction(a,["composerID","storiesSelected"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.storiesSelectedSavedState=a;this.emitChange(b)};d.$ReactComposerAudienceStore16=function(a){a=this.validateAction(a,["composerID","targetID","entryType"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);d.selectedMessengerRecipientEntries[a].has(c)?d.selectedMessengerRecipientEntries=d.selectedMessengerRecipientEntries.set(a,d.selectedMessengerRecipientEntries[a]["delete"](c)):d.selectedMessengerRecipientEntries=d.selectedMessengerRecipientEntries.set(a,d.selectedMessengerRecipientEntries[a].add(c));this.emitChange(b)};d.$ReactComposerAudienceStore17=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.expandedMessengerSection=!0;this.emitChange(a)};d.$ReactComposerAudienceStore18=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.savedMessengerEntries=b.selectedMessengerRecipientEntries;b.selectedMessengerRecipientEntries=new(c("ReactComposerAudienceMessengerEntry"))();this.emitChange(a)};d.$ReactComposerAudienceStore19=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.savedMessengerEntries=new(c("ReactComposerAudienceMessengerEntry"))();this.emitChange(a)};d.$ReactComposerAudienceStore20=function(a){a=this.validateAction(a,["composerID","entry"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.selectedMessengerRecipientEntries[c("ReactComposerAudienceMessengerTypes").ALL_NEW_GROUPS].add(a)};return b}(c("ReactComposerActionStore"));b=new a();g["default"]=b}),98);
__d("ReactComposerMediaUploadType",[],(function(a,b,c,d,e,f){a="PHOTO";b="VIDEO";f.PHOTO=a;f.VIDEO=b}),66);
__d("ReactComposerMultilingualStatusActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({MOUNTED_MULTILINGUAL_STATUS:null,MULTILINGUAL_PROMPT_CLICK:null,MULTILINGUAL_PROMPT_CLOSE:null,LANGUAGE_CREATED:null,LANGUAGE_CHANGED:null,LANGUAGE_REMOVED:null,SET_LANGUAGE_EDITOR_STATE:null,SET_SPECIFIED_POST_LANGUAGE:null,PREFILL_MULTILINGUAL_DATA:null,REMOVE_EDITOR_STATE_FORMATTING:null},"ReactComposerMultilingualStatusActionType");g["default"]=a}),98);
__d("ReactComposerStatusActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({SET_EDITOR_STATE:null,SET_ORIGINAL_EDITOR_STATE:null,SET_TEXT_LENGTH:null,SET_MENTIONS:null,SET_MENTIONS_SOURCE:null,SET_TYPEAHEAD_REPORTER:null,REMOVE_EDITOR_STATE_FORMATTING:null},"ReactComposerStatusActionType");g["default"]=a}),98);
__d("getAutoURLRangesForContentState",["cr:830759","cr:832181"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.getBlockMap().map(function(a){var c=[];b("cr:830759")!==null&&b("cr:830759")(a,function(a,b,d){c.push({start:a,end:b,match:d})});b("cr:832181")!==null&&b("cr:832181")(a,function(a,b,d,e){c.push({start:a,end:b,match:d,hovercard_endpoint:e})});return c}).toArray()}g["default"]=a}),98);
__d("getRichComposedTextDataForSave",["encodeImplicitURLRanges"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.encodedContent,d=a.implicitLinks;a=b.blocks;var e=b.entityMap;if(d!=null){b=Object.keys(e).map(function(a){return Number(a)});b=Math.max.apply(Math,[0].concat(b));var f=b+1;a.forEach(function(a,b){b=c("encodeImplicitURLRanges")(a.text,a.entityRanges,d[b]);b.forEach(function(b){var c=b.entity;b=b.range;var d=f++;a.entityRanges.push(babelHelpers["extends"]({},b,{key:d}));e[""+d]=c})})}return{blocks:a.map(function(a){return a.text}),block_depths:a.map(function(a){return a.depth}),block_types:a.map(function(a){return a.type}),block_data:a.map(function(a){return a.data?JSON.stringify(a.data):"{}"}),entities:a.map(function(a){return JSON.stringify(a.entityRanges)}),entity_map:JSON.stringify(e),inline_styles:a.map(function(a){return JSON.stringify(a.inlineStyleRanges)})}}g["default"]=a}),98);
__d("RichTextViewUtils",["FBLogger","ReactComposerAttachmentStore","ReactComposerAttachmentType","encodeBlocks","getAutoURLRangesForContentState","getImplicitURLRangesForContentState","getRichComposedTextDataForSave"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=c("ReactComposerAttachmentStore").getSelectedAttachmentID(a);if(a===c("ReactComposerAttachmentType").LIVE_VIDEO||a===c("ReactComposerAttachmentType").SELL)return!1;a=b&&b.attachmentsConfig[c("ReactComposerAttachmentType").STATUS];return!!(a&&a.richTextEditor)}function h(a){for(var b=a.blocks,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(e.type!==0||e.inlineStyleRanges.length!==0)return!0}for(e in a.entityMap){d=a.entityMap[e];if(d.type!==0&&d.type!==12)return!0}return!1}function b(a){a=a.getCurrentContent();var b=c("encodeBlocks")(a),d=c("getImplicitURLRangesForContentState")(a),e=c("getAutoURLRangesForContentState")(a);if(!(h(b)||e.some(function(a){return a.length})))return null;e.some(function(a){return a.length})&&c("FBLogger")("react_composer").info("autolinks used");a={encodedContent:b,implicitLinks:d.map(function(a,b){return a.concat(e[b])})};return c("getRichComposedTextDataForSave")(a)}g.isRichTextEditorAllowed=a;g.getRichTextBlocksParams=b}),98);
__d("TextDelightInComposerLogger",["FunnelLogger","hashString"],(function(a,b,c,d,e,f,g){"use strict";var h="TEXT_DELIGHTS_COMPOSER_FUNNEL",i="regex_matched",j="opt_out_tapped",k="opt_out_backspace",l="range_tapped";function m(a){return c("hashString")(a)}function n(a,b){a=m(a);if(d("FunnelLogger").getFunnelInstance(h,a))return;d("FunnelLogger").startFunnel(h,a);d("FunnelLogger").addFunnelTag(h,a,b)}function o(a,b,c,e,f){n(a,f),d("FunnelLogger").appendActionWithPayload(h,m(a),b,{campaign_id:c,keyword:e})}function a(a,b,c,d){o(a,i,b,c,d)}function b(a,b,c,d){o(a,j,b,c,d)}function e(a,b,c,d){o(a,k,b,c,d)}function f(a,b,c,d){o(a,l,b,c,d)}function p(a){d("FunnelLogger").endFunnel(h,m(a))}g.startFunnelInstance=n;g._appendAction=o;g.regexMatched=a;g.optOutTapped=b;g.optOutBackspace=e;g.rangeTapped=f;g.endFunnel=p}),98);
__d("getDelightRangesForContentState",["TextDelightInComposerGating","TextDelightInComposerLogger","UnicodeUtils","emptyFunction","getChunkForContentState"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){if(!d("TextDelightInComposerGating").isHighlightEnabled(b))return[];if(a.getPlainText()==="")return[];e&&d("TextDelightInComposerLogger").endFunnel(e);var f=0,g=[];a.getBlockMap().forEach(function(b){var e=b.getText();b.findEntityRanges(c("emptyFunction").thatReturnsTrue,function(c,i){i=h(e.slice(c,i),b.getEntityAt(c),a);i.isDelight&&g.push({offset:f,length:d("UnicodeUtils").strlen(i.text),campaignID:i.campaignID});f+=d("UnicodeUtils").strlen(i.text)});f+=1});return g}function h(a,b,d){if(b){var e=d.getEntity(b);if(e.getType()==="DELIGHT"&&!e.getData().disabled){e=e.getData().campaignID;if(/^\d+$/.test(e))return{isDelight:!0,text:a,campaignID:e}}}e=c("getChunkForContentState")(a,b,d);return{isDelight:!1,text:e}}g["default"]=a}),98);
__d("ReactComposerStatusStore",["ContentState","EditorState","ReactComposerMultilingualStatusActionType","ReactComposerStatusActionType","ReactComposerStoreBase","RichTextViewUtils","getDelightRangesForContentState","getMentionsTextForContentState"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;b=a.call(this,function(){var a=c("EditorState").createEmpty();return{activeEditorState:a,activeLanguageDialect:null,editorState:a,length:0,mentionsSource:null,originalEditorState:null,typeaheadReporter:null,mentions:null}},function(a){switch(a.type){case c("ReactComposerStatusActionType").SET_MENTIONS_SOURCE:d&&d.$ReactComposerStatusStore1(a);break;case c("ReactComposerStatusActionType").SET_TYPEAHEAD_REPORTER:d&&d.$ReactComposerStatusStore2(a);break;case c("ReactComposerStatusActionType").SET_EDITOR_STATE:d&&d.$ReactComposerStatusStore3(a);break;case c("ReactComposerMultilingualStatusActionType").SET_LANGUAGE_EDITOR_STATE:d&&d.$ReactComposerStatusStore4(a);break;case c("ReactComposerStatusActionType").SET_ORIGINAL_EDITOR_STATE:d&&d.$ReactComposerStatusStore5(a);break;case c("ReactComposerStatusActionType").SET_MENTIONS:d&&d.$ReactComposerStatusStore6(a);break;case c("ReactComposerStatusActionType").SET_TEXT_LENGTH:d&&d.$ReactComposerStatusStore7(a);break;case c("ReactComposerStatusActionType").REMOVE_EDITOR_STATE_FORMATTING:d&&d.$ReactComposerStatusStore8(a);break}})||this;d=babelHelpers.assertThisInitialized(b);return b}var e=b.prototype;e.getMentionsSource=function(a){return this.getComposerData(a).mentionsSource};e.getTypeaheadReporter=function(a){return this.getComposerData(a).typeaheadReporter};e.getEditorState=function(a){return this.getComposerData(a).editorState};e.getOriginalEditorState=function(a){return this.getComposerData(a).originalEditorState};e.getActiveEditorState=function(a){return this.getComposerData(a).activeEditorState};e.getActiveLanguageDialect=function(a){return this.getComposerData(a).activeLanguageDialect};e.getMentions=function(a){return this.getComposerData(a).mentions};e.getMessage=function(a,b){b===void 0&&(b=!1);a=this.getEditorState(a);if(!a)return"";a=a.getCurrentContent();b=b?"\n":"";return c("getMentionsTextForContentState")(a,b)};e.getDelightRanges=function(a){var b=this.getEditorState(a);return!b?[]:c("getDelightRangesForContentState")(b.getCurrentContent(),"post",a)};e.getMessageText=function(a){a=this.getEditorState(a);if(!a)return"";a=a.getCurrentContent();return a?a.getPlainText():""};e.getRichTextBlocks=function(a){a=this.getEditorState(a);return!a?null:d("RichTextViewUtils").getRichTextBlocksParams(a)};e.getOriginalMessageText=function(a){a=this.getOriginalEditorState(a);if(!a)return"";a=a.getCurrentContent();return a?a.getPlainText():""};e.getTextLength=function(a){return this.getComposerData(a).textLength};e.$ReactComposerStatusStore1=function(a){var b=this.getComposerData(a.composerID);b.mentionsSource=a.mentionsSource;this.emitChange(a.composerID)};e.$ReactComposerStatusStore2=function(a){var b=this.getComposerData(a.composerID);b.typeaheadReporter=a.typeaheadReporter;this.emitChange(a.composerID)};e.$ReactComposerStatusStore3=function(a){var b=this.getComposerData(a.composerID);b.editorState=a.editorState;b.activeEditorState=a.editorState;b.activeLanguageDialect=null;this.emitChange(a.composerID)};e.$ReactComposerStatusStore4=function(a){var b=this.getComposerData(a.composerID);b.activeEditorState=a.editorState;b.activeLanguageDialect=a.languageDialect;this.emitChange(a.composerID)};e.$ReactComposerStatusStore5=function(a){var b=this.getComposerData(a.composerID);b.originalEditorState=a.originalEditorState;this.emitChange(a.composerID)};e.$ReactComposerStatusStore6=function(a){var b=this.getComposerData(a.composerID);b.mentions=a.mentions;this.emitChange(a.composerID)};e.$ReactComposerStatusStore7=function(a){a=this.validateAction(a,["composerID","textLength"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.textLength=a;this.emitChange(b)};e.$ReactComposerStatusStore8=function(a){var b=a.composerID;b=this.getMessageText(b);b=c("ContentState").createFromText(b);a.editorState=c("EditorState").createWithContent(b);this.$ReactComposerStatusStore3(a)};return b}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("ComposerStructuredLoggerUtil",["ComposerStructuredLogger","ComposerXSessionIDs","PagesComposerContextUtils","PagesComposerLoggingUtils","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerEligibilityUtils","ReactPagesComposerLoggingUtils","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{actor_id:l(a),actor_type:k(a),target_id:j(a),target_type:i(a),is_edit_composer:o(a),entry_point:m(a),composer_source_surface:n(a),referrer:null,composer_type:p(a),is_visual_composer:null,camera_post_source:null,creation_session_id:h(a)}}function h(a){return d("ComposerXSessionIDs").getSessionID(a)}function b(a){var b;b=(b=d("PagesComposerLoggingUtils").mapToComposerLoggingEntryPoint(m(a)))!=null?b:"unknown";return{event_location:d("PagesComposerLoggingUtils").getComposerLocationFromEntryPoint(b),actor_id:l(a),actor_type:k(a),target_id:j(a),target_type:i(a),composer_layout:"unknown",flow:"draft",entry_point:b,referrer:null,waterfall_session_id:h(a)}}function e(a){var b=c("ReactComposerStore").getComposerData(a);b=b.destinationsConfig;var e=[],f=[],g=b&&b.isSharesheetEnabled;g?(e.push("TIMELINE"),f.push("TIMELINE"),b.showStorySection&&(e.push("STORIES"),f.push("STORIES")),b.showInstagramSection&&(e.push("INSTAGRAM"),(!b.instagram||!b.instagram.isEnabled)&&f.push("INSTAGRAM")),b.showGroupSection&&(e.push("GROUPS"),f.push("GROUPS"))):(e.push("NONE"),f.push("NONE"));b=null;var h=c("ReactComposerAttachmentStore").getSelectedAttachmentID(a);if(h!=null&&h===c("ReactComposerAttachmentType").CTA){h=c("ReactComposerAttachmentStore").getAttachment(a,h);h!=null&&(b=h.ctaType)}return{visible_sprouts:c("ReactComposerStore").getDisplayedSprouts(a),visible_destinations:e,eligible_destinations:f,selected_sprouts:d("ReactPagesComposerLoggingUtils").getSelectedSprouts(a),selected_destinations:q(a),post_text:c("ReactComposerStatusStore").getMessageText(a),post_text_length:c("ReactComposerStatusStore").getTextLength(a),post_privacy:c("ReactComposerAudienceStore").getAudience(a)||"unknown",feed_targeting:null,photo_count:c("ReactComposerMediaUploadStore").getNonsphericalPhotoCount(a),video_count:c("ReactComposerMediaUploadStore").getUploadsCount(a,d("ReactComposerMediaUploadType").VIDEO),has_shared_link:c("ReactComposerScrapedAttachmentStore").hasAttachment(a)?1:0,call_to_action:b,ranker_request_id:c("ReactComposerStore").getRankerRequestID(a),is_sharesheet_enabled:g?1:0,post_action_type:r(a)}}function i(a){a=d("ComposerStructuredLogger").getInstance(a);return a==null?"other":a.targetType||"other"}function j(a){a=d("ComposerStructuredLogger").getInstance(a);return a==null?"-1":a.targetID||"-1"}function k(a){a=d("ComposerStructuredLogger").getInstance(a);return a==null?"other":a.actorType||"user"}function l(a){a=d("ComposerStructuredLogger").getInstance(a);return a==null?"-1":a.actorID||"-1"}function m(a){a=d("ComposerStructuredLogger").getInstance(a);return a==null?"unknown":a.ref}function n(a){a=d("ComposerStructuredLogger").getInstance(a);return a==null?"unknown":a.composerSourceSurface}function o(a){a=d("ComposerStructuredLogger").getInstance(a);return a==null?"0":a.isEditComposer}function p(a){a=d("ComposerStructuredLogger").getInstance(a);return a==null?null:a.composerType}function q(a){var b=s(a);a=c("ReactComposerStore").getComposerData(a);a=a.destinationsConfig;var d=[];a&&a.isSharesheetEnabled?(b.is_news_feed_selected&&d.push("TIMELINE"),b.is_instagram_selected&&d.push("INSTAGRAM"),b.is_my_story_selected&&d.push("STORIES")):d.push("NONE");return d}function r(a){var b="publish";c("ifRequired")("ReactComposerPagesStore",function(c){c=c.getPostActionType(a);switch(c){case"PUBLISH":b="publish";break;case"SAVE_DRAFT":d("PagesComposerContextUtils").getIsDraftComposer(m(a))?b="update_draft":b="save_draft";break;case"SCHEDULE":b="schedule";break;case"BACKDATE":b="backdate";break;case"ADS_POST":b="ads_post";break;default:b="unknown";break}});return b}function f(a,b){return d("PagesComposerContextUtils").getIsDraftComposer(m(a))?!0:!1}function s(a){return{is_eligible_for_my_story:d("ReactComposerTaggerEligibilityUtils").isStoryCreateEligible(a),instagram_eligibility:d("ReactComposerTaggerEligibilityUtils").getInstagramSharingEligibility(a),is_my_story_selected:c("ReactComposerAudienceStore").getStoriesSelected(a),is_ads_pe_post_selected:c("ReactComposerAudienceStore").getAdsPePostSelected(a),is_news_feed_selected:c("ReactComposerAudienceStore").getTimelineSelected(a),is_instagram_selected:c("ReactComposerAudienceStore").getInstagramSelected(a)}}g.getLoggingBaseData=a;g.getWaterfallSessionID=h;g.getDraftPostEditLoggingBaseData=b;g.getLoggingEventData=e;g.getTargetType=i;g.getTargetID=j;g.getActorType=k;g.getActorID=l;g.getEntryPoint=m;g.getComposerLocation=n;g.getIsEditComposer=o;g.getComposerType=p;g.getSelectedDestinations=q;g.getPostActionType=r;g.shouldUseFalco=f;g.getDestinationsData=s}),98);
__d("ReactComposerTaggerType",[],(function(a,b,c,d,e,f){a=Object.freeze({ADS_PE_POST:"ADS_PE_POST",CAMERA:"CAMERA",INSTAGRAM:"INSTAGRAM",PEOPLE:"PEOPLE",OG:"OG",CALL:"CALL",SHOP:"SHOP",LOCATION:"LOCATION",ACTIVITY:"ACTIVITY",BACKDATE:"BACKDATE",TARGETING:"TARGETING",PUBLISHER_ABTEST_HOLDOUT:"PUBLISHER_ABTEST_HOLDOUT",SPONSOR:"SPONSOR",VAULTPHOTO:"VAULTPHOTO",CONTENT_WARNINGS:"CONTENT_WARNINGS",PRODUCT:"PRODUCT",XY_PRODUCT:"XY_PRODUCT",PRODUCT_SPROUT:"PRODUCT_SPROUT",PAGE_CTA:"PAGE_CTA",FORMATTED_TEXT:"FORMATTED_TEXT",FORMATTED_TEXT_TRAY:"FORMATTED_TEXT_TRAY",STICKER:"STICKER",MESSAGING:"MESSAGING",POLITICAL_INFO:"POLITICAL_INFO",ISSUE_TAG:"ISSUE_TAG",CONTACT_YOUR_REPRESENTATIVE:"CONTACT_YOUR_REPRESENTATIVE",FUN_FACT:"FUN_FACT",ALBUM:"ALBUM",GIF:"GIF",FIND_PLAYERS:"FIND_PLAYERS",FUNDRAISER:"FUNDRAISER",LIST:"LIST",VISUAL_POLL:"VISUAL_POLL",RECOMMENDATION:"RECOMMENDATION",SALES_PROMO:"SALES_PROMO",TAG_EVENT:"TAG_EVENT",BREAKING_NEWS:"BREAKING_NEWS",ASSET_3D:"ASSET_3D",PLAY_WITH_FRIENDS:"PLAY_WITH_FRIENDS",STORIES:"STORIES",VIDEO_SUGGESTIONS:"VIDEO_SUGGESTIONS",LOCAL_ALERTS:"LOCAL_ALERTS",MESSENGER:"MESSENGER",TODO_LIST:"TODO_LIST",LIVING_ROOM:"LIVING_ROOM",LOCAL_DEV_PLATFORM:"LOCAL_DEV_PLATFORM",GROUP_JOIN_CTA:"GROUP_JOIN_CTA",GET_SHOWTIMES:"GET_SHOWTIMES",APP_INTEGRATION_AODOCS:"APP_INTEGRATION_AODOCS",APP_INTEGRATION_BOX:"APP_INTEGRATION_BOX",APP_INTEGRATION_CORNERSTONE:"APP_INTEGRATION_CORNERSTONE",APP_INTEGRATION_DROPBOX:"APP_INTEGRATION_DROPBOX",APP_INTEGRATION_EGNYTE:"APP_INTEGRATION_EGNYTE",APP_INTEGRATION_GDRIVE:"APP_INTEGRATION_GDRIVE",APP_INTEGRATION_JIRA:"APP_INTEGRATION_JIRA",APP_INTEGRATION_ONEDRIVE:"APP_INTEGRATION_ONEDRIVE",APP_INTEGRATION_QUIP:"APP_INTEGRATION_QUIP",APP_INTEGRATION_SHAREPOINT:"APP_INTEGRATION_SHAREPOINT",APP_INTEGRATION_TASKS:"APP_INTEGRATION_TASKS",APP_INTEGRATION_TRELLO:"APP_INTEGRATION_TRELLO",SUPPORT_NOW:"SUPPORT_NOW",STARS:"stars",WORK_FILE:"WORK_FILE",AMA:"AMA",RECRUITING_CANDIDATE:"RECRUITING_CANDIDATE",PAGES_INTERCEPTION:"PAGES_INTERCEPTION",SOTTO_CTA:"SOTTO_CTA",MEDIA:"MEDIA",CHATROOM:"CHATROOM",PAID_VIRTUAL_EVENT_GATED_POST:"PAID_VIRTUAL_EVENT_GATED_POST",BC_SUPPORT:"BC_SUPPORT",COVID_BUSINESS_POST:"COVID_BUSINESS_POST",WORK_CHECKLIST:"WORK_CHECKLIST",VIDEO_MEETUP:"VIDEO_MEETUP",JOB_SEARCH:"JOB_SEARCH",HASHTAG:"HASHTAG"});f["default"]=a}),66);
__d("ReactComposerPagesStore",["AsyncRequest","ComposerXSessionIDs","PagesComposerActionsTypes","PagesComposerUnpublishedPostsStore","PagesNuxFrameworkHelper","ReactComposerActionStore","ReactComposerActionTypes","ReactComposerFocusActionTypes","ReactComposerMediaConfig","ReactComposerPostUtils","ReactComposerTaggerType","dotAccess","formatDate","isEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h="/ajax/react_composer/survey",i=682215755305624,j={instagramCrossPosting:!1,isDialogComposer:!1,isOfferUpsellShown:!1,isOfferUpsellAbandoned:!1,currentLocale:null,interceptionConfig:[],composerContextConfig:null,composerConfig:null,composerType:null},k=!1;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return b=a.call(this,function(){return babelHelpers["extends"]({},j)},function(a){switch(a.type){case c("PagesComposerActionsTypes").INSTAGRAM_CROSS_POSTING:babelHelpers.assertThisInitialized(b)&&b.$ReactComposerPagesStore1(a);break;case c("PagesComposerActionsTypes").SHOW_OFFER_UPSELL:babelHelpers.assertThisInitialized(b)&&b.$ReactComposerPagesStore2(a);break;case c("PagesComposerActionsTypes").ABANDON_OFFER_UPSELL:babelHelpers.assertThisInitialized(b)&&b.$ReactComposerPagesStore3(a);break;case c("PagesComposerActionsTypes").SET_CURRENT_LOCALE:babelHelpers.assertThisInitialized(b)&&b.$ReactComposerPagesStore4(a);break;case c("PagesComposerActionsTypes").SET_INTERCEPTION_CONFIG:babelHelpers.assertThisInitialized(b)&&b.$ReactComposerPagesStore5(a);break;case c("PagesComposerActionsTypes").SET_PAGES_COMPOSER_CONFIG:babelHelpers.assertThisInitialized(b)&&b.$ReactComposerPagesStore6(a);break;case c("PagesComposerActionsTypes").SET_PAGES_COMPOSER_CONTEXT_CONFIG:babelHelpers.assertThisInitialized(b)&&b.$ReactComposerPagesStore7(a);break;case c("PagesComposerActionsTypes").SET_COMPOSER_TYPE:babelHelpers.assertThisInitialized(b)&&b.$ReactComposerPagesStore8(a);break;case c("ReactComposerActionTypes").EXPAND_SPROUTS:case c("ReactComposerFocusActionTypes").FOCUS_ACQUIRED:k||(d("PagesNuxFrameworkHelper").setCurrentSurface("page_composer"),k=!0);break;case c("PagesComposerActionsTypes").SET_IS_RUNNING_INTERCEPTION:babelHelpers.assertThisInitialized(b)&&b.$ReactComposerPagesStore9(a);break;case c("PagesComposerActionsTypes").SET_IS_DIALOG_COMPOSER:babelHelpers.assertThisInitialized(b)&&b.$ReactComposerPagesStore10(a);break}})||this}var e=b.prototype;e.$ReactComposerPagesStore9=function(a){a=this.validateAction(a,["composerID","isRunningInterception"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.isRunningInterception=a;this.emitChange(b)};e.isRunningInterception=function(a){return!!this.getComposerData(a).isRunningInterception};e.getIsOfferUpsellShown=function(a){return this.getComposerData(a).isOfferUpsellShown};e.getCurrentLocale=function(a){return this.getComposerData(a).currentLocale};e.getInterceptionConfig=function(a){return this.getComposerData(a).interceptionConfig};e.getPagesComposerConfig=function(a){a=this.getComposerData(a).pagesComposerConfig;return!a||c("isEmpty")(a)?null:a};e.getPagesComposerContextConfig=function(a){a=this.getComposerData(a).pagesComposerContextConfig;return!a||c("isEmpty")(a)?null:a};e.getTargetID=function(a){a=this.getPagesComposerContextConfig(a);return!a?null:a.targetID};e.getComposerEntryPoint=function(a){return this.getComposerData(a).composerType};e.getIsOfferUpsellAbandoned=function(a){return this.getComposerData(a).isOfferUpsellAbandoned};e.getPostActionType=function(a){return c("PagesComposerUnpublishedPostsStore").getPostActionType(a)};e.getIsDialogComposer=function(a){return this.getComposerData(a).isDialogComposer};e.__onPostStarted=function(a){var b=babelHelpers["extends"]({},a.config);b.contextInfo=babelHelpers["extends"]({},b.contextInfo||{});var e=c("PagesComposerUnpublishedPostsStore").getIsPreview(a.composerID);if(!e){e=c("PagesComposerUnpublishedPostsStore").getIsDraft(a.composerID);b.contextInfo.draft=e;e=c("PagesComposerUnpublishedPostsStore").getScheduledPublishTime(a.composerID);if(e){var f=c("formatDate")(e,"m/d/Y",{skipPatternLocalization:!0}),g=60*(60*e.getHours()+e.getMinutes());b.contextInfo.scheduled=!0;b.contextInfo.future_date=f;b.contextInfo.future_time=g;b.contextInfo.scheduled_publish_time=Math.round(e.getTime()/1e3)}f=c("PagesComposerUnpublishedPostsStore").getBackdateConfig(a.composerID);f&&(b.contextInfo.backdated_date={year:f.year,month:f.month,day:f.day},b.contextInfo.hide_from_newsfeed=f.hideFromNewsFeed);g=c("PagesComposerUnpublishedPostsStore").getIsAdsPost(a.composerID);g&&(b.contextInfo.is_ad_post=!0);e=c("PagesComposerUnpublishedPostsStore").getIsReviewableBrandedContent(a.composerID);e&&(b.contextInfo.is_reviewable_branded_content=!0);f=this.getComposerData(a.composerID).instagramCrossPosting;f&&(b.contextInfo.instagramCrossPosting=!0)}else b.contextInfo.is_preview=!0;b.contextInfo.is_dialog_composer=this.getComposerData(a.composerID).isDialogComposer;g=a.config.taggersConfig?a.config.taggersConfig[c("ReactComposerTaggerType").TARGETING]:null;e=g?c("dotAccess")(g,"feedTargetingGK"):!1;f=a.config.loggingConfig?a.config.loggingConfig.targetType:null;d("ReactComposerPostUtils").post({actorID:a.actorID,composerConfig:b,composerID:a.composerID,composerType:a.composerType,targetID:a.targetID,targetType:f,onPostSuccess:a.onPostSuccess,onPostFailure:a.onPostFailure,useHints:e})};e.__onPostSucceeded=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.isOfferUpsellShown&&b.isOfferUpsellAbandoned&&new(c("AsyncRequest"))().setURI(h).setData({config_id:i,session_id:d("ComposerXSessionIDs").getSessionID(a),composer_id:a}).send()};e.__canPost=function(a){return!d("ReactComposerPostUtils").isPostButtonDisabled(a.composerID,c("ReactComposerMediaConfig").photo.limit)};e.$ReactComposerPagesStore1=function(a){var b=this.getComposerData(a.composerID);b.instagramCrossPosting=a.enabled};e.$ReactComposerPagesStore2=function(a){a=this.validateAction(a,["composerID","config"]);a=a[0];a=this.getComposerData(a);a.isOfferUpsellShown=!0};e.$ReactComposerPagesStore3=function(a){a=this.getComposerData(a.composerID);a.isOfferUpsellAbandoned=!0};e.$ReactComposerPagesStore4=function(a){var b=this.getComposerData(a.composerID);b.currentLocale=a.currentLocale};e.$ReactComposerPagesStore6=function(a){a=this.validateAction(a,["composerID","pagesComposerConfig"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.pagesComposerConfig=a;this.emitChange(b)};e.$ReactComposerPagesStore7=function(a){a=this.validateAction(a,["composerID","pagesComposerContextConfig"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.pagesComposerContextConfig=a;this.emitChange(b)};e.$ReactComposerPagesStore5=function(a){var b=this.getComposerData(a.composerID);b.interceptionConfig=a.interceptionConfig};e.$ReactComposerPagesStore8=function(a){var b=this.getComposerData(a.composerID);b.composerType=a.composerType};e.$ReactComposerPagesStore10=function(a){var b=this.getComposerData(a.composerID);b.isDialogComposer=a.isDialogComposer};return b}(c("ReactComposerActionStore"));b=new a();g["default"]=b}),98);
__d("ReactComposerCTAActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({ADD_OPTION:null,ALLOW_MULTI_MEDIA:null,SET_CTA_CONFIG:null,HAS_PHOTO_FOR_ENTPOST:null,HAS_PHOTO:null,NEEDS_PHOTO:null,HAS_VIDEO:null,NEEDS_VIDEO:null,USING_PREMADE_POST_VIDEO:null,SWITCH_CTA:null,FETCH_CTA_DATA:null},"ReactComposerCTAActionType");g["default"]=a}),98);
__d("XReactComposerCTAAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/cta/bootstrap/",{composer_id:{type:"String",required:!0},composer_type:{type:"Enum",required:!0,enumType:1},target_id:{type:"Int",required:!0},cta_type:{type:"String",required:!0},attachment_id:{type:"String"},preview_style:{type:"Enum",defaultValue:"full_size_preview",enumType:1}})}),null);
__d("ReactComposerCTAStore",["ActorURI","AsyncRequest","DOM","ReactComposerAttachmentActionType","ReactComposerCTAActionType","ReactComposerEvents","ReactComposerStoreBase","XReactComposerCTAAttachmentBootstrapController"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;b=a.call(this,function(){return{ctaType:"",ctaValues:{},hasPhoto:c("ReactComposerCTAActionType").NEEDS_PHOTO}},function(a){switch(a.type){case c("ReactComposerCTAActionType").FETCH_CTA_DATA:d&&d.$ReactComposerCTAStore1(a);break;case c("ReactComposerCTAActionType").SET_CTA_CONFIG:d&&d.$ReactComposerCTAStore2(a);break;case c("ReactComposerCTAActionType").SWITCH_CTA:d&&d.$ReactComposerCTAStore3(a);break;case c("ReactComposerCTAActionType").ALLOW_MULTI_MEDIA:d&&d.$ReactComposerCTAStore4(a);break;case c("ReactComposerCTAActionType").HAS_PHOTO:d&&d.$ReactComposerCTAStore5(a);break;case c("ReactComposerCTAActionType").HAS_PHOTO_FOR_ENTPOST:d&&d.$ReactComposerCTAStore6(a);break;case c("ReactComposerCTAActionType").NEEDS_PHOTO:d&&d.$ReactComposerCTAStore7(a);break;case c("ReactComposerCTAActionType").HAS_VIDEO:d&&d.$ReactComposerCTAStore8(a);break;case c("ReactComposerCTAActionType").NEEDS_VIDEO:d&&d.$ReactComposerCTAStore9(a);break;case c("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO:d&&d.$ReactComposerCTAStore10(a);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerCTAStore11(a);break;default:break}})||this;d=babelHelpers.assertThisInitialized(b);return b}var e=b.prototype;e.$ReactComposerCTAStore1=function(a){a=this.validateAction(a,["composerID","selectedCta","actorID","targetID","composerType","attachmentID"]);var b=a[0],e=a[1],f=a[2],g=a[3],h=a[4];a=a[5];h=c("XReactComposerCTAAttachmentBootstrapController").getURIBuilder().setString("composer_id",b).setEnum("composer_type",h).setInt("target_id",g).setString("cta_type",e).setString("attachment_id",a);g=d("ActorURI").create(h.getURI(),f);e=new(c("AsyncRequest"))(g);e.send();this.emitChange(b)};e.$ReactComposerCTAStore11=function(a){var b=this.getComposerData(a.composerID);if(a.id===b.sourceAttachment||b.sourceAttachment===null||a.proxiedAttachmentID===b.sourceAttachment)return;b.ctaType=null;b.ctaValues=null;b.ctaMarkup=null;b.ctaAttachmentConfig=null;this.emitChange(a.composerID)};e.$ReactComposerCTAStore4=function(a){var b=this.getComposerData(a.composerID);b.allowMultiMedia=a.allowMultiMedia;this.emitChange(a.composerID)};e.$ReactComposerCTAStore5=function(a){var b=this.getComposerData(a.composerID);b.hasPhoto=c("ReactComposerCTAActionType").HAS_PHOTO;b.hasCTAVideo=!1;b.videoID=null;b.photoID=null;this.emitChange(a.composerID)};e.$ReactComposerCTAStore6=function(a){var b=this.getComposerData(a.composerID);b.hasPhoto=c("ReactComposerCTAActionType").HAS_PHOTO;b.photoID=a.photoID;b.hasCTAVideo=!1;b.videoID=null;this.emitChange(a.composerID)};e.$ReactComposerCTAStore7=function(a){var b=this.getComposerData(a.composerID);b.hasPhoto=c("ReactComposerCTAActionType").NEEDS_PHOTO;this.emitChange(a.composerID)};e.$ReactComposerCTAStore8=function(a){var b=this.getComposerData(a.composerID);b.hasCTAVideo=c("ReactComposerCTAActionType").HAS_VIDEO;b.videoID=a.videoID;b.hasPhoto=!1;b.photoID=null;this.emitChange(a.composerID)};e.$ReactComposerCTAStore9=function(a){var b=this.getComposerData(a.composerID);b.hasCTAVideo=c("ReactComposerCTAActionType").NEEDS_VIDEO;this.emitChange(a.composerID)};e.$ReactComposerCTAStore10=function(a){var b=this.getComposerData(a.composerID);b.usingPremadePostVideo=c("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO;this.emitChange(a.composerID)};e.removeListeners=function(){this.removeAllListeners(c("ReactComposerEvents").CHANGE)};e.allowMultiMedia=function(a){return this.getComposerData(a).allowMultiMedia===!0};e.hasCTAPhotoID=function(a){return this.getComposerData(a).photoID!==null};e.hasCTAPhoto=function(a){return this.getComposerData(a).hasPhoto===c("ReactComposerCTAActionType").HAS_PHOTO};e.hasCTAVideo=function(a){return this.getComposerData(a).hasCTAVideo===c("ReactComposerCTAActionType").HAS_VIDEO};e.isUsingPremadePostVideo=function(a){return this.getComposerData(a).usingPremadePostVideo===c("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO};e.getCTAType=function(a){return this.getComposerData(a).ctaType};e.getCTAData=function(a){return{type:this.getComposerData(a).ctaType,value:this.getComposerData(a).ctaValues}};e.getCTAMarkup=function(a){return this.getComposerData(a).ctaMarkup};e.getVideoID=function(a){a=this.getComposerData(a);return a.videoID};e.getAttachmentConfig=function(a){var b=this.getComposerData(a);if(!b.ctaMarkup)return null;var d=b.ctaMarkup,e=b.ctaAttachmentConfig;this.allowMultiMedia(a)&&(e.params.allowMultiMedia=b.allowMultiMedia);if(this.hasCTAVideo(a))e.videoID=b.videoID,e.usingPremadePostVideo=this.isUsingPremadePostVideo(a);else if(this.hasCTAPhotoID(a))e.photoID=b.photoID;else{a=c("DOM").scry(d,'input[name="attachment[params][images][0]"]').pop();b=c("DOM").scry(d,'input[name="attachment[params][title]"]').pop();d=c("DOM").scry(d,'input[name="attachment[params][summary]"]').pop();a&&(e.params.images||(e.params.images=[]),e.params.images[0]=a.value);b&&(e.params.title=b.value);d&&(e.params.summary=d.value)}return e};e.$ReactComposerCTAStore2=function(a){a=this.validateAction(a,["composerID","config"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.ctaType=a.ctaType;c.ctaValues=a.ctaValues;c.ctaMarkup=a.markup;c.ctaAttachmentConfig=a.attachmentConfig;this.emitChange(b)};e.$ReactComposerCTAStore3=function(a){a=this.validateAction(a,["composerID","customizedMessageCta"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.ctaValues.customized_message_page_cta_text=a;this.emitChange(b)};return b}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("ReactPagesComposerLoggingUtils",["ODS","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerCTAStore","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],d=c("ReactComposerStore").getDisplayedSprouts(a);if(d)for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;h(a,g)&&b.push(g)}return b}function h(a,b){switch(b){case"FUNDRAISER":return j(a);case"GET_BOOKINGS":return k(a);case"GET_DIRECTIONS":return l(a);case"GET_MESSAGES":return m(a);case"GET_PHONE_CALLS":return n(a);case"GET_SHOPS":return o(a);case"LIST":return p(a);case"LOCATION":return q(a);case"MEDIA":return s(a);case"MINUTIAE":return t(a);case"SPONSOR_TAG":return u(a);case"BC_SUPPORT":return v(a);case"TAG_PRODUCT":return w(a);case"VISUAL_POLLS":return x(a);case"SUPPORT_NOW":return i(a);case"LOCAL_DEV_PLATFORM":return y(a);case"GET_TICKET":return r(a)}d("ODS").bumpEntityKey(2966,"page_selected_feature_unsupported_sprout",b);return!1}function i(a){return c("ReactComposerTaggerStore").hasSupportNowCTA(a)}function j(a){return c("ReactComposerTaggerStore").hasNonprofit(a)}function k(a){a=c("ReactComposerCTAStore").getCTAType(a);return!!a&&a==="BOOK_TRAVEL"}function l(a){a=c("ReactComposerCTAStore").getCTAType(a);return!!a&&a==="GET_DIRECTIONS"}function m(a){a=c("ReactComposerCTAStore").getCTAType(a);return!!a&&a==="MESSAGE_PAGE"}function n(a){a=c("ReactComposerCTAStore").getCTAType(a);return!!a&&a==="CALL_NOW"}function o(a){a=c("ReactComposerCTAStore").getCTAType(a);return!!a&&a==="SHOP_NOW"}function p(a){return c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,c("ReactComposerAttachmentType").LIST)}function q(a){return c("ReactComposerTaggerStore").hasLocationTag(a)}function r(a){return c("ReactComposerTaggerStore").hasData(a,c("ReactComposerTaggerType").GET_SHOWTIMES)}function s(a){var b=c("ReactComposerMediaUploadStore").getNonsphericalPhotoCount(a);a=c("ReactComposerMediaUploadStore").getUploadsCount(a,d("ReactComposerMediaUploadType").VIDEO);return b>0||a>0}function t(a){return c("ReactComposerTaggerStore").hasMinutiae(a)}function u(a){a=c("ReactComposerTaggerStore").getTaggerData(a,c("ReactComposerTaggerType").SPONSOR);return!!a.sponsors&&a.sponsors.length>0}function v(a){a=c("ReactComposerTaggerStore").getTaggerData(a,c("ReactComposerTaggerType").BC_SUPPORT);return!!a.sponsors&&a.sponsors.length>0}function w(a){return c("ReactComposerTaggerStore").getTaggerData(a,c("ReactComposerTaggerType").PRODUCT).length>0}function x(a){return c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,c("ReactComposerAttachmentType").VISUAL_POLL)}function y(a){return c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,c("ReactComposerAttachmentType").LOCAL_DEV_PLATFORM)}g.getSelectedSprouts=a}),98);
__d("PagesComposerComposerImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744108");b=d("FalcoLoggerInternal").create("pages_composer_composer_impression",a);e=b;g["default"]=e}),98);
__d("PagesComposerDraftPostEnterFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744116");b=d("FalcoLoggerInternal").create("pages_composer_draft_post_enter_flow",a);e=b;g["default"]=e}),98);
__d("PagesComposerDraftPostSubmitFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744117");b=d("FalcoLoggerInternal").create("pages_composer_draft_post_submit_flow",a);e=b;g["default"]=e}),98);
__d("PagesComposerDraftReminderCardImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744118");b=d("FalcoLoggerInternal").create("pages_composer_draft_reminder_card_impression",a);e=b;g["default"]=e}),98);
__d("PagesComposerDraftReminderUnitImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744119");b=d("FalcoLoggerInternal").create("pages_composer_draft_reminder_unit_impression",a);e=b;g["default"]=e}),98);
__d("PagesComposerFooterSettingButtonClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744120");b=d("FalcoLoggerInternal").create("pages_composer_footer_setting_button_click",a);e=b;g["default"]=e}),98);
__d("PagesComposerPreviewButtonClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744132");b=d("FalcoLoggerInternal").create("pages_composer_preview_button_click",a);e=b;g["default"]=e}),98);
__d("PagesComposerSchedulePostEnterFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744134");b=d("FalcoLoggerInternal").create("pages_composer_schedule_post_enter_flow",a);e=b;g["default"]=e}),98);
__d("PagesComposerSchedulePostSubmitFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744135");b=d("FalcoLoggerInternal").create("pages_composer_schedule_post_submit_flow",a);e=b;g["default"]=e}),98);
__d("PagesComposerLoggingUtils",["ComposerLoggingEntryPointType","ComposerStructuredLogger","ComposerStructuredLoggerUtil","ComposerTargetType","ComposerXSessionIDs","PageContentTabConstants","PagesComposerComposerImpressionFalcoEvent","PagesComposerContextUtils","PagesComposerDraftPostEnterFlowFalcoEvent","PagesComposerDraftPostSubmitFlowFalcoEvent","PagesComposerDraftReminderCardImpressionFalcoEvent","PagesComposerDraftReminderUnitImpressionFalcoEvent","PagesComposerFooterSettingButtonClickFalcoEvent","PagesComposerPreviewButtonClickFalcoEvent","PagesComposerSchedulePostEnterFlowFalcoEvent","PagesComposerSchedulePostSubmitFlowFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){if(d("PagesComposerContextUtils").getIsDraftComposer(f))return;var h=(f=m(f))!=null?f:"unknown",i=(f=l(e))!=null?f:"other";i==="wall"&&(i="page");c("PagesComposerComposerImpressionFalcoEvent").log(function(){return{event_location:n(h),actor_id:a,actor_type:a===g?"page":"user",target_id:g,target_type:i,flow:"create",entry_point:h,composer_layout:"unknown",referrer:null,waterfall_session_id:d("ComposerXSessionIDs").getSessionID(b),event_data:d("ComposerStructuredLoggerUtil").getLoggingEventData(b)}})}function b(a,b){}function e(a,b){d("ComposerStructuredLogger").shouldLogEvent(b,!0,"footer_setting_button")&&c("PagesComposerFooterSettingButtonClickFalcoEvent").log(function(){return{event_location:"page__home_tab",actor_id:a,actor_type:"page",target_id:a,target_type:"page",entry_point:"pages_feed",composer_layout:null,referrer:null,waterfall_session_id:null,event_data:{}}})}function f(a,b,e,f,g){g===void 0&&(g="unknown");e={post_ids:[e]};var h=babelHelpers["extends"]({},p(a,b,f,g),{event_data:e});f===d("PageContentTabConstants").TABS.DRAFTS?c("PagesComposerDraftPostEnterFlowFalcoEvent").log(function(){return h}):f===d("PageContentTabConstants").TABS.SCHEDULED_POSTS&&c("PagesComposerSchedulePostEnterFlowFalcoEvent").log(function(){return h})}function h(a,b,e,f,g,h){h===void 0&&(h="unknown");e={post_ids:f,post_action_type:o(e),is_bulk_submit:f.length>1?1:0};var i=babelHelpers["extends"]({},p(a,b,g,h),{event_data:e});g===d("PageContentTabConstants").TABS.DRAFTS?c("PagesComposerDraftPostSubmitFlowFalcoEvent").log(function(){return i}):g===d("PageContentTabConstants").TABS.SCHEDULED_POSTS&&c("PagesComposerSchedulePostSubmitFlowFalcoEvent").log(function(){return i})}function i(a,b,e){var f=(e=m(e))!=null?e:"unknown";c("PagesComposerPreviewButtonClickFalcoEvent").log(function(){return{event_location:n(f),actor_id:a,actor_type:"page",target_id:a,target_type:"page",flow:d("ComposerStructuredLoggerUtil").getIsEditComposer(b)?"edit":"create",entry_point:f,composer_layout:null,referrer:null,waterfall_session_id:d("ComposerStructuredLoggerUtil").getWaterfallSessionID(b),event_data:{}}})}function j(a,b){c("PagesComposerDraftReminderUnitImpressionFalcoEvent").log(function(){return{actor_id:b,actor_type:"page",composer_layout:"unknown",entry_point:"page_admin_draft_unit",event_data:{},event_location:"page__home_tab",flow:null,referrer:null,target_id:b,target_type:"page",waterfall_session_id:d("ComposerXSessionIDs").getSessionID(a)}})}function k(a,b,e,f){c("PagesComposerDraftReminderCardImpressionFalcoEvent").log(function(){var c;return{actor_id:e,actor_type:"page",composer_layout:"unknown",entry_point:"page_admin_draft_unit",event_data:{position:f},event_location:n((c=m(b))!=null?c:"unknown"),flow:null,referrer:null,target_id:e,target_type:"page",waterfall_session_id:d("ComposerXSessionIDs").getSessionID(a)}})}var l=function(a){if(a===null)return null;for(var b in c("ComposerTargetType")){var d=c("ComposerTargetType")[b];if(d===a)return d}return null},m=function(a){if(a===null)return null;if(a==="page_content_tab_draft_edit")return"publishing_tools_tab_draft_posts";else if(a==="pages_draft_post_reminders")return"page_admin_draft_unit";else if(a==="pages_posts")return"pages_post";for(var b in c("ComposerLoggingEntryPointType")){var d=c("ComposerLoggingEntryPointType")[b];if(d===a)return d}return null},n=function(a){switch(a){case"pages_feed":return"page__home_tab";case"pages_post":return"page__post_tab";case"publishing_tools_tab_published_posts":return"page__publishing_tools";case"publishing_tools_tab_scheduled_posts":return"page__publishing_tools";case"publishing_tools_tab_draft_posts":return"page__publishing_tools";case"pages_profile_pic_add_story":return"page__home_tab";case"timeline":return"newsfeed";case"unknown":return"unknown";default:return"unknown"}};function o(a){switch(a){case d("PageContentTabConstants").ACTIONS.EDIT:return"edit";case d("PageContentTabConstants").ACTIONS.SCHEDULE:return"schedule";case d("PageContentTabConstants").ACTIONS.BACKDATE:return"backdate";case d("PageContentTabConstants").ACTIONS.PUBLISH:return"publish";case d("PageContentTabConstants").ACTIONS.DELETE:return"delete";case d("PageContentTabConstants").ACTIONS.RESCHEDULE:return"reschedule";case d("PageContentTabConstants").ACTIONS.UNSCHEDULE:return"unschedule";default:return"unknown"}}function p(a,b,c,e){e===void 0&&(e="unknown");var f="unknown";b==="ADS_PE"?f="power_editor":b==="PAGES_MANAGER"&&(f="page__publishing_tools");b="unknown";c===d("PageContentTabConstants").TABS.DRAFTS?b="draft":c===d("PageContentTabConstants").TABS.SCHEDULED_POSTS&&(b="schedule");return{event_location:f,actor_id:a,actor_type:"page",target_id:a,target_type:"page",flow:b,entry_point:e,composer_layout:"unknown",referrer:null,waterfall_session_id:null}}g.logComposerImpression=a;g.logConsolidatedEntryButtonClick=b;g.logFooterSettingButtonClick=e;g.logPageContentTabPostDetailsEnterFlow=f;g.logPageContentTabPostDetailsSubmitFlow=h;g.logPreviewButtonClick=i;g.logDraftReminderUnitImpression=j;g.logDraftReminderCardImpression=k;g.mapToComposerTargetType=l;g.mapToComposerLoggingEntryPoint=m;g.getComposerLocationFromEntryPoint=n;g.getComposerLoggingPostActionTypeForAction=o;g.getPageContentTabLoggingBaseData=p}),98);
__d("ReactComposerAudienceActions",["ReactComposerAudienceActionTypes","ReactComposerAudienceStore","ReactComposerDispatcher"],(function(a,b,c,d,e,f,g){b("ReactComposerAudienceStore");function a(a,b,d,e){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerAudienceActionTypes").SET_AUDIENCE,audience:b,legacyAudience:d,sourceLoggingName:e})}function d(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerAudienceActionTypes").SET_AUDIENCE,audience:b,legacyAudience:d,suppressWaterfallLogging:!0})}function e(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerAudienceActionTypes").SET_AUDIENCE_ELEMENT,audienceElement:b})}function f(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerAudienceActionTypes").SET_AUDIENCE_INSTANCE,audienceInstance:b})}function h(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerAudienceActionTypes").SET_PRIVACYX_NULL_DANGEROUS,privacyxNullDangerous:b})}function i(a,b,d,e){c("ReactComposerDispatcher").dispatch({composerID:a,sourceLoggingName:b,type:c("ReactComposerAudienceActionTypes").SET_COLLECTION,collectionID:d,privacyLabel:e})}function j(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").SET_COLLECTION,collectionID:b})}function k(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,timelineSelected:b,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").SET_TIMELINE_DESTINATION})}function l(a){c("ReactComposerDispatcher").dispatch({composerID:a,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").TOGGLE_TIMELINE_DESTINATION})}function m(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,storiesSelected:b,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").SET_STORIES_DESTINATION})}function n(a){c("ReactComposerDispatcher").dispatch({composerID:a,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").TOGGLE_STORIES_DESTINATION})}function o(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,adsPostSelected:b,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").SET_ADS_POST_DESTINATION})}function p(a){c("ReactComposerDispatcher").dispatch({composerID:a,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").TOGGLE_ADS_POST_DESTINATION})}function q(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,instagramSelected:b,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").SET_INSTAGRAM_DESTINATION})}function r(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,selectedGroupID:b,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").SET_GROUP_DESTINATION})}function s(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,instagramBusinessAccountID:b,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").TOGGLE_INSTAGRAM_DESTINATION})}function t(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,storiesSelected:b,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").SAVE_STORIES_STATE})}function u(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,targetID:b,entryType:d,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").TOGGLE_MESSENGER_ENTRY})}function v(a){c("ReactComposerDispatcher").dispatch({composerID:a,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").CLICK_SEE_MESSENGER})}function w(a){c("ReactComposerDispatcher").dispatch({composerID:a,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").STORE_MESSENGER_ENTRIES})}function x(a){c("ReactComposerDispatcher").dispatch({composerID:a,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").CLEAR_STORED_MESSENGER_ENTRIES})}function y(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,entry:b,suppressWaterfallLogging:!0,type:c("ReactComposerAudienceActionTypes").ADD_NEW_GROUP})}g.setAudience=a;g.setAudienceWithoutLogging=d;g.setAudienceElement=e;g.setAudienceInstance=f;g.setPrivacyxNullDangerous=h;g.setCollectionID=i;g.setCollectionIDWithoutLogging=j;g.setTimelineSelected=k;g.toggleTimelineSelected=l;g.setStoriesSelected=m;g.toggleStoriesSelected=n;g.setAdsPostSelected=o;g.toggleAdsPostSelected=p;g.setInstagramSelected=q;g.setSelectedGroupID=r;g.toggleInstagramSelected=s;g.setStoriesSelectedSavedState=t;g.toggleMessengerEntry=u;g.clickSeeMessenger=v;g.storeSelectedMessengerEntries=w;g.clearStoredSelectedMessengerEntries=x;g.addNewGroup=y}),98);
__d("ReactComposerFocusActions",["ReactComposerDispatcher","ReactComposerFocusActionTypes","ReactComposerStore"],(function(a,b,c,d,e,f,g){"use strict";b("ReactComposerStore");function a(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerFocusActionTypes").SUBSCRIBE,onFocusAcquiredCallback:b,onFocusLostCallback:d})}function d(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerFocusActionTypes").UNSUBSCRIBE})}function e(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerFocusActionTypes").FOCUS_ACQUIRED})}function f(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerFocusActionTypes").FOCUS_LOST})}g.subscribe=a;g.unsubscribe=d;g.notifyFocusAcquired=e;g.notifyFocusLost=f}),98);
__d("XPagesProfilePostsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/posts/",{privacy_mutation_token:{type:"String"},business_id:{type:"Int"},page_token:{type:"String",required:!0},ref:{type:"String"},__nodl:{type:"Exists",defaultValue:!1},qr:{type:"String"},qr_code_id:{type:"FBID"},scan_session_id:{type:"String"},mt_nav:{type:"Bool",defaultValue:!1},referrer:{type:"String"},msite_tab_async:{type:"Bool",defaultValue:!1},_sref_:{type:"Int"},_vref_:{type:"Int"},tipID:{type:"String"},ndid:{type:"String"},entry_point:{type:"Enum",enumType:1}})}),null);
__d("XPagesSharingAdminPreferenceController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/sharing/admin_preference/",{is_story_channel_selected:{type:"Bool",defaultValue:!1},is_newsfeed_channel_selected:{type:"Bool",defaultValue:!1}})}),null);
__d("PagesComposerUtils",["Arbiter","AsyncRequest","ComposerXMarauderLogger","ReactComposerAudienceActions","ReactComposerFocusActions","XPagesProfilePostsController","XPagesSharingAdminPreferenceController","goURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){if(a==null||a==="")return;c("Arbiter").inform("ReactFeedComposerXBootloader/focuscomposer/"+a);d("ReactComposerFocusActions").notifyFocusAcquired(a);d("ReactComposerAudienceActions").setStoriesSelected(a,b);d("ReactComposerAudienceActions").setTimelineSelected(a,e)}function b(a,b){a=c("XPagesSharingAdminPreferenceController").getURIBuilder().setBool("is_story_channel_selected",a).setBool("is_newsfeed_channel_selected",b).getURI();new(c("AsyncRequest"))(a).send()}function e(a){var b=["ads_pe_post","control","story_top_story_selected"];return b.includes(a)}function f(a,b){if(b==="PUBLISH"){b=c("XPagesProfilePostsController").getURIBuilder().setString("page_token",a).getURI();c("goURI")(b)}}function h(a,b,c){d("ComposerXMarauderLogger").logEvent(b,a,{extraData:(b=c)!=null?b:null})}g.focusComposer=a;g.saveAdminComposerPreferences=b;g.shouldUsePageDefaultDestination=e;g.redirectOnPostSuccess=f;g.logVideoUploadFunnelEvents=h}),98);
__d("ReactComposerMediaUploadActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({PHOTO_UPLOAD_ENQUEUED:null,PHOTO_UPLOAD_RESIZE_STARTED:null,PHOTO_UPLOAD_RESIZE_PROGRESS:null,PHOTO_UPLOAD_RESIZE_DONE:null,PHOTO_UPLOAD_RESIZE_FAILED:null,PHOTO_UPLOAD_RESIZER_UNAVAILABLE:null,PHOTO_UPLOAD_UPLOADING:null,PHOTO_UPLOAD_IS_SPHERICAL:null,PHOTO_UPLOAD_DONE:null,PHOTO_UPLOAD_FAILED:null,PHOTO_UPLOAD_RETRY:null,PHOTO_UPLOAD_EXTRA_DONE:null,PHOTOS_SELECT:null,PHOTO_ADD_UPLOAD:null,PHOTO_SET_THUMBNAIL:null,SPHERICAL_PHOTO_CHECK_DONE:null,SPHERICAL_PHOTO_CHECK_FAILED:null,SAVE_VIDEO_IN_PAGES_COMPOSER:null,VIDEO_UPLOAD_ENQUEUED:null,VIDEO_UPLOAD_METADATA_PARSED:null,VIDEO_UPLOAD_UPLOADING:null,VIDEO_UPLOAD_DONE:null,VIDEO_UPLOAD_FAILED:null,VIDEO_UPLOAD_RETRY:null,VIDEO_SET_THUMBNAIL:null,VIDEO_SET_UPLOADER:null,VIDEOS_HIDDEN:null,VIDEOS_SHOWN:null,MEDIA_UPLOAD_MOVED:null,MEDIA_UPLOAD_REMOVE:null,MEDIA_UPLOAD_PROGRESS:null,MEDIA_UPLOAD_INPUT_CLICKED:null,MEDIA_UPLOAD_INPUT_DONE:null,PREFILL_MEDIAS:null,REORDER_MEDIAS:null},"ReactComposerMediaUploadActionType");g["default"]=a}),98);
__d("ReactComposerPhotoActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({PHOTO_RECOGNITION_STARTED:null,PHOTO_RECOGNITION_FINISHED:null,PHOTO_RECOGNITION_ALL_FINISHED:null,PHOTO_ADD_FACEBOX:null,PHOTO_TAG_FACEBOX:null,PHOTO_TAG_XY:null,PHOTO_TAG_XY_PRODUCT:null,PHOTO_UNTAG_FACEBOX:null,PHOTO_REMOVE:null,PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS:null,PHOTO_EDIT_STARTED:null,PHOTO_EDIT_FINISHED:null,PHOTO_SET_BEING_TAGGED:null,PHOTO_LOADING_EDIT_FINISHED:null,PHOTO_UNTAG_ALL:null,PHOTO_SPHERICAL_UPDATING:null,PHOTO_UPDATE_ALL_PHOTO_TAGS:null,PHOTO_SET_IS_DEPTHFILE:null,PHOTO_UPDATE_ALL_PRODUCT_TAGS:null,PHOTO_ADD_PRODUCT_TAG_AI_DATA:null,PHOTO_UPDATE_PRODUCT_TAG_AI_DATA:null},"ReactComposerPhotoActionType");g["default"]=a}),98);
__d("ReactComposerPhotoStore",["ReactComposerMediaUploadActionType","ReactComposerPhotoActionType","ReactComposerStoreBase","immutable"],(function(a,b,c,d,e,f,g){var h=c("immutable").Record({isSpherical:!1,faceboxes:c("immutable").Map(),height:null,id:null,imageSrc:null,uploadIndex:0,isLoadingPhotoEdit:!1,isRecognizingFaceboxes:!1,thumbSrc:null,uploadID:null,width:null,xyTags:c("immutable").Map(),isDepthFile:!1,aiData:[]}),i=c("immutable").Record({id:null,photoID:null,x:null,y:null,top:null,left:null,width:null,height:null,croppedURI:null,taggedSubjectID:null,taggedValue:null,isMagicTag:!1,recognizedSubjectID:null}),j=c("immutable").Record({from_facebox:!1,name:null,photoID:null,source:null,subject:null,x:null,y:null,is_product_tag:!1,parent_product_id:null});a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;b=a.call(this,function(){return{photos:c("immutable").Map(),photoBeingTagged:null,isSphericalPhotoUpdating:!1}},function(a){switch(a.type){case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:d&&d.$ReactComposerPhotoStore1(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_EXTRA_DONE:d&&d.$ReactComposerPhotoStore2(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_ADD_UPLOAD:d&&d.$ReactComposerPhotoStore3(a);break;case c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_STARTED:d&&d.$ReactComposerPhotoStore4(a);break;case c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_FINISHED:d&&d.$ReactComposerPhotoStore5(a);break;case c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_ALL_FINISHED:d&&d.$ReactComposerPhotoStore6(a);break;case c("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX:d&&d.$ReactComposerPhotoStore7(a);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_XY_PRODUCT:d&&d.$ReactComposerPhotoStore8(a);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_XY:d&&d.$ReactComposerPhotoStore9(a);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_FACEBOX:d&&d.$ReactComposerPhotoStore10(a);break;case c("ReactComposerPhotoActionType").PHOTO_UNTAG_FACEBOX:d&&d.$ReactComposerPhotoStore11(a);break;case c("ReactComposerPhotoActionType").PHOTO_REMOVE:d&&d.$ReactComposerPhotoStore12(a);break;case c("ReactComposerPhotoActionType").PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS:d&&d.$ReactComposerPhotoStore13(a);break;case c("ReactComposerPhotoActionType").PHOTO_SET_BEING_TAGGED:d&&d.$ReactComposerPhotoStore14(a);break;case c("ReactComposerMediaUploadActionType").PREFILL_MEDIAS:d&&d.$ReactComposerPhotoStore15(a);break;case c("ReactComposerPhotoActionType").PHOTO_EDIT_STARTED:d&&d.$ReactComposerPhotoStore16(a);break;case c("ReactComposerPhotoActionType").PHOTO_LOADING_EDIT_FINISHED:d&&d.$ReactComposerPhotoStore17(a);break;case c("ReactComposerPhotoActionType").PHOTO_UNTAG_ALL:d&&d.$ReactComposerPhotoStore18(a);break;case c("ReactComposerPhotoActionType").PHOTO_SPHERICAL_UPDATING:d&&d.$ReactComposerPhotoStore19(a);break;case c("ReactComposerPhotoActionType").PHOTO_UPDATE_ALL_PHOTO_TAGS:d&&d.$ReactComposerPhotoStore20(a);break;case c("ReactComposerPhotoActionType").PHOTO_SET_IS_DEPTHFILE:d&&d.$ReactComposerPhotoStore21(a);break;case c("ReactComposerPhotoActionType").PHOTO_UPDATE_ALL_PRODUCT_TAGS:d&&d.$ReactComposerPhotoStore22(a);break;case c("ReactComposerPhotoActionType").PHOTO_ADD_PRODUCT_TAG_AI_DATA:d&&d.$ReactComposerPhotoStore23(a);break;case c("ReactComposerPhotoActionType").PHOTO_REMOVE_PRODUCT_TAG_AI_DATA:d&&d.$ReactComposerPhotoStore24(a);break;case c("ReactComposerPhotoActionType").PHOTO_UPDATE_PRODUCT_TAG_AI_DATA:d&&d.$ReactComposerPhotoStore25(a);break;default:}})||this;d=babelHelpers.assertThisInitialized(b);return b}var d=b.prototype;d.getPhotos=function(a){return this.getComposerData(a).photos};d.isLimitExceeded=function(a,b){return this.getPhotos(a).size>b};d.getPhoto=function(a,b){return this.getComposerData(a).photos.get(b)};d.isRecognizing=function(a){return this.getComposerData(a).photos.some(function(a){return a.isRecognizingFaceboxes})};d.getIsSubjectTagged=function(a,b){var c=this,d=this.getComposerData(a).photos;return d.some(function(d){return c.getIsSubjectTaggedInPhoto(a,d.id,b)})};d.getIsSubjectTaggedInPhoto=function(a,b,c){a=this.getPhoto(a,b);b=a.faceboxes.some(function(a){return a.taggedSubjectID===c});a=a.xyTags.some(function(a){return a.subject===c});return b||a};d.hasTagsInPhoto=function(a,b){a=this.getPhoto(a,b);if(!a)return!1;b=a.faceboxes.some(function(a){return a.taggedSubjectID!==null});a=a.xyTags.size>0;return b||a};d.getAllTaggedFaceboxes=function(a){a=this.getPhotos(a);var b=[];a.forEach(function(a){b=b.concat(a.faceboxes.toArray())});return b.filter(function(a){return!!a.get("taggedSubjectID")})};d.getTaggedFaceboxes=function(a,b){a=this.getPhoto(a,b);return a?a.faceboxes.filter(function(a){return!!a.get("taggedSubjectID")}).map(function(a){return a.toObject()}).toArray():null};d.getFaceboxes=function(a,b){a=this.getPhoto(a,b);return a?a.faceboxes.map(function(a){return a.toObject()}).toArray():null};d.getXYTags=function(a,b){a=this.getPhoto(a,b);return a?a.xyTags.map(function(a){return a.toObject()}).toArray():null};d.getAllXYTags=function(a){a=this.getPhotos(a);var b=[];a.forEach(function(a){b=b.concat(a.xyTags.toArray())});return b};d.getProductTagAIData=function(a){a=this.getPhotos(a);var b=new Map();a.forEach(function(a){b.set(a.id,a.aiData)});return b};d.getPhotoBeingTagged=function(a){return this.getComposerData(a).photoBeingTagged};d.isSphericalPhotoUpdating=function(a){return this.getComposerData(a).isSphericalPhotoUpdating};d.$ReactComposerPhotoStore1=function(a){a=this.validateAction(a,["composerID","uploadID","uploadIndex","photoID","thumbSrc","isSpherical","imageSrc","width","height"]);var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],i=a[6],j=a[7];a=a[8];this.$ReactComposerPhotoStore26(b,e,new h({id:e,uploadID:c,uploadIndex:d,thumbSrc:f,isSpherical:g,imageSrc:i,width:j,height:a}));this.emitChange(b)};d.$ReactComposerPhotoStore2=function(a){this.$ReactComposerPhotoStore1(a)};d.$ReactComposerPhotoStore4=function(a){a=this.validateAction(a,["composerID","photoID"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.photos=c.photos.update(a,function(a){return a.set("isRecognizingFaceboxes",!0)});this.emitChange(b)};d.$ReactComposerPhotoStore5=function(a){a=this.validateAction(a,["composerID","photoID"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.photos=c.photos.update(a,function(a){return a&&a.set("isRecognizingFaceboxes",!1)});this.emitChange(b)};d.$ReactComposerPhotoStore6=function(a){a=this.validateAction(a,["composerID","photos"]);var b=a[0],c=a[1];a=this.getComposerData(b);a.photos=a.photos.map(function(a){return c.indexOf(a.id)!==-1?a.set("isRecognizingFaceboxes",!1):a});this.emitChange(b)};d.$ReactComposerPhotoStore7=function(a){a=this.validateAction(a,["composerID","photoID","facebox"]);var b=a[0],c=a[1],d=a[2];a=this.getComposerData(b);var e=d.bestRecognition,f=null,g=null;e&&(f=e.subjectID,g=e.value);a.photos=a.photos.update(c,function(a){return a&&a.update("faceboxes",function(a){return a.set(d.id,new i({id:d.id,photoID:c,x:d.x,y:d.y,top:d.top,left:d.left,width:d.width,height:d.height,croppedURI:d.croppedURI,taggedSubjectID:f,taggedValue:g,isMagicTag:!!f,recognizedSubjectID:f}))})});this.emitChange(b)};d.$ReactComposerPhotoStore9=function(a){a=this.validateAction(a,["composerID","value","photoID","source","subject","x","y"]);var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6];a=this.getComposerData(b);a.photos=a.photos.update(d,function(a){return a.update("xyTags",function(a){return a.set(f,new j({name:c,photoID:d,source:e,subject:f,x:g,y:h}))})});this.emitChange(b)};d.$ReactComposerPhotoStore8=function(a){var b=this.validateAction(a,["composerID","value","photoID","source","subject","x","y"]),c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6];b=this.getComposerData(c);b.photos=b.photos.update(e,function(b){return b.update("xyTags",function(b){return b.set(g,new j({name:d,photoID:e,source:f,subject:g,x:h,y:i,is_product_tag:!0,parent_product_id:a==null?void 0:a.parentProductID}))})});this.emitChange(c)};d.$ReactComposerPhotoStore10=function(a){a=this.validateAction(a,["composerID","photoID","faceboxID","subjectID","value"]);var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4];a=this.getComposerData(b);a.photos=a.photos.update(c,function(a){return a.update("faceboxes",function(a){return a.update(d,function(a){return a.withMutations(function(a){return a.set("taggedSubjectID",e).set("taggedValue",f).set("isMagicTag",!1)})})})});this.emitChange(b)};d.$ReactComposerPhotoStore18=function(a){a=this.validateAction(a,["composerID","photoID"]);var b=a[0];a=a[1];var d=this.getComposerData(b);d.photos=d.photos.update(a,function(a){a=a.set("xyTags",c("immutable").Map());return a});this.emitChange(b)};d.$ReactComposerPhotoStore11=function(a){a=this.validateAction(a,["composerID","photoID","faceboxID"]);var b=a[0],c=a[1],d=a[2];a=this.getComposerData(b);a.photos=a.photos.update(c,function(a){return a.update("faceboxes",function(a){return a.update(d,function(a){return a.withMutations(function(a){return a.remove("taggedSubjectID").remove("taggedValue").set("isMagicTag",!1)})})})});this.emitChange(b)};d.$ReactComposerPhotoStore12=function(a){a=this.validateAction(a,["composerID","photoID"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.photos=c.photos["delete"](a);this.emitChange(b)};d.$ReactComposerPhotoStore13=function(a){a=this.validateAction(a,["composerID","subjectID"]);var b=a[0],c=a[1];a=this.getComposerData(b);a.photos=a.photos.map(function(a){return a.withMutations(function(a){return a.update("faceboxes",function(a){return a.map(function(a){return a.taggedSubjectID!==c?a:a.withMutations(function(a){return a.remove("taggedSubjectID").remove("taggedValue").set("isMagicTag",!1)})})}).update("xyTags",function(a){return a.filterNot(function(a){return a.subject===c})})})});this.emitChange(b)};d.$ReactComposerPhotoStore14=function(a){a=this.validateAction(a,["composerID","photoID"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.photoBeingTagged=a;this.emitChange(b)};d.$ReactComposerPhotoStore15=function(a){var b=this;a=this.validateAction(a,["composerID","medias"]);var c=a[0];a=a[1];a.forEach(function(a){b.$ReactComposerPhotoStore26(c,a.photoID,new h({id:a.photoID,uploadID:a.uploadID,thumbSrc:a.thumbSrc,imageSrc:a.imageSrc,width:a.width,height:a.height,isSpherical:a.isSpherical}))});this.emitChange(c)};d.$ReactComposerPhotoStore16=function(a){a=this.validateAction(a,["composerID","photoID"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.photos=c.photos.update(a,function(a){return a.set("isLoadingPhotoEdit",!0)});this.emitChange(b)};d.$ReactComposerPhotoStore17=function(a){a=this.validateAction(a,["composerID","photoID"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.photos=c.photos.update(a,function(a){return a.set("isLoadingPhotoEdit",!1)});this.emitChange(b)};d.$ReactComposerPhotoStore3=function(a){a=this.validateAction(a,["composerID","photo"]);var b=a[0];a=a[1];this.$ReactComposerPhotoStore26(b,a.id,a);this.emitChange(b)};d.$ReactComposerPhotoStore19=function(a){a=this.validateAction(a,["composerID","isSphericalPhotoUpdating"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.isSphericalPhotoUpdating=a;this.emitChange(b)};d.$ReactComposerPhotoStore20=function(a){a=this.validateAction(a,["composerID","photoID","faceboxes","xyTags"]);var b=a[0],d=a[1],e=a[2];a=a[3];var f=this.getComposerData(b),g={};e.forEach(function(a){g[a.id]=new i(a)});var h={};a.forEach(function(a){h[a.subject]=new j(a)});f.photos=f.photos.update(d,function(a){return a&&a.set("faceboxes",c("immutable").Map(g)).set("xyTags",c("immutable").Map(h))});this.emitChange(b)};d.$ReactComposerPhotoStore21=function(a){a=this.validateAction(a,["composerID","photoID","isDepthFile"]);var b=a[0],c=a[1],d=a[2];a=this.getComposerData(b);a.photos=a.photos.update(c,function(a){return a.set("isDepthFile",d)});this.emitChange(b)};d.$ReactComposerPhotoStore22=function(a){a=this.validateAction(a,["composerID","photoID","xyTags"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b),e={};a.forEach(function(a){e[a.subject]=new j(a)});d.photos=d.photos.update(c,function(a){return a.update("xyTags",function(a){return a.filterNot(function(a){return a.is_product_tag}).merge(e)})});this.emitChange(b)};d.$ReactComposerPhotoStore23=function(a){a=this.validateAction(a,["composerID","photoID","newTagInfo"]);var b=a[0],c=a[1],d=a[2];a=this.getComposerData(b);var e=a.photos.get(c).aiData,f=[],g=!0;e.forEach(function(a){a.xPosition===d.xPosition&&a.yPosition===d.yPosition&&a.userAction===d.userAction&&(g=!1),f.push(a)});g&&f.push(d);a.photos=a.photos.update(c,function(a){return a.set("aiData",f)});this.emitChange(b)};d.$ReactComposerPhotoStore24=function(a){a=this.validateAction(a,["composerID","photoID","productID"]);var b=a[0],c=a[1],d=a[2];a=this.getComposerData(b);var e=a.photos.get(c).aiData,f=[];e.forEach(function(a){a.productID!==d&&a.userAction==="USER_GENERATED"&&f.push(a)});a.photos=a.photos.update(c,function(a){return a.set("aiData",f)});this.emitChange(b)};d.$ReactComposerPhotoStore25=function(a){a=this.validateAction(a,["composerID","photoID","newTagInfo"]);var b=a[0],c=a[1],d=a[2];a=this.getComposerData(b);var e=a.photos.get(c).aiData,f=[];e.forEach(function(a){d.confidence==="HIGH"&&(d.xPosition===a.xPosition&&d.yPosition===a.yPosition||d.productID===a.productID)?f.push(babelHelpers["extends"]({},a,{userAction:d.userAction})):d.confidence==="LOW"&&d.xPosition===a.xPosition&&d.yPosition===a.yPosition?f.push(babelHelpers["extends"]({},a,{userAction:d.userAction,productID:d.productID})):f.push(a)});a.photos=a.photos.update(c,function(a){return a.set("aiData",f)});this.emitChange(b)};d.$ReactComposerPhotoStore26=function(a,b,c){a=this.getComposerData(a);a.photos=a.photos.set(b,c)};return b}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("ReactComposerPhotoActions",["ReactComposerDispatcher","ReactComposerPhotoActionType","ReactComposerPhotoStore"],(function(a,b,c,d,e,f,g){b("ReactComposerPhotoStore");function a(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,photoID:b,type:c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_STARTED})}function d(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_FINISHED,photoID:b})}function e(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_ALL_FINISHED,photos:b,facerecWaterfallEvent:d})}function f(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX,photoID:b,facebox:d})}function h(a,b,d,e,f,g,h){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerPhotoActionType").PHOTO_TAG_XY,value:d,photoID:b,source:e,subject:f,x:g,y:h})}function i(a,b,d,e,f,g,h,i){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerPhotoActionType").PHOTO_TAG_XY_PRODUCT,value:d,parentProductID:e,photoID:b,source:f,subject:g,x:h,y:i})}function j(a,b,d,e,f){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerPhotoActionType").PHOTO_TAG_FACEBOX,photoID:b,faceboxID:d,subjectID:e,value:f})}function k(a,b,d,e){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerPhotoActionType").PHOTO_UNTAG_FACEBOX,photoID:b,faceboxID:d,subjectID:e})}function l(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerPhotoActionType").PHOTO_REMOVE,photoID:b,uploadID:d})}function m(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerPhotoActionType").PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS,subjectID:b})}function n(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerPhotoActionType").PHOTO_UNTAG_ALL,photoID:b})}function o(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,photoID:b,type:c("ReactComposerPhotoActionType").PHOTO_EDIT_STARTED})}function p(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerPhotoActionType").PHOTO_EDIT_FINISHED})}function q(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,photoID:b,type:c("ReactComposerPhotoActionType").PHOTO_SET_BEING_TAGGED})}function r(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerPhotoActionType").PHOTO_LOADING_EDIT_FINISHED,photoID:b})}function s(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerPhotoActionType").PHOTO_SPHERICAL_UPDATING,isSphericalPhotoUpdating:b})}function t(a,b,d,e){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerPhotoActionType").PHOTO_UPDATE_ALL_PHOTO_TAGS,photoID:b,faceboxes:d,xyTags:e})}function u(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerPhotoActionType").PHOTO_SET_IS_DEPTHFILE,photoID:b,isDepthFile:d})}function v(a,b,d){c("ReactComposerDispatcher").dispatch({type:c("ReactComposerPhotoActionType").PHOTO_UPDATE_ALL_PRODUCT_TAGS,composerID:a,photoID:b,xyTags:d})}function w(a,b,d){c("ReactComposerDispatcher").dispatch({type:c("ReactComposerPhotoActionType").PHOTO_ADD_PRODUCT_TAG_AI_DATA,composerID:a,photoID:b,newTagInfo:d})}function x(a,b,d){c("ReactComposerDispatcher").dispatch({type:c("ReactComposerPhotoActionType").PHOTO_REMOVE_PRODUCT_TAG_AI_DATA,composerID:a,photoID:b,productID:d})}function y(a,b,d){c("ReactComposerDispatcher").dispatch({type:c("ReactComposerPhotoActionType").PHOTO_UPDATE_PRODUCT_TAG_AI_DATA,composerID:a,photoID:b,newTagInfo:d})}g.startRecognizing=a;g.finishRecognizingPhoto=d;g.finishRecognizing=e;g.addFacebox=f;g.tagXY=h;g.tagXYProduct=i;g.tagFacebox=j;g.untagFacebox=k;g.removePhoto=l;g.untagSubjectFromAllPhotos=m;g.untagAllForPhoto=n;g.startPhotoEdit=o;g.finishPhotoEdit=p;g.setPhotoBeingTagged=q;g.finishLoadingPhotoEdit=r;g.changeSphericalPhotoUpdateStatus=s;g.updateAllPhotoTags=t;g.setPhotoIsDepthFile=u;g.updateAllProductTags=v;g.addProductTagAIData=w;g.removeProductTagAIData=x;g.updateProductTagAIData=y}),98);
__d("ReactComposerPhotoUploadState",[],(function(a,b,c,d,e,f){a="PHOTO_UPLOAD_ENQUEUED";b="PHOTO_UPLOAD_RESIZE_STARTED";c="PHOTO_UPLOAD_RESIZE_DONE";d="PHOTO_UPLOAD_RESIZE_FAILED";e="PHOTO_UPLOAD_UPLOADING";var g="PHOTO_UPLOAD_DONE",h="PHOTO_UPLOAD_FAILED";f.PHOTO_UPLOAD_ENQUEUED=a;f.PHOTO_UPLOAD_RESIZE_STARTED=b;f.PHOTO_UPLOAD_RESIZE_DONE=c;f.PHOTO_UPLOAD_RESIZE_FAILED=d;f.PHOTO_UPLOAD_UPLOADING=e;f.PHOTO_UPLOAD_DONE=g;f.PHOTO_UPLOAD_FAILED=h}),66);
__d("ReactComposerMediaUploadActions",["ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerPhotoActions","ReactComposerPhotoStore","ReactComposerPhotoUploadState"],(function(a,b,c,d,e,f,g){b("ReactComposerMediaUploadStore");b("ReactComposerPhotoStore");function a(b,d,e,f,g,h,i,j,a){j===void 0&&(j=[]),a===void 0&&(a=!1),c("ReactComposerDispatcher").dispatch({composerID:b,mediaType:h,uploadID:d,type:g,filename:e,fileURL:i?i:"",index:f,xyTags:j,isSpherical:a})}function e(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,loggingData:d,uploadID:b,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_STARTED})}function f(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,uploadID:b,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_PROGRESS,progress:d})}function h(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,loggingData:d,uploadID:b,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_DONE})}function i(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,loggingData:d,uploadID:b,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_FAILED})}function j(a,b,d,e,f){c("ReactComposerDispatcher").dispatch({composerID:a,loggingData:d,uploadID:b,type:c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_DONE,sphericalImage:e,useLocalSphericalImage:f})}function k(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,loggingData:d,uploadID:b,type:c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_FAILED})}function l(a,b,d){c("ReactComposerDispatcher").dispatch({type:c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_METADATA_PARSED,composerID:a,uploadID:b,metadata:d})}function m(b,d,e,f,g,h,i,j,k,a){k===void 0&&(k=[]),a===void 0&&(a=!1),c("ReactComposerDispatcher").dispatch({composerID:b,videoID:d,uploadID:e,filename:f,videoMetadata:g,index:h,type:c("ReactComposerMediaUploadActionType").SAVE_VIDEO_IN_PAGES_COMPOSER,mediaType:i,fileURL:j?j:"",xyTags:k,isSpherical:a})}function n(a,b,d,e){c("ReactComposerDispatcher").dispatch({composerID:a,uploadID:b,type:e,fileUpload:d})}function o(a,b,d,e,f,g){c("ReactComposerDispatcher").dispatch({composerID:a,uploadID:b,type:c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_PROGRESS,progress:d,use_real_progress_percentage:e,use_progress_linearity:f,use_progress_transform_x:g})}function p(b,d,a,e){c("ReactComposerDispatcher").dispatch({composerID:b,uploadID:d,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_IS_SPHERICAL,isSpherical:a,projectionType:e})}function q(a){c("ReactComposerDispatcher").dispatch(a)}function r(b,d,e,f,a,g,h,i){c("ReactComposerDispatcher").dispatch({type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_EXTRA_DONE,composerID:b,uploadID:d,photoID:e,thumbSrc:f,isSpherical:a,imageSrc:g,width:h,height:i})}function s(a,b,d,e,f,g){c("ReactComposerDispatcher").dispatch({composerID:a,uploadID:b,type:g,error:f,fileUpload:d,timeToUpload:e})}function t(a,b){b.forEach(function(b){return u(a,b)})}function u(a,b){b.state===d("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE?d("ReactComposerPhotoActions").removePhoto(a,b.photoID,b.id):v(a,b.id)}function v(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_REMOVE,uploadID:b})}function w(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_MOVED,from:b,to:d})}function x(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZER_UNAVAILABLE})}function y(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,method:d,numPhotos:b,type:c("ReactComposerMediaUploadActionType").PHOTOS_SELECT})}function z(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:b})}function A(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,mediaIDs:b,type:c("ReactComposerMediaUploadActionType").REORDER_MEDIAS})}function B(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,medias:b,type:c("ReactComposerMediaUploadActionType").PREFILL_MEDIAS})}function C(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerMediaUploadActionType").VIDEO_SET_THUMBNAIL,thumbSrc:d,uploadID:b})}function D(a,b,d,e){c("ReactComposerDispatcher").dispatch({type:c("ReactComposerMediaUploadActionType").PHOTO_ADD_UPLOAD,composerID:a,index:b,photo:e,upload:d})}function E(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerMediaUploadActionType").PHOTO_SET_THUMBNAIL,thumbSrc:d,uploadID:b})}function F(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerMediaUploadActionType").VIDEOS_HIDDEN})}function G(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerMediaUploadActionType").VIDEOS_SHOWN})}g.enqueue=a;g.startResizing=e;g.progressResizing=f;g.doneResizing=h;g.failResizing=i;g.doneSphericalCheck=j;g.failSphericalCheck=k;g.videoMetadataParsed=l;g.saveVideoInPagesComposer=m;g.startUploading=n;g.progressUploading=o;g.isSpherical=p;g.doneUploading=q;g.doneUploadingExtra=r;g.failUploading=s;g.removeAllPhotoUploads=t;g.removePhotoAndPhotoUpload=u;g.removeMediaUpload=v;g.mediaMoved=w;g.resizerUnavailable=x;g.photosSelect=y;g.retryMediaUpload=z;g.reorderMedias=A;g.prefillMedias=B;g.setVideoThumbnail=C;g.addPhotoUpload=D;g.setPhotoThumbnail=E;g.hideVideos=F;g.showVideos=G}),98);
__d("PhotoEditorSaveStates",["requireWeak"],(function(a,b,c,d,e,f,g){var h;c("requireWeak")("PhotoEditorGraphic",function(a){h=a.Sticker});var i=new Map(),j=new Map();function a(a,b){i.set(a,b)}function b(a){return i.get(a)}function d(a,b){j.set(a,b)}function e(a){return j.get(a)}function f(a){return i.get(a)?i.get(a).graphics.filter(function(a){return h&&a.type===h}).length:0}g.setState=a;g.getState=b;g.setLoggingData=d;g.getLoggingData=e;g.getTotalNumOfStickersOnPhoto=f}),98);
__d("ReactComposerPhotoUpload",["immutable"],(function(a,b,c,d,e,f,g){a=c("immutable").Record({error:{},filename:null,fileSize:null,fileUpload:null,fileURL:null,height:null,id:null,mediaType:null,originalPhotoID:null,photoID:null,progress:null,useRealProgressPercentage:!1,useProgressLinearity:null,useProgressTransformX:null,state:null,thumbSrc:null,width:null,xyTags:[],videoMetadata:null,stickyUploadItemID:null,canShowSphericalSingletonNux:!1,flatPhotoID:null,sphericalImage:null,isSpherical:!1,isSphericalVideo:!1,projectionType:null,sphericalPhotoID:null,useLocalSphericalImage:!1,isFromPrefill:!1,holidayCardID:null});g["default"]=a}),98);
__d("StickyUploadBootloader",["Bootloader","Promise","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=null;function a(a){i||(i=new(h||(h=b("Promise")))(function(a){return c("Bootloader").loadModules(["StickyUploadAPI"],function(b){j=b,a(b)},"StickyUploadBootloader")})),a&&c("promiseDone")(i.then(a))}function d(){return!!i}function e(){return j}g.loadAPI=a;g.hasStartedLoadingAPI=d;g.getAPI=e}),98);
__d("VideoComposerDispatchers",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h="DEFAULT_INSTANCE",i={};function a(a){if(i[a]!=null)return i[a];var b=new(c("ExplicitRegistrationReactDispatcher"))({strict:!0});i[a]=b;return b}function b(a){a=a!=null&&a.trim()!==""?a:h;if(!i[a])throw new Error("Dispatcher not found for video composer ID: "+a);return i[a]}function d(){i={}}a(h);g.DEFAULT_VIDEO_COMPOSER_ID=h;g.createNewDispatcher=a;g.get=b;g.clearAll=d}),98);
__d("ReactComposerMediaUploadStore",["invariant","PhotoEditorSaveStates","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerMediaUploadType","ReactComposerOptimisticPostingActionType","ReactComposerPhotoActionType","ReactComposerPhotoStore","ReactComposerPhotoUpload","ReactComposerPhotoUploadState","ReactComposerStoreBase","ReactComposerVideoXUploader","StickyUploadBootloader","VideoComposerDispatchers","ifRequired","immutable"],(function(a,b,c,d,e,f,g,h){var i={};for(a in c("ReactComposerMediaUploadActionType"))Object.prototype.hasOwnProperty.call(c("ReactComposerMediaUploadActionType"),a)&&(i[c("ReactComposerMediaUploadActionType")[a]]=c("ReactComposerMediaUploadActionType")[a]);b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;b=a.call(this,function(){return{removedIDs:c("immutable").Set(),uploads:c("immutable").List(),uploadsByID:c("immutable").Map(),videoUploader:null,hideVideos:!1,stickyUploadCollectionID:null}},function(a){if(e&&e.$ReactComposerMediaUploadStore1(a))return;switch(a.type){case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_ENQUEUED:e&&e.$ReactComposerMediaUploadStore2(a);break;case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_METADATA_PARSED:e&&e.$ReactComposerMediaUploadStore3(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_STARTED:e&&e.$ReactComposerMediaUploadStore4(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_PROGRESS:e&&e.$ReactComposerMediaUploadStore5(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_DONE:e&&e.$ReactComposerMediaUploadStore6(a,d("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_DONE);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_FAILED:e&&e.$ReactComposerMediaUploadStore6(a,d("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_FAILED);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_UPLOADING:case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_UPLOADING:e&&e.$ReactComposerMediaUploadStore7(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_IS_SPHERICAL:e&&e.$ReactComposerMediaUploadStore8(a);break;case c("ReactComposerMediaUploadActionType").VIDEO_SET_THUMBNAIL:case c("ReactComposerMediaUploadActionType").PHOTO_SET_THUMBNAIL:e&&e.$ReactComposerMediaUploadStore9(a);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_PROGRESS:e&&e.$ReactComposerMediaUploadStore5(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_DONE:c("ReactComposerDispatcher").waitFor([c("ReactComposerPhotoStore").getDispatchToken()]);e&&e.$ReactComposerMediaUploadStore10(a);break;case c("ReactComposerMediaUploadActionType").SAVE_VIDEO_IN_PAGES_COMPOSER:e&&e.$ReactComposerMediaUploadStore11(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_EXTRA_DONE:c("ReactComposerDispatcher").waitFor([c("ReactComposerPhotoStore").getDispatchToken()]);e&&e.$ReactComposerMediaUploadStore12(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_FAILED:case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_FAILED:e&&e.$ReactComposerMediaUploadStore13(a);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_REMOVE:case c("ReactComposerPhotoActionType").PHOTO_REMOVE:e&&e.$ReactComposerMediaUploadStore14(a);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_MOVED:e&&e.$ReactComposerMediaUploadStore15(a);break;case c("ReactComposerMediaUploadActionType").PREFILL_MEDIAS:e&&e.$ReactComposerMediaUploadStore16(a);break;case c("ReactComposerMediaUploadActionType").REORDER_MEDIAS:e&&e.$ReactComposerMediaUploadStore17(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_ADD_UPLOAD:e&&e.$ReactComposerMediaUploadStore18(a);break;case c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_DONE:e&&e.$ReactComposerMediaUploadStore19(a);break;case c("ReactComposerMediaUploadActionType").VIDEOS_HIDDEN:e&&e.$ReactComposerMediaUploadStore20(a);break;case c("ReactComposerMediaUploadActionType").VIDEOS_SHOWN:e&&e.$ReactComposerMediaUploadStore21(a);break;case c("ReactComposerOptimisticPostingActionType").START_OPTIMISTICALLY_POSTING:e&&e.$ReactComposerMediaUploadStore22(a);break;default:}})||this;e=babelHelpers.assertThisInitialized(b);return b}var e=b.prototype;e.getMediaUploadExists=function(a,b){a=this.getComposerData(a);return a.uploadsByID.get(b)!==void 0};e.getMediaUpload=function(a,b){return this.$ReactComposerMediaUploadStore23(this.getComposerData(a),b)};e.getUploadIndex=function(a,b){return this.$ReactComposerMediaUploadStore24(this.getComposerData(a),b)};e.getUploads=function(a){var b=this.getComposerData(a);if(b.hideVideos)return b.uploads.filter(function(a){return a.mediaType!==d("ReactComposerMediaUploadType").VIDEO});else return this.getComposerData(a).uploads};e.getPhotos=function(a){a=this.getComposerData(a);return a.uploads.filter(function(a){return a.mediaType!==d("ReactComposerMediaUploadType").VIDEO})};e.getVideos=function(a){a=this.getComposerData(a);return a.uploads.filter(function(a){return a.mediaType===d("ReactComposerMediaUploadType").VIDEO})};e.getUploadsOfType=function(a,b){return this.getUploads(a).filter(function(a){return a.mediaType===b})};e.getUploadsCount=function(a,b){return!b?this.getComposerData(a).uploads.size:this.getComposerData(a).uploads.filter(function(a){return a.mediaType===b}).size};e.getNonPrefillVideoUploadsCount=function(a){return this.getUploadsOfType(a,d("ReactComposerMediaUploadType").VIDEO).filter(function(a){return!a.isFromPrefill}).size};e.getSphericalPhotoCount=function(a){return this.getUploadsOfType(a,d("ReactComposerMediaUploadType").PHOTO).filter(function(a){return a.isSpherical}).size};e.getNonsphericalPhotoCount=function(a){return this.getUploadsOfType(a,d("ReactComposerMediaUploadType").PHOTO).filter(function(a){return!a.isSpherical}).size};e.getHasUploadBeenRemoved=function(a,b){a=this.getComposerData(a);return a.removedIDs.has(b)};e.isUploading=function(a){return this.getUploads(a).some(function(a){return a.state!==d("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_FAILED&&a.state!==d("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE&&a.state!==d("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED})};e.getTotalNumberOfStickersOnPhotos=function(a){var b=0;this.getUploads(a).forEach(function(a){a=a.get("originalPhotoID");a&&(b+=d("PhotoEditorSaveStates").getTotalNumOfStickersOnPhoto(a))});return b};e.getVideoUploader=function(a,b,d){d===void 0&&(d=!1);var e=this.getComposerData(a);if(!e.videoUploader){a=new(c("ReactComposerVideoXUploader"))({composerID:a,uploaderParams:b,isPageAdminVideoUpload:d});e.videoUploader=a}return e.videoUploader};e.$ReactComposerMediaUploadStore2=function(a){a=this.validateAction(a,["composerID","mediaType","uploadID","filename","fileURL","index","xyTags","isSpherical"]);var b=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6];a=a[7];e===d("ReactComposerMediaUploadType").VIDEO&&this.$ReactComposerMediaUploadStore25(b,f,g);this.$ReactComposerMediaUploadStore26(b,i,new(c("ReactComposerPhotoUpload"))({id:f,mediaType:e,state:d("ReactComposerPhotoUploadState").PHOTO_UPLOAD_ENQUEUED,filename:g,fileURL:h,xyTags:j,isSpherical:a}));this.emitChange(b)};e.$ReactComposerMediaUploadStore3=function(a){a=this.validateAction(a,["composerID","uploadID","metadata"]);var b=a[0],c=a[1],d=a[2];a=this.getComposerData(b);this.$ReactComposerMediaUploadStore27(a,c,function(a){return a.withMutations(function(a){return a.set("videoMetadata",d)})});this.emitChange(b)};e.$ReactComposerMediaUploadStore4=function(a){a=this.validateAction(a,["composerID","uploadID"]);var b=a[0];a=a[1];var c=this.getComposerData(b);this.$ReactComposerMediaUploadStore27(c,a,function(a){return a.withMutations(function(a){return a.set("state",d("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_STARTED).set("progress",0)})});this.emitChange(b)};e.$ReactComposerMediaUploadStore7=function(a){a=this.validateAction(a,["composerID","uploadID","fileUpload"]);var b=a[0],c=a[1],e=a[2];a=this.getComposerData(b);var f=e&&e.getFile&&e.getFile().size;this.$ReactComposerMediaUploadStore27(a,c,function(a){return a.withMutations(function(a){return a.set("state",d("ReactComposerPhotoUploadState").PHOTO_UPLOAD_UPLOADING).set("progress",0).set("fileUpload",e).set("fileSize",f||null)})});this.emitChange(b)};e.$ReactComposerMediaUploadStore5=function(a){var b=this.validateAction(a,["composerID","uploadID","progress"]),c=b[0],d=b[1],e=b[2];b=this.getComposerData(c);var f=a.use_real_progress_percentage?a.use_real_progress_percentage:!1,g=a.use_progress_linearity!=null?a.use_progress_linearity:0,h=a.use_progress_transform_x!=null?a.use_progress_transform_x:0;this.$ReactComposerMediaUploadStore27(b,d,function(a){return a.set("progress",e).set("useRealProgressPercentage",f).set("useProgressLinearity",g).set("useProgressTransformX",h)});this.emitChange(c)};e.$ReactComposerMediaUploadStore11=function(a){a=this.validateAction(a,["composerID","mediaType","videoID","uploadID","filename","videoMetadata","fileURL","index","xyTags","isSpherical"]);var b=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7],l=a[8];a=a[9];this.$ReactComposerMediaUploadStore26(b,k,new(c("ReactComposerPhotoUpload"))({id:g,mediaType:e,state:d("ReactComposerPhotoUploadState").PHOTO_UPLOAD_ENQUEUED,filename:h,fileURL:j,xyTags:l,isSpherical:a}));k=this.getComposerData(b);this.$ReactComposerMediaUploadStore27(k,g,function(a){return a.withMutations(function(a){return a.set("videoMetadata",i)})});this.$ReactComposerMediaUploadStore10({composerID:b,photoID:f,uploadID:g});c("ifRequired")("VideoComposerActions",function(a){a.minimizeDialog(d("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID)});this.emitChange(b)};e.$ReactComposerMediaUploadStore10=function(a){var b=this.validateAction(a,["composerID","uploadID","photoID"]),c=b[0],e=b[1],f=b[2];b=this.getComposerData(c);this.$ReactComposerMediaUploadStore27(b,e,function(b){return b.withMutations(function(b){return b.set("state",d("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE).set("photoID",f).set("sphericalPhotoID",a.sphericalPhotoID).set("originalPhotoID",a.originalPhotoID||f).set("progress",100).set("isSphericalVideo",!!a.isSphericalVideo).remove("fileUpload")})});a.isSpherical||this.$ReactComposerMediaUploadStore27(b,e,function(a){return a.set("isSpherical",!1)});this.emitChange(c)};e.$ReactComposerMediaUploadStore12=function(a){a=this.validateAction(a,["composerID","uploadID","photoID","isSpherical"]);var b=a[0],e=a[1],f=a[2];a=a[3];var g=this.getUploadsCount(b);this.$ReactComposerMediaUploadStore26(b,g,new(c("ReactComposerPhotoUpload"))({id:e,photoID:f,mediaType:d("ReactComposerMediaUploadType").PHOTO,originalPhotoID:f,state:d("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,isSpherical:a}));this.emitChange(b)};e.$ReactComposerMediaUploadStore8=function(a){var b=this.validateAction(a,["composerID","uploadID","isSpherical"]),c=b[0],d=b[1],e=b[2];this.$ReactComposerMediaUploadStore27(this.getComposerData(c),d,function(b){return b.withMutations(function(b){return b.set("isSpherical",e).set("projectionType",a.projectionType)})})};e.$ReactComposerMediaUploadStore13=function(a){var b=this.validateAction(a,["composerID","uploadID"]),c=b[0];b=b[1];var e=this.getComposerData(c);this.$ReactComposerMediaUploadStore27(e,b,function(b){return b.withMutations(function(b){return b.set("state",d("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED).set("error",a.error)})});this.emitChange(c)};e.$ReactComposerMediaUploadStore14=function(a){a=this.validateAction(a,["composerID","uploadID"]);var b=a[0];a=a[1];var e=this.getComposerData(b),f=this.$ReactComposerMediaUploadStore24(e,a),g=e.uploads.get(f);if(g.mediaType==d("ReactComposerMediaUploadType").VIDEO){if(g.state===d("ReactComposerPhotoUploadState").PHOTO_UPLOAD_UPLOADING)e.videoUploader.cancelUpload(a);else{if(!e.videoUploader){var i=c("ReactComposerAttachmentStore").getAttachmentsConfig(b,c("ReactComposerAttachmentType").MEDIA);i||h(0,590);this.getVideoUploader(b,i.videoUploadParams)}e.videoUploader.deleteUpload(a)}d("StickyUploadBootloader").hasStartedLoadingAPI()&&d("StickyUploadBootloader").loadAPI(function(a){if(!g.stickyUploadItemID)return;a.deleteItem(g.stickyUploadItemID)})}e.uploads=e.uploads["delete"](f);e.uploadsByID=e.uploadsByID["delete"](a);for(i=f;i<e.uploads.size;i++){f=e.uploads.get(i).id;e.uploadsByID=e.uploadsByID.set(f,i)}e.removedIDs=e.removedIDs.add(a);this.emitChange(b)};e.$ReactComposerMediaUploadStore9=function(a){a=this.validateAction(a,["composerID","uploadID","thumbSrc"]);var b=a[0],c=a[1],d=a[2];a=this.getComposerData(b);this.$ReactComposerMediaUploadStore27(a,c,function(a){return a.set("thumbSrc",d)});this.emitChange(b)};e.$ReactComposerMediaUploadStore6=function(a,b){a=this.validateAction(a,["composerID","uploadID"]);var c=a[0];a=a[1];this.$ReactComposerMediaUploadStore28(c,a,b);this.emitChange(c)};e.$ReactComposerMediaUploadStore15=function(a){a=this.validateAction(a,["composerID","from","to"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);d.uploads=d.uploads.splice(c,1).splice(a,0,d.uploads.get(c));d.uploadsByID=d.uploads.groupBy(function(a,b){return b}).toMap().map(function(a){return a.first().id}).flip();this.emitChange(b)};e.$ReactComposerMediaUploadStore17=function(a){var b=this;a=this.validateAction(a,["composerID","mediaIDs"]);var c=a[0];a=a[1];var d=this.getComposerData(c);d.uploads=a.map(function(a){return b.$ReactComposerMediaUploadStore23(d,a)});d.uploadsByID=d.uploads.groupBy(function(a,b){return b}).toMap().map(function(a){return a.first().id}).flip();this.emitChange(c)};e.$ReactComposerMediaUploadStore16=function(a){var b=this;a=this.validateAction(a,["composerID","medias"]);var e=a[0];a=a[1];a.forEach(function(a,f){var g={id:a.uploadID,photoID:a.photoID,mediaType:a.mediaType,originalPhotoID:a.photoID,state:d("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,thumbSrc:a.thumbSrc,fileURL:a.fileURL||a.imageSrc,filename:a.filename,isSpherical:a.isSpherical,height:a.height,width:a.width,isFromPrefill:!0,holidayCardID:a.holidayCardID};a.mediaType==d("ReactComposerMediaUploadType").VIDEO&&a.duration&&(g.videoMetadata={format:{duration:a.duration}});b.$ReactComposerMediaUploadStore26(e,f,new(c("ReactComposerPhotoUpload"))(g))});this.emitChange(e)};e.$ReactComposerMediaUploadStore18=function(a){a=this.validateAction(a,["composerID","index","upload"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);d.uploads=d.uploads.splice(c,0,a);for(a=c;a<d.uploads.size;a++){c=d.uploads.get(a).id;d.uploadsByID=d.uploadsByID.set(c,a)}this.emitChange(b)};e.$ReactComposerMediaUploadStore19=function(a){a=this.validateAction(a,["composerID","uploadID","sphericalImage","useLocalSphericalImage"]);var b=a[0],c=a[1],d=a[2],e=a[3];a=this.getComposerData(b);this.$ReactComposerMediaUploadStore27(a,c,function(a){return a.withMutations(function(a){return a.set("sphericalImage",d).set("useLocalSphericalImage",e)})});this.emitChange(b)};e.$ReactComposerMediaUploadStore20=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.hideVideos=!0;this.emitChange(a)};e.$ReactComposerMediaUploadStore21=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.hideVideos=!1;this.emitChange(a)};e.$ReactComposerMediaUploadStore22=function(a){var b=this,c=this.validateAction(a,["composerID"]);d("StickyUploadBootloader").hasStartedLoadingAPI()&&d("StickyUploadBootloader").loadAPI(function(a){var d=b.getComposerData(c);if(!d.stickyUploadCollectionID)return;a.setCollectionVisibility(d.stickyUploadCollectionID,!0)})};e.$ReactComposerMediaUploadStore28=function(a,b,c){a=this.getComposerData(a);this.$ReactComposerMediaUploadStore27(a,b,function(a){return a.set("state",c)})};e.$ReactComposerMediaUploadStore27=function(a,b,c){b=this.$ReactComposerMediaUploadStore29(a,b);var d=b[0];b=b[1];a.uploads=a.uploads.set(b,c(d,b))};e.$ReactComposerMediaUploadStore29=function(a,b){b=this.$ReactComposerMediaUploadStore24(a,b);return[a.uploads.get(b),b]};e.$ReactComposerMediaUploadStore24=function(a,b){a=a.uploadsByID.get(b);if(a===void 0)throw new Error("Upload "+b+" hasn't been registered");return a};e.$ReactComposerMediaUploadStore23=function(a,b){b=this.$ReactComposerMediaUploadStore24(a,b);return a.uploads.get(b)};e.$ReactComposerMediaUploadStore1=function(a){if(i[a.type]){var b=a.composerID;a=a.uploadID;return a==null?!1:this.getHasUploadBeenRemoved(b,a)}return!1};e.$ReactComposerMediaUploadStore25=function(a,b,c){var e=this;d("StickyUploadBootloader").loadAPI(function(d){var f=e.getComposerData(a);f.stickyUploadCollectionID||(f.stickyUploadCollectionID=d.createCollection(!1));var g=d.registerItem(f.stickyUploadCollectionID,c);e.$ReactComposerMediaUploadStore27(f,b,function(a){return a.set("stickyUploadItemID",g)})})};e.$ReactComposerMediaUploadStore26=function(a,b,c){var d=this.getComposerData(a);d.uploads=d.uploads.splice(b,0,c);for(b=b;b<d.uploads.size;b++){var e=d.uploads.get(b).id;d.uploadsByID=d.uploadsByID.set(e,b)}this.$ReactComposerMediaUploadStore30(a,c)};e.$ReactComposerMediaUploadStore30=function(a,b){var c=this;if(b.mediaType==d("ReactComposerMediaUploadType").PHOTO){var e=new Image();e.onload=function(){var d=c.getComposerData(a);c.$ReactComposerMediaUploadStore27(d,b.id,function(a){return a.withMutations(function(a){return a.set("height",e.height).set("width",e.width)})});c.emitChange(a)};e.src=b.fileURL}else if(b.mediaType==d("ReactComposerMediaUploadType").VIDEO){var f=document.createElement("video");f.onloadedmetadata=function(){var d=c.getComposerData(a);c.$ReactComposerMediaUploadStore27(d,b.id,function(a){return a.withMutations(function(a){return a.set("height",f.videoHeight).set("width",f.videoWidth)})});c.emitChange(a)};f.src=b.fileURL}};return b}(c("ReactComposerStoreBase"));e=new b();g["default"]=e}),98);
__d("ReactComposerSlideshowActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({AUDIO_FILE_UPLOAD_ERROR:null,AUDIO_FILE_UPLOAD_STARTED:null,AUDIO_FILE_UPLOAD_SUCCESS:null,CLOSE_EDIT_SLIDESHOW_DIALOG:null,CREATE:null,DURATION_CHANGE:null,FORMAT_CHANGE:null,HIDE_SLIDESHOW_EDIT_FIELD:null,IMAGE_REMOVE:null,IMAGES_SELECT_CONFIRM:null,MUSIC_CATEGORY_SELECT:null,PREVIEW_STATE_CHANGE:null,REORDER_IMAGES:null,SELECT_TAB:null,SHOW_EDIT_SLIDESHOW_DIALOG:null,SHOW_SLIDESHOW_EDIT_FIELD:null,SET_STORYLINE_MOOD_FILES:null,STORYLINE_MOOD_CHANGE:null,STORYLINE_MOOD_DELETE:null,STORYLINE_MOOD_SOURCE_CHANGE:null,STORYLINE_MOOD_SOURCE_MAP_CHANGE:null,TOGGLE_SLIDESHOW_DIALOG:null,TRANSITION_CHANGE:null},"ReactComposerSlideshowActionType");g["default"]=a}),98);
__d("SlideshowImageUtil",["invariant","SlideshowConstants","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i="-",j=24,k=1.3,l=10,m=460,n=32,o=.8;function a(a,b,d,e){if(e&&a){e=Object.keys(a)[0];a=a[e];return{format:c("SlideshowConstants").formats.Original,topLeft:a[0],bottomRight:a[1]}}return r({width:d.width?d.width:0,height:d.height?d.height:0},{width:b.width,height:b.height})}function b(a){var b=a[0].width,c=a[0].height;for(var d=0;d<a.length;d++){var e=a[d];if(e.width!==b||e.height!==c)return!0}return!1}function p(a,b,c){a=q(a,c);return c={},c[b]=a,c}function d(a,b,d){if(!a.size)return c("immutable").Map();var e=c("immutable").Map();switch(b){case c("SlideshowConstants").formats.Original:var f=a.first();f=d.get(f.key);var g=f.height,h=f.width;a.forEach(function(a){e=e.set(a.key,p(d.get(a.key),h+c("SlideshowConstants").SIZE_DELIMITER+g,h/g))});break;case c("SlideshowConstants").formats.Wide:a.forEach(function(a){e=e.set(a.key,p(d.get(a.key),b,c("SlideshowConstants").LANDSCAPE_ASPECT_RATIO))});break;case c("SlideshowConstants").formats.Square:a.forEach(function(a){e=e.set(a.key,p(d.get(a.key),b,c("SlideshowConstants").SQUARE_ASPECT_RATIO))});break;case c("SlideshowConstants").formats.Vertical:a.forEach(function(a){e=e.set(a.key,p(d.get(a.key),b,c("SlideshowConstants").VERTICAL_ASPECT_RATIO))});break;default:}return e}function q(a,b){var c,d;a.width/b>a.height?(c=a.height,d=a.height*b):(d=a.width,c=a.width/b);b=(a.width-d)/2;a=(a.height-c)/2;var e=Math.floor(b)-b,f=Math.floor(a)-a;return[[b+e,a+f],[Math.round(b+d+e),Math.round(a+c+f)]]}function e(a,b){var d=b,e=b;if(a.length>0){a=a[0];a=Object.keys(a)[0];switch(a){case c("SlideshowConstants").formats.Wide:d=b/c("SlideshowConstants").LANDSCAPE_ASPECT_RATIO;break;case c("SlideshowConstants").formats.Vertical:e=b*c("SlideshowConstants").VERTICAL_ASPECT_RATIO;break;case c("SlideshowConstants").formats.Square:break;default:b=a.split(c("SlideshowConstants").SIZE_DELIMITER);a=Number(b[0]);b=Number(b[1]);a>b?d=Math.floor(e*b/a):e=Math.floor(d*a/b);break}}return{width:e,height:d}}function r(a,b){b=b.width/b.height;a=q(a,b);a.length===2||h(0,1043);return{format:c("SlideshowConstants").formats.Original,topLeft:a[0],bottomRight:a[1]}}function f(a){a=q(a,1);a.length===2||h(0,1043);return{format:c("SlideshowConstants").formats.Square,topLeft:a[0],bottomRight:a[1]}}function s(a){a=a.split(i);return a[1]}function t(a){return Math.floor(j*a)}function u(a){return a?"bold":"normal"}function v(){return k}function w(){return o}function x(a,b){return a-n*b*2-l*b*2}function y(a){return l*a}function z(a){return n*a}function A(a){a=Object.keys(a)[0];a=a.split(c("SlideshowConstants").SIZE_DELIMITER);var b=Number(a[0]);a=Number(a[1]);return B(b,a)}function B(a,b){return Math.max(a/m,b/m)}function C(a,b,d){a=Object.keys(a)[0];a=a.split(c("SlideshowConstants").SIZE_DELIMITER);var e=Number(a[0]);a=Number(a[1]);e=F(a,e,b,d);return[Math.floor(e.marginLeft),Math.floor(a-e.marginTop-e.textHeight),Math.ceil(e.marginLeft+e.textWidth),Math.ceil(a-e.marginTop)]}function D(a,b,d){a=Object.keys(a)[0];a=a.split(c("SlideshowConstants").SIZE_DELIMITER);var e=Number(a[0]);a=Number(a[1]);e=F(a,e,b,d);return[Math.floor(e.marginLeft),Math.floor(a-e.marginTop-e.textHeight),Math.ceil(e.marginLeft+e.textWidth),Math.ceil(a-e.marginTop)]}function E(a){if(!a)return null;a=a.replace("#","");var b=parseInt(a.substring(0,2),16),c=parseInt(a.substring(2,4),16);a=parseInt(a.substring(4,6),16);return"rgba("+b+","+c+","+a+","+w()+")"}function F(a,b,c,d){var e=c.text_alignment.split(i),f=e[1];e=e[0];var g=t(d),h=x(b,d),j=x(a,d),k=document.createElement("div");k.textContent=c.textoverlay_content?c.textoverlay_content:"";k.style.visibility="hidden";k.style.display="inline-block";k.style.wordWrap="break-word";k.style.whiteSpace="pre-wrap";k.style.fontFamily=c.font;k.style.fontWeight=u(c.bold);k.style.fontSize=g+"px";k.style.textAlign=f;k.style.maxWidth=h+"px";k.style.maxHeight=j+"px";k.style.lineHeight=v()*g+"px";k.style.padding=y(d)+"px";k.style.letterSpacing="0.2px";document.body.appendChild(k);c=k.clientWidth;h=k.clientHeight;document.body.removeChild(k);j=n*d;g=n*d;k=b-n*d;var l=a-n*d;f=="center"?j=Math.min((b-c)/2,k):f=="right"&&(j=Math.min(b-n*d-c,k));e=="center"?g=Math.min((a-h)/2,l):e=="bottom"&&(g=Math.min(a-n*d-h,l));return{marginLeft:j,marginTop:g,textHeight:h,textWidth:c}}g.getCroppingSpec=a;g.shouldCropImages=b;g.getCrops=p;g.calculateCropsForFormat=d;g.calculateDefaultCoordinates=q;g.getPreviewBoxDimensions=e;g.getFullSizeImageBoxCroppingSpec=r;g.getDefaultCroppingSpec=f;g.getHorizontalAlignmentForAPI=s;g.getFontSize=t;g.getFontWeight=u;g.getLineHeight=v;g.getOpacity=w;g.getTextoverlayMaxEdge=x;g.getTextoverlayPadding=y;g.getTextoverlayMargin=z;g.getScaleMultiplierFromCrops=A;g.getScaleMultiplier=B;g.getOuterTextboxCoordinatesForAPI=C;g.getInnerTextboxCoordinatesForAPI=D;g.convertHexToRGBA=E;g.calculateTextboxCoordinates=F}),98);
__d("ReactComposerSelectedImagesStore",["ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerPhotoStore","ReactComposerSlideshowActionType","ReactComposerStoreBase","SlideshowConstants","SlideshowImageUtil","mergeDeepInto"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(e,a);var b=e.prototype;b.$ReactComposerSelectedImagesStore1=function(a,b,c){if(a.isLoading)return{};a=d("SlideshowImageUtil").calculateDefaultCoordinates({width:a.width,height:a.height},c);return c={},c[b]=a,c};b.$ReactComposerSelectedImagesStore2=function(a,b,c){c=c;c||(c=this.getComposerData(a).format);return this.$ReactComposerSelectedImagesStore3(b,c)};b.$ReactComposerSelectedImagesStore3=function(a,b){var d=this;if(!a.length)return[];switch(b){case c("SlideshowConstants").formats.Original:var e=a[0];return a.map(function(a){return d.$ReactComposerSelectedImagesStore1(a,e.width+c("SlideshowConstants").SIZE_DELIMITER+e.height,e.width/e.height)});case c("SlideshowConstants").formats.Wide:return a.map(function(a){return d.$ReactComposerSelectedImagesStore1(a,b,c("SlideshowConstants").LANDSCAPE_ASPECT_RATIO)});case c("SlideshowConstants").formats.Square:return a.map(function(a){return d.$ReactComposerSelectedImagesStore1(a,b,c("SlideshowConstants").SQUARE_ASPECT_RATIO)});case c("SlideshowConstants").formats.Vertical:return a.map(function(a){return d.$ReactComposerSelectedImagesStore1(a,b,c("SlideshowConstants").VERTICAL_ASPECT_RATIO)});default:return[]}};function e(){var b,d;b=a.call(this,function(){return{selectedImages:[],imagesCrops:[],editState:null,format:c("SlideshowConstants").formats.Original,removedUploadIDs:[],addedUploadIDs:[]}},function(a){switch(a.type){case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:c("ReactComposerDispatcher").waitFor([c("ReactComposerMediaUploadStore").getDispatchToken()]);d&&d.$ReactComposerSelectedImagesStore4(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:c("ReactComposerDispatcher").waitFor([c("ReactComposerPhotoStore").getDispatchToken()]);d&&d.$ReactComposerSelectedImagesStore5(a);break;case c("ReactComposerSlideshowActionType").IMAGES_SELECT_CONFIRM:d&&d.$ReactComposerSelectedImagesStore6(a);break;case c("ReactComposerSlideshowActionType").IMAGE_REMOVE:d&&d.$ReactComposerSelectedImagesStore7(a);break;case c("ReactComposerSlideshowActionType").REORDER_IMAGES:d&&d.$ReactComposerSelectedImagesStore8(a);break;case c("ReactComposerSlideshowActionType").FORMAT_CHANGE:d&&d.$ReactComposerSelectedImagesStore9(a);break;case c("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG:d&&d.$ReactComposerSelectedImagesStore10(a);break;case c("ReactComposerSlideshowActionType").HIDE_SLIDESHOW_EDIT_FIELD:d&&d.$ReactComposerSelectedImagesStore11(a);break;case c("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG:d&&d.$ReactComposerSelectedImagesStore12(a);break;case c("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG:d&&d.$ReactComposerSelectedImagesStore13(a);break;case c("ReactComposerSlideshowActionType").CREATE:d&&d.$ReactComposerSelectedImagesStore14(a);break;default:break}})||this;d=babelHelpers.assertThisInitialized(b);return b}b.$ReactComposerSelectedImagesStore4=function(a){a=a.composerID;var b=this.getComposerData(a),d=c("ReactComposerMediaUploadStore").getUploads(a);d=this.addNewImagesFromPhotoUploads(d,b.selectedImages,b.removedUploadIDs);b.selectedImages=b.selectedImages.concat(d);b.editState!==null&&(b.addedUploadIDs=b.addedUploadIDs.concat(d.map(function(a){return a.key})));this.emitChange(a)};b.$ReactComposerSelectedImagesStore5=function(a){a=a.composerID;var b=this.getComposerData(a),d=c("ReactComposerPhotoStore").getPhotos(a);b.selectedImages=this.replacePhotoUploadsFromPhotos(d,b.selectedImages);b.imagesCrops=this.$ReactComposerSelectedImagesStore2(a,b.selectedImages);this.emitChange(a)};b.$ReactComposerSelectedImagesStore11=function(a){a=a.composerID;var b=this.getComposerData(a);b.selectedImages=[];b.imagesCrops=[];this.emitChange(a)};b.$ReactComposerSelectedImagesStore10=function(a){var b=a.composerID,c=this.getComposerData(b);a.shouldShowSlideshowDialog||(c.selectedImages=[],c.imagesCrops=[]);this.emitChange(b)};b.$ReactComposerSelectedImagesStore6=function(a){var b=a.composerID,c=this.getComposerData(b);c.selectedImages=c.selectedImages.concat(a.selectedImages);c.imagesCrops=this.$ReactComposerSelectedImagesStore2(b,c.selectedImages);this.emitChange(b)};b.$ReactComposerSelectedImagesStore7=function(a){var b=a.composerID,c=this.getComposerData(b);c.editState!==null&&c.removedUploadIDs.push(a.removeImage.key);var d=c.selectedImages.filter(function(b){return b.key!==a.removeImage.key});c.selectedImages=d;c.imagesCrops=this.$ReactComposerSelectedImagesStore2(b,d);this.emitChange(b)};b.$ReactComposerSelectedImagesStore8=function(a){var b=a.composerID,c=this.getComposerData(b);a=a.data;var d=a.fromIndex;a=a.toIndex;var e=c.selectedImages.slice(0),f=babelHelpers["extends"]({},e[d]);e[d].remove=!0;e.splice(d>a?a:a+1,0,f);e=e.filter(function(a){return!a.remove});c.selectedImages=e;c.imagesCrops=this.$ReactComposerSelectedImagesStore2(b,e);this.emitChange(b)};b.$ReactComposerSelectedImagesStore9=function(a){var b=a.composerID,c=this.getComposerData(b);c.format=a.format;c.imagesCrops=this.$ReactComposerSelectedImagesStore2(b,c.selectedImages,a.format);this.emitChange(b)};b.$ReactComposerSelectedImagesStore12=function(a){a=a.composerID;var b=this.getComposerData(a),d={};c("mergeDeepInto")(d,b);b.editState=d;this.emitChange(a)};b.$ReactComposerSelectedImagesStore13=function(a){a=a.composerID;var b=this.getComposerData(a),c=b.editState;b.selectedImages=c.selectedImages;b.imagesCrops=c.imagesCrops;b.format=c.format;b.editState=null;b.removedUploadIDs=[];b.addedUploadIDs=[];this.emitChange(a)};b.$ReactComposerSelectedImagesStore14=function(a){a=a.composerID;var b=this.getComposerData(a);b.editState=null;b.removedUploadIDs=[];b.addedUploadIDs=[];this.emitChange(a)};b.getImagesFromPhotoUploads=function(a){var b=[];a.forEach(function(a){b.push({height:null,isLoading:!0,key:a.id,url:null,width:null})});return b};b.addNewImagesFromPhotoUploads=function(a,b,c){a=this.getImagesFromPhotoUploads(a);return a.filter(function(a){var d=b.findIndex(function(b){return b.key===a.key}),e=c.findIndex(function(b){return b===a.key});return d===-1&&e===-1})};b.replacePhotoUploadsFromPhotos=function(a,b){return b.map(function(b){var c=b,d=a.find(function(a){return a.uploadID===b.key});d!=null&&(c={height:d.height,isLoading:!1,key:d.uploadID,photoID:d.id,thumbSrc:d.thumbSrc,url:d.imageSrc,width:d.width});return c})};b.getPhotoIDs=function(a){a=this.getComposerData(a);return a.selectedImages.map(function(a){return a.photoID}).slice(0,c("SlideshowConstants").max_photo_num)};b.getRemovedUploadIDs=function(a){return this.getComposerData(a).removedUploadIDs};b.getAddedUploadIDs=function(a){return this.getComposerData(a).addedUploadIDs};b.getSelectedImages=function(a){return this.getComposerData(a).selectedImages};b.getThumbnailSrc=function(a){a=this.getComposerData(a).selectedImages;return a.length>0?a[0].thumbSrc:null};b.getImagesCrops=function(a){return this.getComposerData(a).imagesCrops};b.getNumberOfImages=function(a){return Math.min(this.getComposerData(a).selectedImages.length,c("SlideshowConstants").max_photo_num)};b.getFormat=function(a){return this.getComposerData(a).format};return e}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("ReactComposerSlideshowActions",["ReactComposerDispatcher","ReactComposerSlideshowActionType"],(function(a,b,c,d,e,f,g){function a(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerSlideshowActionType").SHOW_SLIDESHOW_EDIT_FIELD})}function b(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerSlideshowActionType").HIDE_SLIDESHOW_EDIT_FIELD})}function d(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,entrypoint:b,shouldShowSlideshowDialog:!0,type:c("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG})}function e(a){c("ReactComposerDispatcher").dispatch({composerID:a,shouldShowSlideshowDialog:!1,type:c("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG})}function f(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG})}function h(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG})}function i(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,selectedImages:b,type:c("ReactComposerSlideshowActionType").IMAGES_SELECT_CONFIRM})}function j(b,a){c("ReactComposerDispatcher").dispatch({composerID:b,removeImage:a,type:c("ReactComposerSlideshowActionType").IMAGE_REMOVE})}function k(a,b,d){c("ReactComposerDispatcher").dispatch({composerID:a,data:{fromIndex:b,toIndex:d},type:c("ReactComposerSlideshowActionType").REORDER_IMAGES})}function l(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,selectedStorylineMood:b,type:c("ReactComposerSlideshowActionType").STORYLINE_MOOD_CHANGE})}function m(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,selectedStorylineMood:b,type:c("ReactComposerSlideshowActionType").STORYLINE_MOOD_DELETE})}function n(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,storylineMoodIDSource:b,type:c("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_CHANGE})}function o(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,storylineMoodIDToSource:b,type:c("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_MAP_CHANGE})}function p(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,transitionInMS:b,type:c("ReactComposerSlideshowActionType").TRANSITION_CHANGE})}function q(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,durationInMS:b,shouldShowDurationWarning:!1,type:c("ReactComposerSlideshowActionType").DURATION_CHANGE})}function r(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,durationInMS:b,shouldShowDurationWarning:!0,type:c("ReactComposerSlideshowActionType").DURATION_CHANGE})}function s(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,storylineMoodFiles:b,type:c("ReactComposerSlideshowActionType").SET_STORYLINE_MOOD_FILES})}function t(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerSlideshowActionType").CREATE})}function u(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,format:b,type:c("ReactComposerSlideshowActionType").FORMAT_CHANGE})}function v(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,tab:b,type:c("ReactComposerSlideshowActionType").SELECT_TAB})}function w(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,selectedMusicCategory:b,type:c("ReactComposerSlideshowActionType").MUSIC_CATEGORY_SELECT})}function x(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,isPreviewPlaying:b,type:c("ReactComposerSlideshowActionType").PREVIEW_STATE_CHANGE})}function y(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_STARTED})}function z(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_ERROR})}function A(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,uploadedMood:b,type:c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_SUCCESS})}g.showSlideshowEditField=a;g.hideSlideshowEditField=b;g.showSlideshowDialog=d;g.closeSlideshowDialog=e;g.showEditSlideshowDialog=f;g.closeEditSlideshowDialog=h;g.selectImagesConfirm=i;g.removeImage=j;g.reorderImages=k;g.changeStorylineMoodFile=l;g.deleteStorylineMoodFile=m;g.changeStorylineMoodIDSource=n;g.changeStorylineMoodSourceMap=o;g.changeTransition=p;g.changeDuration=q;g.changeDurationBySystem=r;g.setStorylineMoodFiles=s;g.createSlideshow=t;g.changeFormat=u;g.selectTab=v;g.musicCategorySelect=w;g.previewStateChange=x;g.audioFileUploadStarted=y;g.audioFileUploadError=z;g.audioFileUploadSuccess=A}),98);
__d("SlideshowFlowTypes",[],(function(a,b,c,d,e,f){"use strict";a={SETTINGS_TAB:"SETTINGS_TAB",MUSIC_TAB:"MUSIC_TAB",FRAMES_TAB:"FRAMES_TAB"};f.SlideshowTabKey=a}),66);
__d("ReactComposerSlideshowStore",["ReactComposerSlideshowActionType","ReactComposerStoreBase","SlideshowConstants","SlideshowFlowTypes","mergeDeepInto"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;b=a.call(this,function(){return{durationInMS:1e3,editState:null,isSlideshowSelected:!1,selectedTab:d("SlideshowFlowTypes").SlideshowTabKey.SETTINGS_TAB,shouldShowDurationWarning:!1,shouldShowSlideshowDialog:!1,transitionInMS:c("SlideshowConstants").transitions.None}},function(a){switch(a.type){case c("ReactComposerSlideshowActionType").CREATE:e&&e.$ReactComposerSlideshowStore1(a);break;case c("ReactComposerSlideshowActionType").SHOW_SLIDESHOW_EDIT_FIELD:e&&e.$ReactComposerSlideshowStore2(a);break;case c("ReactComposerSlideshowActionType").HIDE_SLIDESHOW_EDIT_FIELD:e&&e.$ReactComposerSlideshowStore3(a);break;case c("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG:e&&e.$ReactComposerSlideshowStore4(a);break;case c("ReactComposerSlideshowActionType").TRANSITION_CHANGE:e&&e.$ReactComposerSlideshowStore5(a);break;case c("ReactComposerSlideshowActionType").DURATION_CHANGE:e&&e.$ReactComposerSlideshowStore6(a);break;case c("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG:e&&e.$ReactComposerSlideshowStore7(a);break;case c("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG:e&&e.$ReactComposerSlideshowStore8(a);break;case c("ReactComposerSlideshowActionType").SELECT_TAB:e&&e.$ReactComposerSlideshowStore9(a);break;default:break}})||this;e=babelHelpers.assertThisInitialized(b);return b}var e=b.prototype;e.$ReactComposerSlideshowStore1=function(a){a=a.composerID;var b=this.getComposerData(a);b.isSlideshowSelected=!0;b.shouldShowSlideshowDialog=!1;b.editState=null;this.emitChange(a)};e.$ReactComposerSlideshowStore9=function(a){var b=a.composerID,c=this.getComposerData(b);c.selectedTab=a.tab;this.emitChange(b)};e.$ReactComposerSlideshowStore2=function(a){a=a.composerID;var b=this.getComposerData(a);b.isSlideshowSelected=!0;this.emitChange(a)};e.$ReactComposerSlideshowStore3=function(a){a=a.composerID;var b=this.getComposerData(a);b.isSlideshowSelected=!1;this.emitChange(a)};e.$ReactComposerSlideshowStore4=function(a){var b=a.composerID,c=this.getComposerData(b);c.shouldShowSlideshowDialog=a.shouldShowSlideshowDialog;this.emitChange(b)};e.$ReactComposerSlideshowStore5=function(a){var b=a.composerID,c=this.getComposerData(b);c.transitionInMS=a.transitionInMS;this.emitChange(b)};e.$ReactComposerSlideshowStore6=function(a){var b=a.composerID,c=this.getComposerData(b);c.durationInMS=a.durationInMS;c.shouldShowDurationWarning=a.shouldShowDurationWarning;this.emitChange(b)};e.$ReactComposerSlideshowStore7=function(a){a=a.composerID;var b=this.getComposerData(a),d={};c("mergeDeepInto")(d,b);b.editState=d;b.shouldShowSlideshowDialog=!0;this.emitChange(a)};e.$ReactComposerSlideshowStore8=function(a){a=a.composerID;var b=this.getComposerData(a);b.shouldShowSlideshowDialog=!1;b.isSlideshowSelected=!0;var c=b.editState;b.durationInMS=c.durationInMS;b.transitionInMS=c.transitionInMS;b.editState=null;this.emitChange(a)};e.isSlideshowSelected=function(a){return this.getComposerData(a).isSlideshowSelected};e.isEditing=function(a){return this.getComposerData(a).editState!==null};e.shouldShowSlideshowDialog=function(a){return this.getComposerData(a).shouldShowSlideshowDialog};e.getDurationInMS=function(a){return this.getComposerData(a).durationInMS};e.getTotalLength=function(a,b){return this.getDurationInMS(a)*b+this.getTransitionInMS(a)*b};e.getTransitionInMS=function(a){return this.getComposerData(a).transitionInMS};e.getSelectedTab=function(a){return this.getComposerData(a).selectedTab};e.getShouldShowDurationWarning=function(a){return this.getComposerData(a).shouldShowDurationWarning};return b}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("SlideshowAudioUtil",["ix","Image.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a={getMusicCategoryGlyph:function(a){switch(a){case"All Tracks":return i.jsx(b("Image.react"),{src:g("129467")});case"User Uploaded":return i.jsx(b("Image.react"),{src:g("128769")});case"Recently Used":return i.jsx(b("Image.react"),{src:g("129053")});case"Energetic":return i.jsx(b("Image.react"),{src:g("128852")});case"Inspirational":return i.jsx(b("Image.react"),{src:g("128909")});case"Fun":return i.jsx(b("Image.react"),{src:g("129302")});case"Trustworthy":return i.jsx(b("Image.react"),{src:g("128881")});case"Modern":return i.jsx(b("Image.react"),{src:g("129337")});default:return null}},storylineMoodCompare:function(a,b){if(!a&&!b)return!0;else if(!a||!b)return!1;return a.fileName===b.fileName&&a.moodID===b.moodID&&JSON.stringify(a.categories)===JSON.stringify(b.categories)}};e.exports=a}),null);
__d("XSlideshowShakrOAuthController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/slideshow/shakr/",{})}),null);
__d("XSlideshowStorylineMoodAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/slideshow/storyline_mood/",{target_id:{type:"FBID"}})}),null);
__d("XSlideshowStorylineMoodDeleteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/slideshow/storyline_mood/delete/",{})}),null);
__d("XSlideshowStorylineMoodUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/slideshow/storyline_mood/upload/",{})}),null);
__d("XSlideshowVideoFrameImagesAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/slideshow/frame_images/",{request_type:{type:"Enum",enumType:0},video_id:{type:"FBID"}})}),null);
__d("SlideshowDataManager",["AsyncRequest","ThisControllerNoLongerExists","XSlideshowShakrOAuthController","XSlideshowStorylineMoodAsyncController","XSlideshowStorylineMoodDeleteController","XSlideshowStorylineMoodUploadController","XSlideshowVideoFrameImagesAsyncController","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.fetchStorylineMoodSource=function(a,b,d){var e=c("XSlideshowStorylineMoodAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(e).setData({storyline_mood_id:a,total_length:b}).setMethod("POST").setHandler(function(a){return d(a.payload)}).send()};b.fetchStorylineMoodFiles=function(a,b){var d=this,e=c("XSlideshowStorylineMoodAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(e).setMethod("GET").setData({target_id:b}).setReadOnly(!0).setHandler(function(b){return a(d.getStorylineMoodFiles(b.payload))}).send()};b.getStorylineMoodFiles=function(a){var b=[];Object.keys(a).forEach(function(c){b.push({moodID:c,fileName:a[c].fileName,categories:a[c].categories,source:null})});return c("immutable").List(b)};b.scheduleFrameImagesAsyncJob=function(a){var b=c("XSlideshowVideoFrameImagesAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(b).setData({request_type:0,video_id:a}).setMethod("POST").send()};b.fetchVideoFrameImages=function(a,b){var d=c("XSlideshowVideoFrameImagesAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(d).setData({request_type:1,video_id:b}).setMethod("POST").setHandler(function(b){return a(b.payload)}).send()};b.uploadAudioFile=function(a,b,d,e){var f=this;if(!a||!a.input||!a.input.files.length)return;var g=c("XSlideshowStorylineMoodUploadController").getURIBuilder().getURI(),h=new FormData();h.append("audio_file",a.input.files[0]);h.append("target_id",b);new(c("AsyncRequest"))().setURI(g).setRawData(h).setMethod("POST").setErrorHandler(function(a){return e()}).setHandler(function(a){return f.$1(a.payload,d,e)}).send();a.clear()};b.$1=function(a,b,c){a.success?b({moodID:a.moodID,fileName:a.fileName,categories:a.categories,source:null}):c()};b.deleteAudioFile=function(a){var b=c("XSlideshowStorylineMoodDeleteController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(b).setData({mood_id:a}).setMethod("POST").send()};b.getShakrScopeToken=function(a){var b=c("XSlideshowShakrOAuthController").getURIBuilder();new(c("AsyncRequest"))().setURI(b.getURI()).setHandler(function(b){return a(b.payload)}).send()};b.pollShakrForVideoURL=function(a,b){var e=d("ThisControllerNoLongerExists").__DEADBUILDER__("o279ohaf");new(c("AsyncRequest"))().setURI(e.getURI()).setData({show_id:a}).setHandler(function(a){return b(a.payload)}).send()};return a}();b=new a();g["default"]=b}),98);
__d("slideshowGetMaximumTotalLengthInMS",["DateConsts","SlideshowConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("SlideshowConstants").max_photo_num,b=c("SlideshowConstants").image_duration_in_sec_options.slice(-1)[0];return a*b*d("DateConsts").MS_PER_SEC}g["default"]=a}),98);
__d("ReactComposerSlideshowAudioStore",["ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerSelectedImagesStore","ReactComposerSlideshowActionType","ReactComposerSlideshowActions","ReactComposerSlideshowStore","ReactComposerStoreBase","SlideshowAudioUtil","SlideshowDataManager","immutable","mergeDeepInto","slideshowGetMaximumTotalLengthInMS"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;b=a.call(this,function(){return{audioFileUploadInfo:{isUploading:!1,hasError:!1},editState:null,isPreviewPlaying:!1,recentlyUsedStorylineMoods:c("immutable").List(),selectedMusicCategory:"All Tracks",selectedStorylineMood:null,storylineMoodFiles:c("immutable").List(),storylineMoodIDToSource:c("immutable").Map()}},function(a){switch(a.type){case c("ReactComposerSlideshowActionType").IMAGES_SELECT_CONFIRM:e&&e.$ReactComposerSlideshowAudioStore1(a,function(){d("ReactComposerSlideshowActions").previewStateChange(a.composerID,!1)});break;case c("ReactComposerSlideshowActionType").STORYLINE_MOOD_CHANGE:e&&e.$ReactComposerSlideshowAudioStore2(a);e&&e.$ReactComposerSlideshowAudioStore1(a,function(){d("ReactComposerSlideshowActions").previewStateChange(a.composerID,!0)});break;case c("ReactComposerSlideshowActionType").STORYLINE_MOOD_DELETE:e&&e.$ReactComposerSlideshowAudioStore3(a);break;case c("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG:e&&e.$ReactComposerSlideshowAudioStore4(a);break;case c("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG:e&&e.$ReactComposerSlideshowAudioStore5(a);break;case c("ReactComposerSlideshowActionType").DURATION_CHANGE:e&&e.$ReactComposerSlideshowAudioStore1(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:case c("ReactComposerSlideshowActionType").IMAGE_REMOVE:e&&e.$ReactComposerSlideshowAudioStore1(a);break;case c("ReactComposerSlideshowActionType").SET_STORYLINE_MOOD_FILES:e&&e.$ReactComposerSlideshowAudioStore6(a);break;case c("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_CHANGE:e&&e.$ReactComposerSlideshowAudioStore7(a);break;case c("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_MAP_CHANGE:e&&e.$ReactComposerSlideshowAudioStore8(a);break;case c("ReactComposerSlideshowActionType").MUSIC_CATEGORY_SELECT:e&&e.$ReactComposerSlideshowAudioStore9(a);break;case c("ReactComposerSlideshowActionType").PREVIEW_STATE_CHANGE:e&&e.$ReactComposerSlideshowAudioStore10(a);break;case c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_STARTED:e&&e.$ReactComposerSlideshowAudioStore11(a);break;case c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_ERROR:e&&e.$ReactComposerSlideshowAudioStore12(a);break;case c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_SUCCESS:e&&e.$ReactComposerSlideshowAudioStore13(a);break;default:break}})||this;e=babelHelpers.assertThisInitialized(b);return b}var e=b.prototype;e.$ReactComposerSlideshowAudioStore1=function(a,b){var e=a.composerID;a=this.getComposerData(e);var f=a.selectedStorylineMood;if(!f)return;var g=f.moodID;f=this.getNumberOfImages(e);f=f===0?c("slideshowGetMaximumTotalLengthInMS")():this.getTotalLength(e,f);var h=this.getStorylineMoodIDToSource(e);c("SlideshowDataManager").fetchStorylineMoodSource(g,f,function(a){d("ReactComposerSlideshowActions").changeStorylineMoodIDSource(e,a),h=h.set(g,a),d("ReactComposerSlideshowActions").changeStorylineMoodSourceMap(e,h),b&&b()});a.selectedStorylineMood.source=h.get(g);this.emitChange(e)};e.$ReactComposerSlideshowAudioStore11=function(a){a=a.composerID;var b=this.getComposerData(a);b.audioFileUploadInfo.isUploading=!0;b.audioFileUploadInfo.hasError=!1;b.selectedMusicCategory="User Uploaded";this.emitChange(a)};e.$ReactComposerSlideshowAudioStore12=function(a){a=a.composerID;var b=this.getComposerData(a);b.audioFileUploadInfo.isUploading=!1;b.audioFileUploadInfo.hasError=!0;this.emitChange(a)};e.$ReactComposerSlideshowAudioStore13=function(a){var b=a.composerID,c=this.getComposerData(b);c.audioFileUploadInfo.isUploading=!1;c.audioFileUploadInfo.hasError=!1;c.storylineMoodFiles=c.storylineMoodFiles.unshift(a.uploadedMood);this.emitChange(b)};e.$ReactComposerSlideshowAudioStore9=function(a){var b=a.composerID,c=this.getComposerData(b);c.selectedMusicCategory=a.selectedMusicCategory;this.emitChange(b)};e.$ReactComposerSlideshowAudioStore4=function(a){a=a.composerID;var b=this.getComposerData(a),d={};c("mergeDeepInto")(d,b);b.editState=d;this.emitChange(a)};e.$ReactComposerSlideshowAudioStore5=function(a){a=a.composerID;var b=this.getComposerData(a),c=b.editState;b.selectedStorylineMood=c.selectedStorylineMood;b.selectedMusicCategory=c.selectedMusicCategory;b.editState=null;this.emitChange(a)};e.$ReactComposerSlideshowAudioStore2=function(a){var b=a.composerID,c=this.getComposerData(b);c.selectedStorylineMood=a.selectedStorylineMood;a.selectedStorylineMood!=null&&(c.recentlyUsedStorylineMoods=c.recentlyUsedStorylineMoods.unshift(a.selectedStorylineMood));this.emitChange(b)};e.$ReactComposerSlideshowAudioStore3=function(a){var b=a.composerID,e=this.getComposerData(b),f=a.selectedStorylineMood;d("SlideshowAudioUtil").storylineMoodCompare(f,e.selectedStorylineMood)&&(e.selectedStorylineMood=null,e.isPreviewPlaying=!1);e.storylineMoodFiles=e.storylineMoodFiles.filter(function(a){return!d("SlideshowAudioUtil").storylineMoodCompare(a,f)});c("SlideshowDataManager").deleteAudioFile(f.moodID);this.emitChange(b)};e.$ReactComposerSlideshowAudioStore7=function(a){var b=a.composerID,c=this.getComposerData(b);if(!c.selectedStorylineMood)return;c.selectedStorylineMood.source=a.storylineMoodIDSource;this.emitChange(b)};e.$ReactComposerSlideshowAudioStore8=function(a){var b=a.composerID,c=this.getComposerData(b);c.storylineMoodIDToSource=a.storylineMoodIDToSource;this.emitChange(b)};e.$ReactComposerSlideshowAudioStore10=function(a){var b=a.composerID,c=this.getComposerData(b);c.isPreviewPlaying=a.isPreviewPlaying;this.emitChange(b)};e.$ReactComposerSlideshowAudioStore6=function(a){var b=a.composerID,c=this.getComposerData(b);c.storylineMoodFiles=a.storylineMoodFiles;this.emitChange(b)};e.getNumberOfImages=function(a){c("ReactComposerDispatcher").waitFor([c("ReactComposerSelectedImagesStore").getDispatchToken()]);return c("ReactComposerSelectedImagesStore").getNumberOfImages(a)};e.getStorylineMoodFiles=function(a){return this.getComposerData(a).storylineMoodFiles.toArray()};e.getRecentlyUsedStorylineMoods=function(a){return this.getComposerData(a).recentlyUsedStorylineMoods.toArray()};e.getSelectedStorylineMood=function(a){return this.getComposerData(a).selectedStorylineMood};e.getStorylineMoodIDToSource=function(a){return this.getComposerData(a).storylineMoodIDToSource};e.getSelectedMusicCategory=function(a){return this.getComposerData(a).selectedMusicCategory};e.getIsPreviewPlaying=function(a){return this.getComposerData(a).isPreviewPlaying};e.getAudioFileUploadInfo=function(a){return this.getComposerData(a).audioFileUploadInfo};e.getTotalLength=function(a,b){c("ReactComposerDispatcher").waitFor([c("ReactComposerSlideshowStore").getDispatchToken()]);return c("ReactComposerSlideshowStore").getTotalLength(a,b)};return b}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("WorkUserName.react",["CometPlaceholder.react","RelayFBEnvironment","RelayHooks","WorkUserNameQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){return i.jsx(d("RelayHooks").RelayEnvironmentProvider,{environment:c("RelayFBEnvironment"),children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";function j(a){a=a.userID;a=d("RelayHooks").useLazyLoadQuery(h!==void 0?h:h=b("WorkUserNameQuery.graphql"),{userID:a});return i.jsx("span",{children:(a=(a=a.user)==null?void 0:(a=a.work_info)==null?void 0:a.name)!=null?a:""})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MultimediaUploadProcessingDialog.react",["fbt","WorkUserName.react","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={dialogShown:!0},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.show&&this.setState({dialogShown:!0})};d.$1=function(){if(this.props.isWorkSharedDraft===!0){var a=i.jsx(c("WorkUserName.react"),{userID:this.props.actor_id});return this.props.numOfVideos===1?h._("The video in this post is being processed. We'll send a notification to {final author name} when it's done and the post is ready for review.",[h._param("final author name",a)]):h._("The videos in this post are being processed. We'll send a notification to {final author name} when they're done and the post is ready for review.",[h._param("final author name",a)])}else return this.props.numOfVideos===1?h._("The video in your post is being processed. We'll send you a notification when it's finished and your post is ready to view."):h._("The videos in your post are being processed. We'll send you a notification when they've finished and your post is ready to view.")};d.$2=function(){return h._("Processing videos")};d.render=function(){return i.jsxs(c("XUIDialog.react"),{shown:this.state.dialogShown,"data-testid":void 0,width:400,children:[i.jsx(c("XUIDialogTitle.react"),{children:this.$2()}),i.jsx(c("XUIDialogBody.react"),{children:this.$1()})]})};return b}(i.Component);g["default"]=a}),98);
__d("ReactComposerVideoXUploader",["invariant","Arbiter","DOM","MultimediaUploadProcessingDialog.react","PagesComposerContextUtils","PagesComposerUtils","PhotosUploadID","ReactComposerEvents","ReactComposerMediaFilterUtils","ReactComposerMediaUploadActionType","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerMediaUtils","ReactLegacyShim_DEPRECATED","Run","StickyUploadBootloader","SubscriptionsHandler","VideoUploadFile","VideoUploadFlowNotifier","VideoUploadLogger","VideoUploadProgressBar","VideoUploader","ifRequired","react","throttle"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=250;a=function(){function a(a){var b=this;this.$14=function(){var a=b.$4,e=a.actor_id;a=a.target_id;!!e&&!!a&&b.$5>0&&d("PagesComposerContextUtils").isPageAdminPostingInPage(String(e),String(b.$1),String(a))&&d("PagesComposerUtils").logVideoUploadFunnelEvents(b.$1,"video_post_success");b.$13.notifyOnPostAction({action:d("VideoUploadFlowNotifier").VideoPostActions.POST_SUCCESSFUL});b.$26().logEvent(c("VideoUploadLogger").EVENT_FINISHED_FLOW_EXP1);e=c("DOM").create("div");c("DOM").appendContent(document.body,e);a=b.$5>0&&!b.$11;c("ifRequired")("ReactComposerOptimisticPostingStore",function(c){c.hadOptimisticallyPosted(b.$1)&&(a=!1)},function(){});a&&d("ReactLegacyShim_DEPRECATED").render(i.jsx(c("MultimediaUploadProcessingDialog.react"),{numOfVideos:b.$5,isWorkSharedDraft:b.$3.uploaderParams.composer_work_shared_draft_mode==="drafter_creating",actor_id:b.$3.uploaderParams.actor_id}),e)};this.$16=function(){b.$13.notifyOnPostAction({action:d("VideoUploadFlowNotifier").VideoPostActions.POST_USER_REQUESTED})};this.$17=function(){b.$13.notifyOnPostAction({action:d("VideoUploadFlowNotifier").VideoPostActions.POST_FAILED})};this.$15=function(){b.$13.notifyOnPostAction({action:d("VideoUploadFlowNotifier").VideoPostActions.POST_USER_REQUESTED}),b.$26().logEvent(c("VideoUploadLogger").EVENT_STARTED_FLOW_EXP1),b.$5=c("ReactComposerMediaUploadStore").getNonPrefillVideoUploadsCount(b.$1)};this.$3=a;this.$2=new(c("SubscriptionsHandler"))();this.$5=0;this.$6=new Map();this.$7=new Set();this.$8=!1;this.$11=!1;a.composerID||h(0,1443);a.uploaderParams||h(0,1444);this.$2.addSubscriptions(c("Arbiter").subscribe(c("ReactComposerEvents").POST_SUCCEEDED+a.composerID,c("throttle")(this.$14,j,this)),c("Arbiter").subscribe(c("ReactComposerEvents").POST_STARTED+a.composerID,c("throttle")(this.$15,j,this)),c("Arbiter").subscribe(c("ReactComposerEvents").OPTIMISTIC_POST_STARTED+a.composerID,c("throttle")(this.$16,j,this)),c("Arbiter").subscribe(c("ReactComposerEvents").POST_FAILED+a.composerID,c("throttle")(this.$17,j,this)));this.$1=a.composerID;this.$4=a.uploaderParams;this.$12=(a=a.isPageAdminVideoUpload)!=null?a:!1;this.$13=d("VideoUploadFlowNotifier").createVideoUploadFlowNotifier({composer_entry_point_ref:this.$4.composer_entry_point_ref,source:this.$4.source,target_id:this.$4.target_id,target_type:this.$4.target_type,extended_flow_logging_enabled:this.$4.extended_flow_logging_enabled,cancel_on_leave:!0});d("Run").onLeave(function(){return b.$18()});d("Run").onUnload(function(){return b.$18()})}var e=a.prototype;e.cancelUploads=function(){this.$18(),this.$13.notifyOnPostAction({action:d("VideoUploadFlowNotifier").VideoPostActions.POST_USER_CANCELED})};e.$18=function(){var a=this;this.$7.forEach(function(b){var c=b.uploadID;a.$7["delete"](b);b=a.$6.get(c);b&&b.abandon()});this.$8=!1};e.upload=function(a){var b=this;a.forEach(function(a){if(!d("ReactComposerMediaFilterUtils").hasVideos([a.name]))return;a.uploadID||(a.uploadID=d("PhotosUploadID").getNewID());b.$19(a)});a=a.find(function(a){return d("ReactComposerMediaFilterUtils").hasVideos([a.name])});!this.$8&&a&&this.uploadVideo(a)};e.uploadVideo=function(a){var b=this;if(!a)return;this.$8=!0;var e=JSON.parse(JSON.stringify(this.$4));e.isMultiMediaPost=!0;var f=new(c("VideoUploader"))(e);this.$6.set(a.uploadID,f);e=c("VideoUploadFile").fromFile(a);e.getCreatorProduct()==4&&(this.$11=!0);this.$2.addSubscriptions(f.subscribe("metadata-parsed",this.$20.bind(this,a)),f.subscribe("upload-started",this.$21.bind(this,a)),f.subscribe("upload-progressed",this.$22.bind(this,a)),f.subscribe("upload-failed",this.$23.bind(this,a)),f.subscribe("upload-finished",this.$24.bind(this,a)),f.subscribe("set-waterfall-id",this.$25.bind(this,a)));this.$12&&this.$2.addSubscriptions(f.subscribe("upload-finished",d("PagesComposerUtils").logVideoUploadFunnelEvents.bind(this,this.$1,"video_upload_finished")));var g=a.uploadID;d("StickyUploadBootloader").loadAPI(function(a){var d=c("ReactComposerMediaUploadStore").getMediaUpload(b.$1,g);d&&d.stickyUploadItemID&&a.setUploader(d.stickyUploadItemID,f)});try{this.$13.registerVideoUpload(f,g),f.upload(e)}catch(a){throw a}};e.cancelUpload=function(a){var b=this.$6.get(a);if(b){b.cancel();b.reset();this.$6["delete"](a);if(this.$7.size>0){b=this.$7.values().next().value;this.uploadVideo(b)}else this.$8=!1}this.deleteUpload(a)};e.deleteUpload=function(a){var b=this;this.$7.forEach(function(c){c.uploadID===a&&b.$7["delete"](c)});this.$13.notifyOnUploadAction({trackingID:a,action:d("VideoUploadFlowNotifier").VideoUploadActions.UPLOAD_USER_REMOVED})};e.$24=function(a,e,f){d("ReactComposerMediaUploadActions").doneUploading({composerID:this.$1,uploadID:a.uploadID,type:c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_DONE,fileUpload:a,timeToUpload:0,photoID:f.video_id,sphericalPhotoID:"",thumbSrc:"",isSphericalVideo:f.is_spherical_video});e=this.$6.get(a.uploadID);e&&(e.reset(),this.$6["delete"](a.uploadID));b("ReactComposerMediaUtils").changeToPeopleTaggerAfterUpload(this.$1);this.$8=!1;this.$7["delete"](a);if(this.$7.size>0){f=this.$7.values().next().value;this.uploadVideo(f)}};e.$19=function(a){this.$7.add(a),d("ReactComposerMediaUploadActions").enqueue(this.$1,a.uploadID,a.name,c("ReactComposerMediaUploadStore").getUploads(this.$1).size,c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_ENQUEUED,d("ReactComposerMediaUploadType").VIDEO,URL.createObjectURL(a))};e.$20=function(a,b,c){d("ReactComposerMediaUploadActions").videoMetadataParsed(this.$1,a.uploadID,c)};e.$21=function(a,b){d("ReactComposerMediaUploadActions").startUploading(this.$1,a.uploadID,a,c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_UPLOADING)};e.$22=function(a,b,e){b=c("VideoUploadProgressBar").computeProgress(e.start_offset,e.sent_bytes,e.file_size,0,0);e=!1;var f=0;this.$4&&(e=this.$4.use_real_progress_percentage,f=this.$4.use_progress_transform_x);!e&&!(f>0)&&(b=Math.round(b));d("ReactComposerMediaUploadActions").progressUploading(this.$1,a.uploadID,b,e,this.$4.use_progress_linearity,f)};e.$23=function(a,b,e){b={code:e.error_code,description:e.error_description,summary:e.error_summary,"transient":e.error_is_transient||e.error_code==1004||e.error_code==1006};d("ReactComposerMediaUploadActions").failUploading(this.$1,a.uploadID,a,0,b,c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_FAILED);this.$8=!1};e.$25=function(a,b,c){this.$9||(this.$9=c.waterfallID)};e.$27=function(){this.$10=new(c("VideoUploadLogger"))({actor_id:this.$4.actorID,source:this.$4.source,waterfall_id:this.$9,target_id:this.$4.targetID,composer_entry_point_ref:this.$4.composerEntryPointRef})};e.$26=function(){this.$10||this.$27();return this.$10};e.destroy=function(){this.$2.release()};e.getUploader=function(a){return this.$6.get(a)};return a}();g["default"]=a}),98);
__d("PagesComposerCanvasVideoPostAttributes",[],(function(a,b,c,d,e,f){a=Object.freeze({CTA_LINK:"cta_link",CTA_TYPE:"cta_type",LINK_TITLE:"link_title",VIDEO_ID:"video_id"});f["default"]=a}),66);
__d("PagesComposerCarouselPostChildAttachmentAttributes",[],(function(a,b,c,d,e,f){a=Object.freeze({PICTURE:"picture",NAME:"name",DESCRIPTION:"description",LINK:"link",SELECTED:"selected",SCRAPED:"scraped",IMAGE_FBID:"image_fbid",IMAGE_SOURCE:"image_source",ORIGINAL_DIMENSION_HEIGHT:"original_dimensions_height",ORIGINAL_DIMENSION_WIDTH:"original_dimensions_width",CROPPING_START_POINT_X:"cropping_startPoint_x",CROPPING_START_POINT_Y:"cropping_startPoint_y",CROPPING_SOURCE_DIMENSION_HEIGHT:"cropping_source_dimension_height",CROPPING_SOURCE_DIMENSION_WIDTH:"cropping_source_dimension_width",VIDEO_ID:"video_id",CTA_TYPE:"cta_type"});f["default"]=a}),66);
__d("PagesComposerCarouselPostLogAttributes",[],(function(a,b,c,d,e,f){a=Object.freeze({USE_CAROUSEL_COMPOSER:"use_carousel_composer",CAROUSEL_INCOMPATIBLE:"carousel_incompatible",CAROUSEL_INCOMPATIBLE_TYPE:"carousel_incompatible_type",SCRAPED_IMAGE_NUM_OLD:"scraped_image_num_old",SCRAPED_URL:"scraped_url",SCRAPED_TIME:"scraped_time",COMPOSER_LOCATION:"composer_location",HIDE_END_CARD:"hide_end_card",SOURCE_ATTACHMENT:"source_attachment",PREFILL_SCRAPE_URL:"prefill_scrape_url"});f["default"]=a}),66);
__d("XReactComposerScrapedAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/scraper/",{privacy_mutation_token:{type:"String"},composer_id:{type:"String",required:!0},target_id:{type:"String",required:!0},scrape_url:{type:"String",required:!0},carousel_params:{type:"String"},entry_point:{type:"String",required:!0},source_attachment:{type:"String",defaultValue:""},source_logging_name:{type:"Enum",defaultValue:"others",enumType:1},work_shared_draft_mode:{type:"Enum",enumType:1}})}),null);
__d("ReactComposerScrapedAttachmentStore",["fbt","ActorURI","AsyncRequest","DOM","ExceptionDialog","FBLogger","PagesComposerCanvasVideoPostAttributes","PagesComposerCarouselPostChildAttachmentAttributes","PagesComposerCarouselPostLogAttributes","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerScrapedAttachmentActionType","ReactComposerStoreBase","ReactComposerTaggerStore","ReactComposerTaggerType","XReactComposerScrapedAttachmentController"],(function(a,b,c,d,e,f,g,h){var i=-1;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;b=a.call(this,function(){return{markup:null,attachmentConfig:{},enabled:!1,isScraping:!1,hasUploadedImage:!1,permissiveMatch:null,sourceAttachment:null,isFbPhotoShare:!1,clearedAttachments:new Set()}},function(a){c("FBLogger")("react_composer").info("Scraped attachment usage %s",a.type);switch(a.type){case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_ENABLED:d&&d.$ReactComposerScrapedAttachmentStore1(a);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_PERMISSIVE_MATCH_SETTED:d&&d.$ReactComposerScrapedAttachmentStore2(a);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_INTENDED:d&&d.$ReactComposerScrapedAttachmentStore3(a);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:d&&d.$ReactComposerScrapedAttachmentStore4(a);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_CLEARED:d&&d.$ReactComposerScrapedAttachmentStore5(a);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerScrapedAttachmentStore6(a);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CAROUSEL_UPLOAD:d&&d.$ReactComposerScrapedAttachmentStore7(a);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_TITLE_EDITED:d&&d.$ReactComposerScrapedAttachmentStore8(a);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_DESCRIPTION_EDITED:d&&d.$ReactComposerScrapedAttachmentStore9(a);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_IMAGE_DESELECTED:d&&d.$ReactComposerScrapedAttachmentStore10(a);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CLEAR_SPINNER:d&&d.$ReactComposerScrapedAttachmentStore11(a);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_BREAKING_CONFIG_SET:d&&d.$ReactComposerScrapedAttachmentStore12(a);break}})||this;d=babelHelpers.assertThisInitialized(b);return b}var e=b.prototype;e.isEnabled=function(a){var b=c("ReactComposerTaggerStore").getTaggerData(a,c("ReactComposerTaggerType").FUN_FACT),d=c("ReactComposerTaggerStore").hasData(a,c("ReactComposerTaggerType").WORK_CHECKLIST);return b&&b.isAskPost||d?!1:this.getComposerData(a).isEnabled};e.hasAttachment=function(a){return!!this.getMarkup(a)};e.hasUploadedImage=function(a){return this.getComposerData(a).hasUploadedImage};e.isScraping=function(a){return this.getComposerData(a).isScraping};e.getMarkup=function(a){return this.getComposerData(a).markup};e.isReadOnly=function(a){a=this.getComposerData(a);return a.attachmentConfig&&a.attachmentConfig.readOnly};e.getAttachmentConfig=function(a){a=this.getComposerData(a);if(!a.markup)return null;if(!a.attachmentConfig.readOnly){var b=c("DOM").scry(a.markup,'input[name="attachment[params][images][0]"]').pop(),d=c("DOM").scry(a.markup,'input[name="attachment[params][title]"]').pop(),e=c("DOM").scry(a.markup,'input[name="attachment[params][summary]"]').pop();b!=null&&(a.attachmentConfig.params.images===void 0&&(a.attachmentConfig.params.images=[]),a.attachmentConfig.params.images[0]=b.value);d!=null&&(a.attachmentConfig.params.title=d.value);e!=null&&(a.attachmentConfig.params.summary=e.value);b=c("DOM").scry(a.markup,'input[name="attachment[carousel_log]['+c("PagesComposerCarouselPostLogAttributes").USE_CAROUSEL_COMPOSER+']"]').pop();d=c("DOM").scry(a.markup,'input[name="attachment[canvas_log][use_canvas_composer]"]').pop();b!=null&&b.value==="1"?(this.$ReactComposerScrapedAttachmentStore13(a),this.$ReactComposerScrapedAttachmentStore14(a)):d!=null&&d.value==="1"&&this.$ReactComposerScrapedAttachmentStore15(a);this.$ReactComposerScrapedAttachmentStore16(a)}return a.attachmentConfig};e.getPostConfirmationDialog=function(a){return this.getComposerData(a).postConfirmationDialog};e.getHasDisputedWarning=function(a){return this.getComposerData(a).hasDisputedWarning};e.getBreakingNewsConfig=function(a){return this.getComposerData(a).breakingNewsConfig};e.$ReactComposerScrapedAttachmentStore15=function(a){var b={publish:!0,cta_link_format:"VIDEO_LPP"},d=Object.values(c("PagesComposerCanvasVideoPostAttributes")),e=null;for(var f=0;f<d.length;f++){var g=d[f];e=c("DOM").scry(a.markup,'input[name="attachment[params][canvas_video]['+String(g)+']"]').pop();e&&(b[String(g)]=e.value)}a.attachmentConfig.params.canvas_video={};Object.assign(a.attachmentConfig.params.canvas_video,b)};e.$ReactComposerScrapedAttachmentStore16=function(a){var b={},d=Object.keys(c("PagesComposerCarouselPostLogAttributes"));for(var e=0;e<d.length;e++){var f=c("PagesComposerCarouselPostLogAttributes")[d[e]],g=c("DOM").scry(a.markup,'input[name="attachment[carousel_log]['+f+']"]').pop();if(!g)continue;b[f]=g.value}Object.keys(b).length!==0&&(a.attachmentConfig.carousel_log=b)};e.$ReactComposerScrapedAttachmentStore13=function(a){a.attachmentConfig.params.child_attachments={};var b=Object.keys(c("PagesComposerCarouselPostChildAttachmentAttributes")),d=0,e={};while(!0){var f=!1,g=0;e={};for(g=0;g<b.length;g++){var h=c("DOM").scry(a.markup,'input[name="attachment[params][child_attachments]['+d+"]["+c("PagesComposerCarouselPostChildAttachmentAttributes")[b[g]]+']"]').pop();if(h==null)continue;e[c("PagesComposerCarouselPostChildAttachmentAttributes")[b[g]]]=h.value;f=!0}if(!f)break;a.attachmentConfig.params.child_attachments[d]=e;d++}};e.$ReactComposerScrapedAttachmentStore14=function(a){var b=a.attachmentConfig.params.child_attachments;if(!b)return;var c=null,d=0;for(var e in b)if(Object.prototype.hasOwnProperty.call(b,e)&&b[e].selected==="1"){d+=1;if(d>1)return;b[e].video_id&&(c=b[e])}c&&(a.attachmentConfig.params.carousel_video_lpp={},Object.assign(a.attachmentConfig.params.carousel_video_lpp,{video_id:c.video_id,publish:!0,link_title:c.name,link_description:c.description,cta_type:c.cta_type?c.cta_type:"NO_BUTTON",cta_link:c.link,cta_link_format:"VIDEO_LPP"}))};e.getPermissiveMatch=function(a){return this.getComposerData(a).permissiveMatch};e.getContentID=function(a){return this.getComposerData(a).contentID};e.getAttachmentAlreadyCleared=function(a,b){b=this.getComposerData(a);return b.clearedAttachments.has(b.permissiveMatch)};e.$ReactComposerScrapedAttachmentStore8=function(a){a=this.validateAction(a,["composerID","index","value"]);var b=a[0],c=a[1];a=a[2];b=this.getComposerData(b);b.attachmentConfig.params.edited_params==null&&(b.attachmentConfig.params.edited_params={});b.attachmentConfig.params.edited_params[c]==null&&(b.attachmentConfig.params.edited_params[c]={});b.attachmentConfig.params.edited_params[c].title=a};e.$ReactComposerScrapedAttachmentStore9=function(a){a=this.validateAction(a,["composerID","index","value"]);var b=a[0],c=a[1];a=a[2];b=this.getComposerData(b);b.attachmentConfig.params.edited_params==null&&(b.attachmentConfig.params.edited_params={});b.attachmentConfig.params.edited_params[c]==null&&(b.attachmentConfig.params.edited_params[c]={});b.attachmentConfig.params.edited_params[c].summary=a};e.$ReactComposerScrapedAttachmentStore10=function(a){a=this.validateAction(a,["composerID","index"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.attachmentConfig.params.edited_params!=null&&b.attachmentConfig.params.edited_params[a]!=null&&(b.attachmentConfig.params.edited_params[i]=b.attachmentConfig.params.edited_params[a])};e.$ReactComposerScrapedAttachmentStore1=function(a){a=this.validateAction(a,["composerID","enabled"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.isEnabled=a};e.$ReactComposerScrapedAttachmentStore2=function(a){a=this.validateAction(a,["composerID","permissiveMatch"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.permissiveMatch=a;this.emitChange(b)};e.$ReactComposerScrapedAttachmentStore3=function(a){var b=this,e=this.validateAction(a,["composerID","targetID","value","entryPoint","actorID","sourceLoggingName","isFilePicker","workSharedDraftMode"]),f=e[0],g=e[1],i=e[2],j=e[3],k=e[4],l=e[5],m=e[6];e=e[7];if(!this.isEnabled(f))return;var n=this.getComposerData(a.composerID);n.isScraping=!0;n=c("ReactComposerAttachmentStore").getSelectedAttachmentID(f);g=c("XReactComposerScrapedAttachmentController").getURIBuilder().setString("composer_id",f).setString("target_id",g).setString("scrape_url",i).setString("entry_point",j).setString("source_attachment",n).setEnum("source_logging_name",l).setEnum("work_shared_draft_mode",e).getURI();g=d("ActorURI").create(g,k);new(c("AsyncRequest"))(g).setErrorHandler(function(e){c("FBLogger")("attachment_preview").catching(e.toError()).warn("failed to scrape attachment"),b.$ReactComposerScrapedAttachmentStore11(a),m&&d("ExceptionDialog").show(h._("The file could not be attached"),h._("This may be due to a network issue. Try attaching the file again later, or paste a link to the file."))}).send();this.emitChange(f)};e.$ReactComposerScrapedAttachmentStore5=function(a){var b=this.getComposerData(a.composerID);b.clearedAttachments.add(b.permissiveMatch);b.attachmentConfig={};b.markup=null;b.isScraping=!1;b.sourceAttachment=null;b.permissiveMatch=null;this.emitChange(a.composerID)};e.$ReactComposerScrapedAttachmentStore4=function(a){var b=a.composerID;if(!this.isEnabled(b))return;var d=this.getComposerData(a.composerID);d.markup=a.markup;d.attachmentConfig=a.attachmentConfig;d.isScraping=!1;d.sourceAttachment=c("ReactComposerAttachmentStore").getSelectedAttachmentID(b);d.postConfirmationDialog=a.postConfirmationDialog;d.hasDisputedWarning=a.hasDisputedWarning;d.breakingNewsConfig=a.breakingNewsConfig;d.contentID=(a=(d=a.attachmentConfig.params)==null?void 0:d.global_share_id)!=null?a:null;this.emitChange(b)};e.$ReactComposerScrapedAttachmentStore6=function(a){var b=this.getComposerData(a.composerID);if(a.id===b.sourceAttachment||b.sourceAttachment===null||a.proxiedAttachmentID===b.sourceAttachment)return;b.markup=null;b.attachmentConfig={};b.isScraping=!1;b.sourceAttachment=null;this.emitChange(a.composerID)};e.$ReactComposerScrapedAttachmentStore7=function(a){var b=this,e=this.validateAction(a,["composerID","targetID","scrapeUrl","carouselParams","entryPoint","actorID"]),f=e[0],g=e[1],h=e[2],i=e[3],j=e[4];e=e[5];var k=this.getComposerData(a.composerID);k.isScraping=!0;k.hasUploadedImage=!0;k=c("ReactComposerAttachmentStore").getSelectedAttachmentID(f);f=c("XReactComposerScrapedAttachmentController").getURIBuilder().setString("composer_id",f==null?null:f.toString()).setString("target_id",g==null?null:g.toString()).setString("scrape_url",h).setString("carousel_params",i).setString("entry_point",j).setString("source_attachment",k).getURI();f=d("ActorURI").create(f,e==null?"":e.toString());new(c("AsyncRequest"))(f).setErrorHandler(function(d){c("FBLogger")("attachment_preview").catching(d.toError()).warn("failed to upload carousel image"),b.$ReactComposerScrapedAttachmentStore11(a)}).send();this.emitChange(a.composerID)};e.$ReactComposerScrapedAttachmentStore12=function(a){var b=this.getComposerData(a.composerID);b.breakingNewsConfig=a.breakingNewsConfig};e.$ReactComposerScrapedAttachmentStore11=function(a){var b=this.getComposerData(a.composerID);b.isScraping=!1;this.emitChange(a.composerID)};return b}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("ReactComposerPortableCTAAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({FETCH_CTA_ATTACHMENT_PREVIEW:null,SET_ATTACHMENT_PREVIEW_MARKUP:null,SET_SELECTED_CTA:null,INITIALIZE_STICKY_CTA:null},"ReactComposerPortableCTAAttachmentActionType");g["default"]=a}),98);
__d("ReactComposerPortableCTAAttachmentStore",["ActorURI","AsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerMediaUploadStore","ReactComposerPortableCTAAttachmentActionType","ReactComposerStoreBase","XReactComposerCTAAttachmentBootstrapController"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;b=a.call(this,function(){return{isFetching:!1,markup:null,selectedCta:null,portableCTAValues:null,isAutoUnselected:!1}},function(a){switch(a.type){case c("ReactComposerPortableCTAAttachmentActionType").FETCH_CTA_ATTACHMENT_PREVIEW:d&&d.$ReactComposerPortableCTAAttachmentStore1(a);break;case c("ReactComposerPortableCTAAttachmentActionType").SET_ATTACHMENT_PREVIEW_MARKUP:d&&d.$ReactComposerPortableCTAAttachmentStore2(a);break;case c("ReactComposerPortableCTAAttachmentActionType").SET_SELECTED_CTA:d&&d.$ReactComposerPortableCTAAttachmentStore3(a);break}})||this;d=babelHelpers.assertThisInitialized(b);return b}var e=b.prototype;e.getMarkup=function(a){return this.getComposerData(a).markup};e.getCTAData=function(a){var b=this.getComposerData(a).selectedCta,c=this.getComposerData(a).portableCTAValues;return!!b&&!!c?{type:this.getComposerData(a).selectedCta,value:this.getComposerData(a).portableCTAValues}:null};e.isFetching=function(a){return this.getComposerData(a).isFetching};e.getIsAutoUnselected=function(a){return this.getComposerData(a).isAutoUnselected};e.getSelectedCta=function(a){return this.getComposerData(a).selectedCta};e.isPortableCTAAttached=function(a){if(c("ReactComposerAttachmentStore").getSelectedAttachmentID(a)===c("ReactComposerAttachmentType").MEDIA&&c("ReactComposerMediaUploadStore").getPhotos(a).size===1){a=this.getCTAData(a);return a!==null&&a!==void 0}return!1};e.$ReactComposerPortableCTAAttachmentStore1=function(a){var b=this;a=this.validateAction(a,["composerID","selectedCta","actorID","targetID","composerType","attachmentID"]);var e=a[0],f=a[1],g=a[2],h=a[3],i=a[4];a=a[5];var j=this.getComposerData(e);j.selectedCta=f;j.isFetching=!0;j.markup=null;i=c("XReactComposerCTAAttachmentBootstrapController").getURIBuilder().setString("composer_id",e).setEnum("composer_type",i).setInt("target_id",h).setString("cta_type",f).setString("attachment_id",a).setEnum("preview_style","portable_preview");h=d("ActorURI").create(i.getURI(),g);f=new(c("AsyncRequest"))(h).setErrorHandler(function(){j.isFetching=!1,b.emitChange(e)});f.send();this.emitChange(e)};e.$ReactComposerPortableCTAAttachmentStore2=function(a){a=this.validateAction(a,["composerID","markup","selectedCta","ctaValues","isAutoUnselected"]);var b=a[0],c=a[1],d=a[2],e=a[3];a=a[4];var f=this.getComposerData(b);f.markup=c;f.isFetching=!1;f.selectedCta=d;f.portableCTAValues=e;d==null&&a!=null&&(f.isAutoUnselected=a);d!=null&&(f.isAutoUnselected=!1);this.emitChange(b)};e.$ReactComposerPortableCTAAttachmentStore3=function(a){a=this.validateAction(a,["composerID","selectedCta"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.selectedCta=a;this.emitChange(b)};return b}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("ReactComposerTaggerActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({DESELECT_TAGGER:null,SET_SELECTED_TAGGER:null,UPDATE_TAGGERS_SOURCE:null,SET_TAGGER_SOURCE:null,SET_TAGGER_DATA:null,SET_SELECTED_DATETIME:null,SET_SELECTED_PEOPLE:null,SET_TAGGER_SHOW_NUX:null,SET_TAGGER_SHOW_TOOLTIP:null,SET_IS_BRANDED_CONTENT_VIDEO:null,SET_SHOULD_NAVIGATE_TO_PHOTO_EDITOR:null,SET_PRODUCT_TAGGING_PLATFORM:null,SET_COMPOSER_HAS_VIDEO_UPLOADS:null,SET_SHOULD_SHOW_PT_MEDIA_UPLOAD_MODAL:null,SET_PHOTO_EDITOR_OPENED:null,SET_TAGGER_CONFIG:null,LOG_WP_PICKER_ACTION:null,SET_PRODUCT_SUGGESTION_PHOTO_ID:null,SET_REFERRAL_SOURCE:null},"ReactComposerTaggerActionType");g["default"]=a}),98);
__d("ReactComposerTaggerActions",["ReactComposerDispatcher","ReactComposerTaggerActionType","ReactComposerTaggerStore"],(function(a,b,c,d,e,f,g){a=function(){function a(){}var b=a.prototype;b.deselectCurrentTagger=function(a,b){var d=c("ReactComposerTaggerStore").getSelectedTagger(a);if(d){a={composerID:a,sourceLoggingName:b,type:c("ReactComposerTaggerActionType").DESELECT_TAGGER,taggerID:d};c("ReactComposerDispatcher").dispatch(a)}};b.selectTagger=function(a,b,d,e){var f=c("ReactComposerTaggerStore").getSelectedTagger(a);d===f&&e!==!0?this.deselectCurrentTagger(a,b):this.$1(a,d,!1,!0,b)};b.selectTaggerWithoutLogging=function(a,b){this.$1(a,b,!0,!0)};b.selectTaggerWithoutAutofocus=function(a,b,c){this.$1(a,c,!1,!1,b)};b.$1=function(a,b,d,e,f){a={composerID:a,sourceLoggingName:f,type:c("ReactComposerTaggerActionType").SET_SELECTED_TAGGER,taggerID:b,autoFocus:e,suppressWaterfallLogging:d};c("ReactComposerDispatcher").dispatch(a)};b.updateTaggersSource=function(a,b){a={composerID:a,type:c("ReactComposerTaggerActionType").UPDATE_TAGGERS_SOURCE,taggersSource:b};c("ReactComposerDispatcher").dispatch(a)};b.setTaggerSource=function(a,b,d){a={composerID:a,type:c("ReactComposerTaggerActionType").SET_TAGGER_SOURCE,taggerID:b,taggerSource:d};c("ReactComposerDispatcher").dispatch(a)};b.setTaggerConfig=function(a,b,d){a={composerID:a,type:c("ReactComposerTaggerActionType").SET_TAGGER_CONFIG,taggerConfig:d,taggerID:b};c("ReactComposerDispatcher").dispatch(a)};b.setTaggerData=function(a,b,c,d){this.$2(a,c,d,!1,b)};b.setTaggerDataWithoutLogging=function(a,b,c){this.$2(a,b,c,!0)};b.$2=function(a,b,d,e,f){a={composerID:a,sourceLoggingName:f,type:c("ReactComposerTaggerActionType").SET_TAGGER_DATA,taggerID:b,taggerData:d,suppressWaterfallLogging:e};c("ReactComposerDispatcher").dispatch(a)};b.selectDateTime=function(a,b){a={composerID:a,type:c("ReactComposerTaggerActionType").SET_SELECTED_DATETIME,selectedDateTime:b};c("ReactComposerDispatcher").dispatch(a)};b.selectPeople=function(a,b){a={composerID:a,type:c("ReactComposerTaggerActionType").SET_SELECTED_PEOPLE,selectedPeople:b};c("ReactComposerDispatcher").dispatch(a)};b.handleSetTaggerShowNUX=function(a,b,d){a={composerID:a,type:c("ReactComposerTaggerActionType").SET_TAGGER_SHOW_NUX,taggerID:b,showNUX:d};c("ReactComposerDispatcher").dispatch(a)};b.handleSetTaggerShowTooltip=function(a,b,d){a={composerID:a,type:c("ReactComposerTaggerActionType").SET_TAGGER_SHOW_TOOLTIP,taggerID:b,showTooltip:d};c("ReactComposerDispatcher").dispatch(a)};b.setIsBrandedContentVideo=function(a,b){a={composerID:a,isBrandedContentVideo:b,type:c("ReactComposerTaggerActionType").SET_IS_BRANDED_CONTENT_VIDEO};c("ReactComposerDispatcher").dispatch(a)};b.logWPPickerAction=function(a,b,d){var e=c("ReactComposerTaggerStore").getSelectedTagger(a);e={composerID:a,taggerID:e,type:c("ReactComposerTaggerActionType").LOG_WP_PICKER_ACTION,event:b,extraData:(a=d)!=null?a:{}};c("ReactComposerDispatcher").dispatch(e)};b.setShouldNavigateToPhotoEditor=function(a,b){a={composerID:a,type:c("ReactComposerTaggerActionType").SET_SHOULD_NAVIGATE_TO_PHOTO_EDITOR,shouldNavigateToPhotoEditor:b};c("ReactComposerDispatcher").dispatch(a)};b.setProductTaggingPlatform=function(a,b){a={composerID:a,type:c("ReactComposerTaggerActionType").SET_PRODUCT_TAGGING_PLATFORM,platform:b};c("ReactComposerDispatcher").dispatch(a)};b.setComposerHasVideoUploads=function(a,b){a={composerID:a,type:c("ReactComposerTaggerActionType").SET_COMPOSER_HAS_VIDEO_UPLOADS,composerHasVideoUploads:b};c("ReactComposerDispatcher").dispatch(a)};b.setPhotoEditorOpened=function(a,b){a={composerID:a,type:c("ReactComposerTaggerActionType").SET_PHOTO_EDITOR_OPENED,photoEditorOpened:b};c("ReactComposerDispatcher").dispatch(a)};b.setProductSuggestionPhotoID=function(a,b){a={composerID:a,type:c("ReactComposerTaggerActionType").SET_PRODUCT_SUGGESTION_PHOTO_ID,productSuggestionPhotoID:b};c("ReactComposerDispatcher").dispatch(a)};b.setReferralSource=function(a,b){a={composerID:a,type:c("ReactComposerTaggerActionType").SET_REFERRAL_SOURCE,referralSource:b};c("ReactComposerDispatcher").dispatch(a)};return a}();b=new a();g["default"]=b}),98);
__d("ReactComposerMinutiaeAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({FETCH_ATTACHMENT:null,SET_EXPLICIT_LOCATION:null,SET_MARKUP:null,SET_HIDE_OBJECT_ATTACHMENT:null},"ReactComposerMinutiaeAttachmentActionType");g["default"]=a}),98);
__d("XReactComposerMinutiaeAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/minutiae/attachment/",{composer_id:{type:"String",required:!0},action_id:{type:"String",required:!0},object_id:{type:"String",required:!0},target_id:{type:"String",required:!0},is_timeline:{type:"Bool",defaultValue:!1},explicit_place_tag_id:{type:"String"}})}),null);
__d("ReactComposerMinutiaeAttachmentStore",["ActorURI","AsyncRequest","ReactComposerAttachmentActionType","ReactComposerAttachmentType","ReactComposerMinutiaeAttachmentActionType","ReactComposerStoreBase","XReactComposerMinutiaeAttachmentController"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;b=a.call(this,function(){return{isFetching:!1,markup:null,pendingRequest:null,explicitLocation:null}},function(a){switch(a.type){case c("ReactComposerMinutiaeAttachmentActionType").FETCH_ATTACHMENT:d&&d.$ReactComposerMinutiaeAttachmentStore1(a);break;case c("ReactComposerMinutiaeAttachmentActionType").SET_MARKUP:d&&d.$ReactComposerMinutiaeAttachmentStore2(a);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerMinutiaeAttachmentStore3(a);break;case c("ReactComposerMinutiaeAttachmentActionType").SET_EXPLICIT_LOCATION:d&&d.$ReactComposerMinutiaeAttachmentStore4(a);break;case c("ReactComposerMinutiaeAttachmentActionType").SET_HIDE_OBJECT_ATTACHMENT:d&&d.$ReactComposerMinutiaeAttachmentStore5(a);break}})||this;d=babelHelpers.assertThisInitialized(b);return b}var e=b.prototype;e.getMarkup=function(a){return this.getComposerData(a).markup};e.getHideObjectAttachment=function(a){return this.getComposerData(a).hideObjectAttachment};e.isFetching=function(a){return this.getComposerData(a).isFetching};e.$ReactComposerMinutiaeAttachmentStore4=function(a){a=this.validateAction(a,["composerID","explicitLocation"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.explicitLocation=a;this.emitChange(b)};e.$ReactComposerMinutiaeAttachmentStore1=function(a){var b=this;a=this.validateAction(a,["composerID","actionID","objectID","targetID","actorID","isTimeline"]);var e=a[0],f=a[1],g=a[2],h=a[3],i=a[4];a=a[5];var j=this.getComposerData(e);j.isFetching=!0;f=c("XReactComposerMinutiaeAttachmentController").getURIBuilder().setString("composer_id",e).setString("action_id",f).setString("object_id",g).setString("target_id",h).setBool("is_timeline",a);j.explicitLocation&&f.setString("explicit_place_tag_id",j.explicitLocation);g=d("ActorURI").create(f.getURI(),i);j.pendingRequest=new(c("AsyncRequest"))(g).setFinallyHandler(function(){j.isFetching=!1,j.pendingRequest=null,b.emitChange(e)});j.pendingRequest.send();this.emitChange(e)};e.$ReactComposerMinutiaeAttachmentStore2=function(a){a=this.validateAction(a,["composerID","markup"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.markup=a;c.hideObjectAttachment=!1;this.emitChange(b)};e.$ReactComposerMinutiaeAttachmentStore5=function(a){a=this.validateAction(a,["composerID","hideAttachment"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.hideObjectAttachment=a;this.emitChange(b)};e.$ReactComposerMinutiaeAttachmentStore3=function(a){a=this.validateAction(a,["composerID","id"]);var b=a[0];a=a[1];if(a===c("ReactComposerAttachmentType").STATUS)return;a=this.getComposerData(b);a.markup=null;a.isFetching=!1;a.pendingRequest&&a.pendingRequest.abandon();this.emitChange(b)};return b}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("ReactComposerTaggerEligibilityUtils",["CurrentUser","DestinationPickerEligibilityConfig","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerMinutiaeAttachmentStore","ReactComposerPortableCTAAttachmentStore","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType","URLScraper","VideoComposerDispatchers","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").BREAKING_NEWS,c("ReactComposerTaggerType").OG,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").SALES_PROMO,c("ReactComposerTaggerType").MESSAGING,c("ReactComposerTaggerType").RECOMMENDATION,c("ReactComposerTaggerType").LIST,c("ReactComposerTaggerType").VISUAL_POLL,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").STICKER,c("ReactComposerTaggerType").TAG_EVENT,c("ReactComposerTaggerType").PAGE_CTA,c("ReactComposerTaggerType").SHOP,c("ReactComposerTaggerType").PRODUCT,c("ReactComposerTaggerType").CHATROOM],e=[c("ReactComposerAttachmentType").ASSET_3D,c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").TODO_LIST,c("ReactComposerAttachmentType").CTA,c("ReactComposerAttachmentType").MESSAGE,c("ReactComposerAttachmentType").CALL,c("ReactComposerAttachmentType").GET_DIRECTIONS,c("ReactComposerAttachmentType").SHOP,c("ReactComposerAttachmentType").LIVING_ROOM];b=b.some(function(b){return c("ReactComposerTaggerStore").hasData(a,b)});if(b)return!1;b=c("ReactComposerAttachmentStore").getSelectedAttachmentID(a);if(e.includes(b))return!1;e=c("ReactComposerTaggerStore").hasLocationTag(a);var f=c("ReactComposerTaggerStore").hasMinutiae(a),g=c("ReactComposerTaggerStore").getNumberOfWithWhoTags(a)>0,h=c("ReactComposerScrapedAttachmentStore").hasAttachment(a),i=c("ReactComposerScrapedAttachmentStore").getAttachmentConfig(a),j=!1;i&&(j=Array.isArray(i.params));if(h&&(j||!c("DestinationPickerEligibilityConfig").allowLinkStory))return!1;i=c("ReactComposerStatusStore").getMessageText(a).length>0;j=b===c("ReactComposerAttachmentType").MEDIA?c("ReactComposerMediaUploadStore").getUploadsCount(a,d("ReactComposerMediaUploadType").VIDEO)>0:!1;b=b===c("ReactComposerAttachmentType").MEDIA?c("ReactComposerMediaUploadStore").getUploadsCount(a,d("ReactComposerMediaUploadType").PHOTO)>0:!1;var k=j?c("ReactComposerMediaUploadStore").getUploadsOfType(a,d("ReactComposerMediaUploadType").VIDEO).every(function(a){return a&&a.videoMetadata&&a.videoMetadata.format&&(c("DestinationPickerEligibilityConfig").isVideoLengthLimited?a.videoMetadata.format.duration<=c("DestinationPickerEligibilityConfig").maxVideoLengthInSeconds:!0)}):!0;if(!k)return!1;if(e||f||g)if(!b&&!j&&!i&&!h&&e)return c("DestinationPickerEligibilityConfig").allowLocationAsPrimary;else if(!b&&!j&&!h&&!i&&f)return c("DestinationPickerEligibilityConfig").allowMinutiaeAsPrimary;else if(!b&&!j&&!h&&!i&&g)return c("DestinationPickerEligibilityConfig").allowWithTagsAsPrimary;return!0}function b(a){return h(a)==="ELIGIBLE"}function h(a){var b=[c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").BREAKING_NEWS,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").SALES_PROMO,c("ReactComposerTaggerType").RECOMMENDATION,c("ReactComposerTaggerType").LIST,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").STICKER,c("ReactComposerTaggerType").TAG_EVENT,c("ReactComposerTaggerType").PAGE_CTA,c("ReactComposerTaggerType").SHOP],d=[c("ReactComposerAttachmentType").ASSET_3D,c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").CALL,c("ReactComposerAttachmentType").GET_DIRECTIONS];b=b.some(function(b){return c("ReactComposerTaggerStore").hasData(a,b)});if(b)return"UNSUPPORTED_SPROUT";b=c("ReactComposerAttachmentStore").getSelectedAttachmentID(a);return d.includes(b)?"UNSUPPORTED_SPROUT":"ELIGIBLE"}function e(a){a=i(a);return a==="PHOTO_ELIGIBLE"||a==="VIDEO_ELIGIBLE"}function i(a){if(!c("ReactComposerAudienceStore").getTimelineSelected(a))return"TIMELINE_UNSELECTED";if(!c("ReactComposerAttachmentStore").getIsAttachmentSelected(a,c("ReactComposerAttachmentType").MEDIA))return"UNSUPPORTED_MEDIA_TYPE";if(c("ReactComposerPortableCTAAttachmentStore").isPortableCTAAttached(a))return"UNSUPPORTED_MEDIA_TYPE";var b=c("ReactComposerMediaUploadStore").getUploadsCount(a,d("ReactComposerMediaUploadType").VIDEO),e=c("ReactComposerMediaUploadStore").getUploadsCount(a,d("ReactComposerMediaUploadType").PHOTO);if(b>0&&e>0)return"MULTI_MEDIA_UNSUPPORTED";else if(b==0&&e==0)return"UNSUPPORTED_MEDIA_TYPE";else if(e>0)return j(c("ReactComposerMediaUploadStore").getPhotos(a));else return k(c("ReactComposerMediaUploadStore").getVideos(a))}function j(a){if(a.size>1)return"MULTI_PHOTO_UNSUPPORTED";a=a.get(0);if(a.fileSize>8388608)return"FILE_TOO_BIG";var b=a.width/a.height;if(b<.8||b>1.91)return"INVALID_PHOTO_RATIO";b=a.filename;if(!b)return"UNSUPPORTED_PHOTO_FORMAT";a=["bmp","dib","jpg","jpeg","jpe","jif","jfif","jfi","png","gif"];b=b.split(".").pop().toLowerCase();return!a.includes(b)?"UNSUPPORTED_PHOTO_FORMAT":"PHOTO_ELIGIBLE"}function k(a){return a.size>1?"MULTI_VIDEO_UNSUPPORTED":"VIDEO_ELIGIBLE"}function f(a,b,d){return!a.some(function(a){return!d.includes(a)&&c("ReactComposerTaggerStore").hasData(b,a)})}function l(a,b){if(m(a,b))return!1;b=[c("ReactComposerAttachmentType").STATUS];b=b.some(function(b){return c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b)});if(!(b&&c("ReactComposerAttachmentStore").isSelectedAttachmentActive(a)))return!1;b=c("ifRequired")("ReactComposerFocusStore",function(b){return b.isComposerFocused(a)},function(){return!0});if(!b)return!1;if(c("ReactComposerScrapedAttachmentStore").hasAttachment(a))return!1;if(c("ReactComposerMediaUploadStore").getUploadsCount(a)!==0)return!1;if(c("ReactComposerTaggerStore").hasExplicitLocation(a))return!1;if(c("ReactComposerMinutiaeAttachmentStore").getMarkup(a)!=null)return!1;if(c("ReactComposerStatusStore").getRichTextBlocks(a)!=null)return!1;b=c("ReactComposerTaggerStore").getTaggerData(a,c("ReactComposerTaggerType").STICKER);if(b&&b.stickerID)return!1;b=c("ReactComposerTaggerStore").getTaggerData(a,c("ReactComposerTaggerType").FUNDRAISER);if(b&&b.charityID)return!1;b=c("ReactComposerTaggerStore").getTaggerData(a,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS);if(b&&b.gameID)return!1;b=c("ReactComposerTaggerStore").getTaggerData(a,c("ReactComposerTaggerType").SUPPORT_NOW);if(b&&b.hasSupportNowCTA)return!1;b=c("ReactComposerStatusStore").getMessageText(a);if(c("URLScraper").permissiveMatch(b)!=null)return!1;b=!0;c("ifRequired")("ReactComposerPostToGroupStore",function(c){b=!c.getIsTabSelected(a)});if(!b)return!1;var d=!0;c("ifRequired")("ReactComposerEventAttachmentStore",function(b){d=!b.hasAttachment(a)});if(!d)return!1;return c("CurrentUser").isWorkUser()?c("ReactComposerTaggerStore").isAMA(a):!0}function m(a,b){var d=c("ReactComposerStatusStore").getMessageText(a).match(/\n/g);d=d?d.length>b.maxNewlines:!1;return c("ReactComposerStatusStore").getTextLength(a)>b.textLengthLimit||d}function n(a){var b=[c("ReactComposerAttachmentType").ASSET_3D,c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").TODO_LIST,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").MEDIA,c("ReactComposerAttachmentType").LIVING_ROOM],d=c("ReactComposerAttachmentStore").getSelectedAttachmentID(a);if(b.includes(d))return!1;b=c("ReactComposerTaggerStore").getTaggerData(a,c("ReactComposerTaggerType").FUN_FACT);if(b&&b.isAskPost)return!1;d=[c("ReactComposerTaggerType").RECRUITING_CANDIDATE,c("ReactComposerTaggerType").WORK_CHECKLIST];return d.some(function(b){return c("ReactComposerTaggerStore").hasData(a,b)})?!1:c("ReactComposerScrapedAttachmentStore").isEnabled(a)}function o(a){var b=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").TODO_LIST,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").MEDIA,c("ReactComposerAttachmentType").LIVING_ROOM],d=[c("ReactComposerTaggerType").RECRUITING_CANDIDATE,c("ReactComposerTaggerType").WORK_CHECKLIST],e=c("ReactComposerAttachmentStore").getSelectedAttachmentID(a);d=d.some(function(b){return c("ReactComposerTaggerStore").hasData(a,b)});return!(d||b.includes(e))}function p(a){var b=c("ReactComposerTaggerStore").getTaggersConfig(a,c("ReactComposerTaggerType").BREAKING_NEWS);if(((b=b)!=null?(b=b.initialStatus)!=null?b.enabled:b:b)===!1)return!1;b=!1;c("ifRequired")("LiveVideoBroadcastUIStore",function(c){c=c.get("composerConfig");b=c&&c.composerID===a});if(b)return!0;var d=c("ReactComposerScrapedAttachmentStore").hasAttachment(a),e=c("ReactComposerScrapedAttachmentStore").getBreakingNewsConfig(a);return d&&!!e&&e.enabled}function q(a){var b=c("ReactComposerTaggerStore").hasData(a,c("ReactComposerTaggerType").ACTIVITY);a=c("ReactComposerTaggerStore").getTaggersConfig(a,c("ReactComposerTaggerType").LOCAL_ALERTS);return!b&&((b=a)!=null?(b=b.initialStatus)!=null?b.enabled:b:b)===!0}function r(a,b,e){b===void 0&&(b=!1);var f=c("ReactComposerMediaUploadStore").getUploadsOfType(a,d("ReactComposerMediaUploadType").PHOTO),g=c("ReactComposerMediaUploadStore").getUploadsOfType(a,d("ReactComposerMediaUploadType").VIDEO);f=f!=null?f.size:0;g=g!=null?g.size:0;if(g&&g>1)return!1;var h=!1;c("ifRequired")("VideoComposerStores",function(a){a=a.getUploadStore(d("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID).getState();a=a.videoData;h=a!==null});if(!f&&!g&&!h&&!e)return!1;g=!1;c("ifRequired")("ReactComposerSlideshowStore",function(b){g=b.isSlideshowSelected(a)});if(g)return!1;e=!1;c("ifRequired")("ReactComposerCanvasStore",function(b){e=b.isCanvasSelected(a)});if(e)return!1;var i=!1;c("ifRequired")("ReactComposerCollectionStore",function(b){i=b.isCollectionSelected(a)});if(i)return!1;var j=!1;c("ifRequired")("ReactComposerPhotoCarouselStore",function(b){j=b.isPhotoCarouselSelected(a)});if(j)return!1;var k=c("ReactComposerTaggerStore").getTaggerData(a,c("ReactComposerTaggerType").PRODUCT)||[],l=c("ReactComposerTaggerStore").getTaggersConfig(a,c("ReactComposerTaggerType").PRODUCT);l=((l=l)!=null?l.shouldDisableMessagingCTAOnProductTagged:l)||!1;if(l&&k.length>0)return!1;l=c("ReactComposerTaggerStore").hasSupportNowCTA(a);if(l)return!1;k=c("ReactComposerTaggerStore").getTaggerData(a,c("ReactComposerTaggerType").PAGES_INTERCEPTION);k=((l=k)!=null?l.shouldShowInlineInterception:l)||!1;if(k)return!1;return!f||f==1?!0:b}function s(a){return!c("ReactComposerTaggerStore").hasData(a,c("ReactComposerTaggerType").LIVING_ROOM)&&c("ReactComposerAttachmentStore").getSelectedAttachmentID(a)!==c("ReactComposerAttachmentType").LIVING_ROOM}function t(a){var b=[c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").BREAKING_NEWS,c("ReactComposerTaggerType").OG,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").SALES_PROMO,c("ReactComposerTaggerType").MESSAGING,c("ReactComposerTaggerType").RECOMMENDATION,c("ReactComposerTaggerType").LIST,c("ReactComposerTaggerType").VISUAL_POLL,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").STICKER,c("ReactComposerTaggerType").TAG_EVENT,c("ReactComposerTaggerType").SHOP,c("ReactComposerTaggerType").PRODUCT,c("ReactComposerTaggerType").PAGES_INTERCEPTION];b=b.some(function(b){return c("ReactComposerTaggerStore").hasData(a,b)});return!b}function u(a){a=c("ReactComposerMediaUploadStore").getUploadsOfType(a,d("ReactComposerMediaUploadType").PHOTO);a=a!=null?a.size:0;return a>1}function v(){return[c("ReactComposerTaggerType").WORK_FILE,c("ReactComposerTaggerType").APP_INTEGRATION_AODOCS,c("ReactComposerTaggerType").APP_INTEGRATION_BOX,c("ReactComposerTaggerType").APP_INTEGRATION_CORNERSTONE,c("ReactComposerTaggerType").APP_INTEGRATION_DROPBOX,c("ReactComposerTaggerType").APP_INTEGRATION_EGNYTE,c("ReactComposerTaggerType").APP_INTEGRATION_GDRIVE,c("ReactComposerTaggerType").APP_INTEGRATION_JIRA,c("ReactComposerTaggerType").APP_INTEGRATION_ONEDRIVE,c("ReactComposerTaggerType").APP_INTEGRATION_QUIP,c("ReactComposerTaggerType").APP_INTEGRATION_SHAREPOINT,c("ReactComposerTaggerType").APP_INTEGRATION_TASKS,c("ReactComposerTaggerType").APP_INTEGRATION_TRELLO]}function w(a){var b=c("ReactComposerAttachmentStore").getIsAttachmentSelected(a,c("ReactComposerAttachmentType").MEDIA),e=!1,f=!1;c("ifRequired")("VideoComposerStores",function(a){var b=a.getUploadStore(d("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID).getState();b=b.videoData;e=b!==null;b=a.getEditStore(d("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID).getState();a=b.creationTime;f=a!==null&&a!==0});return b&&(c("ReactComposerMediaUploadStore").getUploadsCount(a,d("ReactComposerMediaUploadType").PHOTO)>0||c("ReactComposerMediaUploadStore").getUploadsCount(a,d("ReactComposerMediaUploadType").VIDEO)>0)||e||f}function x(a){var b=c("ReactComposerStatusStore").getMessageText(a);if(c("URLScraper").permissiveMatch(b)!=null)return!1;return c("ReactComposerScrapedAttachmentStore").hasAttachment(a)?!1:!0}g.isStoryCreateEligible=a;g.isAdsPePostEligible=b;g.getAdsPePostSharingEligibility=h;g.isInstagramEligible=e;g.getInstagramSharingEligibility=i;g._getInstagramSharingEligibilityForPhoto=j;g._getInstagramSharingEligibilityForVideo=k;g._isValidTaggerID=f;g.isSATPEligible=l;g.exceedSATPCharacterCountOrExceedNewLinesCount=m;g.isGIFEligible=n;g.isAppIntegrationEligible=o;g.isBreakingNewsEligible=p;g.isLocalAlertsEligible=q;g.isMessagingEligible=r;g.isSponsorEligible=s;g.isGetShowtimesEligible=t;g.hasMultiPhoto=u;g.getWorkContentTaggerList=v;g.isProductTaggingEligible=w;g.isChatroomEligible=x}),98);
__d("getInitialTaggersData",["ReactComposerTaggerType"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a={};a[c("ReactComposerTaggerType").PEOPLE]=[];a[c("ReactComposerTaggerType").LOCATION]={};a[c("ReactComposerTaggerType").BACKDATE]={};a[c("ReactComposerTaggerType").ACTIVITY]={};a[c("ReactComposerTaggerType").TARGETING]={};a[c("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT]={};a[c("ReactComposerTaggerType").SPONSOR]={canAddSponsorCTA:!1,directShareStatus:0,sponsorRelationship:0,sponsors:[],hasRestrictedAudience:!1,geo_age_gates:[]};a[c("ReactComposerTaggerType").BC_SUPPORT]={directShareStatus:1,sponsorRelationship:4,sponsors:[]};a[c("ReactComposerTaggerType").PRODUCT]=[];a[c("ReactComposerTaggerType").XY_PRODUCT]=[];a[c("ReactComposerTaggerType").PRODUCT_SPROUT]={};a[c("ReactComposerTaggerType").AMA]={};a[c("ReactComposerTaggerType").CONTENT_WARNINGS]=[];a[c("ReactComposerTaggerType").MESSAGING]=[];a[c("ReactComposerTaggerType").GET_SHOWTIMES]={};a[c("ReactComposerTaggerType").GROUP_JOIN_CTA]={};a[c("ReactComposerTaggerType").POLITICAL_INFO]={};a[c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE]={};a[c("ReactComposerTaggerType").GIF]={};a[c("ReactComposerTaggerType").APP_INTEGRATION_AODOCS]={};a[c("ReactComposerTaggerType").APP_INTEGRATION_BOX]={};a[c("ReactComposerTaggerType").APP_INTEGRATION_CORNERSTONE]={};a[c("ReactComposerTaggerType").APP_INTEGRATION_DROPBOX]={};a[c("ReactComposerTaggerType").APP_INTEGRATION_EGNYTE]={};a[c("ReactComposerTaggerType").APP_INTEGRATION_GDRIVE]={};a[c("ReactComposerTaggerType").APP_INTEGRATION_JIRA]={};a[c("ReactComposerTaggerType").APP_INTEGRATION_ONEDRIVE]={};a[c("ReactComposerTaggerType").APP_INTEGRATION_QUIP]={};a[c("ReactComposerTaggerType").APP_INTEGRATION_SHAREPOINT]={};a[c("ReactComposerTaggerType").APP_INTEGRATION_TASKS]={};a[c("ReactComposerTaggerType").APP_INTEGRATION_TRELLO]={};a[c("ReactComposerTaggerType").WORK_FILE]={};a[c("ReactComposerTaggerType").FUNDRAISER]={};a[c("ReactComposerTaggerType").PLAY_WITH_FRIENDS]={};a[c("ReactComposerTaggerType").BREAKING_NEWS]={isAttachmentBreaking:!1,expirationTime:0};a[c("ReactComposerTaggerType").LOCAL_ALERTS]={expirationTime:0};a[c("ReactComposerTaggerType").TAG_EVENT]={};a[c("ReactComposerTaggerType").VIDEO_SUGGESTIONS]={};a[c("ReactComposerTaggerType").SUPPORT_NOW]={};a[c("ReactComposerTaggerType").STARS]={};a[c("ReactComposerTaggerType").PAGES_INTERCEPTION]={shouldShowInlineInterception:!1,interceptionDecision:null};a[c("ReactComposerTaggerType").SOTTO_CTA]={};a[c("ReactComposerTaggerType").PAID_VIRTUAL_EVENT_GATED_POST]={};a[c("ReactComposerTaggerType").CHATROOM]={hasChatroom:!1};a[c("ReactComposerTaggerType").COVID_BUSINESS_POST]={isSelected:!1};a[c("ReactComposerTaggerType").WORK_CHECKLIST]={hasChecklist:!1};return a}g["default"]=a}),98);
__d("ReactComposerTaggerStore",["ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerPhotoActionType","ReactComposerPhotoStore","ReactComposerScrapedAttachmentActionType","ReactComposerStoreBase","ReactComposerTaggerActionType","ReactComposerTaggerEligibilityUtils","ReactComposerTaggerType","SearchableEntry","first","getInitialTaggersData","immutable","isEmpty"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;b=a.call(this,function(){var a={};a[c("ReactComposerTaggerType").FORMATTED_TEXT]={maxNewLines:3,textLengthLimit:130};var b=c("getInitialTaggersData")();return{$ReactComposerTaggerStore1:c("immutable").Set(),autoFocusOnSelectedTagger:!0,selectedTagger:null,taggersData:b,taggersSource:{},taggersShowNUX:{},taggersShowTooltip:{},sourceAttachment:null,taggersConfig:a}},function(a){switch(a.type){case c("ReactComposerTaggerActionType").DESELECT_TAGGER:d&&d.$ReactComposerTaggerStore2(a);break;case c("ReactComposerTaggerActionType").SET_SELECTED_TAGGER:d&&d.$ReactComposerTaggerStore3(a);break;case c("ReactComposerTaggerActionType").UPDATE_TAGGERS_SOURCE:d&&d.$ReactComposerTaggerStore4(a);break;case c("ReactComposerTaggerActionType").SET_TAGGER_SOURCE:d&&d.$ReactComposerTaggerStore5(a);break;case c("ReactComposerTaggerActionType").SET_TAGGER_DATA:d&&d.$ReactComposerTaggerStore6(a);break;case c("ReactComposerTaggerActionType").SET_TAGGER_SHOW_NUX:d&&d.$ReactComposerTaggerStore7(a);break;case c("ReactComposerTaggerActionType").SET_TAGGER_SHOW_TOOLTIP:d&&d.$ReactComposerTaggerStore8(a);break;case c("ReactComposerTaggerActionType").SET_TAGGER_CONFIG:d&&d.$ReactComposerTaggerStore9(a);break;case c("ReactComposerTaggerActionType").SET_SHOULD_NAVIGATE_TO_PHOTO_EDITOR:d&&d.$ReactComposerTaggerStore10(a);break;case c("ReactComposerTaggerActionType").SET_PRODUCT_TAGGING_PLATFORM:d&&d.$ReactComposerTaggerStore11(a);break;case c("ReactComposerTaggerActionType").SET_COMPOSER_HAS_VIDEO_UPLOADS:d&&d.$ReactComposerTaggerStore12(a);break;case c("ReactComposerTaggerActionType").SET_SHOULD_SHOW_PT_MEDIA_UPLOAD_MODAL:d&&d.$ReactComposerTaggerStore13(a);break;case c("ReactComposerTaggerActionType").SET_PHOTO_EDITOR_OPENED:d&&d.$ReactComposerTaggerStore14(a);break;case c("ReactComposerTaggerActionType").SET_PRODUCT_SUGGESTION_PHOTO_ID:d&&d.$ReactComposerTaggerStore15(a);break;case c("ReactComposerTaggerActionType").SET_REFERRAL_SOURCE:d&&d.$ReactComposerTaggerStore16(a);break;case c("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX:d&&d.$ReactComposerTaggerStore17(a);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_XY:d&&d.$ReactComposerTaggerStore18(a);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_XY_PRODUCT:d&&d.$ReactComposerTaggerStore19(a);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_FACEBOX:d&&d.$ReactComposerTaggerStore20(a);break;case c("ReactComposerPhotoActionType").PHOTO_UNTAG_ALL:d&&d.$ReactComposerTaggerStore21(a);break;case c("ReactComposerPhotoActionType").PHOTO_UNTAG_FACEBOX:c("ReactComposerDispatcher").waitFor([c("ReactComposerPhotoStore").getDispatchToken()]);d&&d.$ReactComposerTaggerStore22(a);break;case c("ReactComposerPhotoActionType").PHOTO_UPDATE_ALL_PHOTO_TAGS:d&&d.$ReactComposerTaggerStore23(a);break;case c("ReactComposerPhotoActionType").PHOTO_REMOVE:c("ReactComposerDispatcher").waitFor([c("ReactComposerPhotoStore").getDispatchToken()]);d&&d.$ReactComposerTaggerStore24(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:d&&d.$ReactComposerTaggerStore25(a);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerTaggerStore26(a);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:d&&d.$ReactComposerTaggerStore27(a);break;case c("ReactComposerPhotoActionType").PHOTO_UPDATE_ALL_PRODUCT_TAGS:d&&d.$ReactComposerTaggerStore28(a);break}})||this;d=babelHelpers.assertThisInitialized(b);return b}var e=b.prototype;e.isDisabled=function(a,b,e,f){var g=this;e===void 0&&(e=!1);var h=[c("ReactComposerAttachmentType").STATUS],i=!1,j=[],k=[];switch(b){case c("ReactComposerTaggerType").CONTENT_WARNINGS:case c("ReactComposerTaggerType").BACKDATE:case c("ReactComposerTaggerType").TARGETING:case c("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT:case c("ReactComposerTaggerType").ALBUM:case c("ReactComposerTaggerType").VAULTPHOTO:case c("ReactComposerTaggerType").SALES_PROMO:case c("ReactComposerTaggerType").GROUP_JOIN_CTA:case c("ReactComposerTaggerType").PAGES_INTERCEPTION:case c("ReactComposerTaggerType").STARS:case c("ReactComposerTaggerType").PAID_VIRTUAL_EVENT_GATED_POST:return!1;case c("ReactComposerTaggerType").CHATROOM:return!d("ReactComposerTaggerEligibilityUtils").isChatroomEligible(a);case c("ReactComposerTaggerType").FORMATTED_TEXT:return!d("ReactComposerTaggerEligibilityUtils").isSATPEligible(a,this.getTaggersConfig(a,c("ReactComposerTaggerType").FORMATTED_TEXT));case c("ReactComposerTaggerType").MESSENGER:case c("ReactComposerTaggerType").STORIES:return!d("ReactComposerTaggerEligibilityUtils").isStoryCreateEligible(a);case c("ReactComposerTaggerType").ADS_PE_POST:return!d("ReactComposerTaggerEligibilityUtils").isAdsPePostEligible(a);case c("ReactComposerTaggerType").INSTAGRAM:return!d("ReactComposerTaggerEligibilityUtils").isInstagramEligible(a);case c("ReactComposerTaggerType").GIF:return!d("ReactComposerTaggerEligibilityUtils").isGIFEligible(a);case c("ReactComposerTaggerType").APP_INTEGRATION_AODOCS:case c("ReactComposerTaggerType").APP_INTEGRATION_BOX:case c("ReactComposerTaggerType").APP_INTEGRATION_CORNERSTONE:case c("ReactComposerTaggerType").APP_INTEGRATION_DROPBOX:case c("ReactComposerTaggerType").APP_INTEGRATION_EGNYTE:case c("ReactComposerTaggerType").APP_INTEGRATION_GDRIVE:case c("ReactComposerTaggerType").APP_INTEGRATION_JIRA:case c("ReactComposerTaggerType").APP_INTEGRATION_ONEDRIVE:case c("ReactComposerTaggerType").APP_INTEGRATION_QUIP:case c("ReactComposerTaggerType").APP_INTEGRATION_SHAREPOINT:case c("ReactComposerTaggerType").APP_INTEGRATION_TASKS:case c("ReactComposerTaggerType").APP_INTEGRATION_TRELLO:case c("ReactComposerTaggerType").WORK_FILE:return!d("ReactComposerTaggerEligibilityUtils").isAppIntegrationEligible(a);case c("ReactComposerTaggerType").BREAKING_NEWS:return!d("ReactComposerTaggerEligibilityUtils").isBreakingNewsEligible(a);case c("ReactComposerTaggerType").PEOPLE:case c("ReactComposerTaggerType").OG:j=[c("ReactComposerTaggerType").STORIES];k=[];break;case c("ReactComposerTaggerType").LOCATION:j=[c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").RECRUITING_CANDIDATE,c("ReactComposerTaggerType").WORK_CHECKLIST];k=[c("ReactComposerAttachmentType").CTA,c("ReactComposerAttachmentType").MESSAGE,c("ReactComposerAttachmentType").CALL];break;case c("ReactComposerTaggerType").LOCAL_ALERTS:return!d("ReactComposerTaggerEligibilityUtils").isLocalAlertsEligible(a);case c("ReactComposerTaggerType").MESSAGING:return!d("ReactComposerTaggerEligibilityUtils").isMessagingEligible(a,e,f);case c("ReactComposerTaggerType").GET_SHOWTIMES:return!d("ReactComposerTaggerEligibilityUtils").isGetShowtimesEligible(a);case c("ReactComposerTaggerType").PRODUCT:case c("ReactComposerTaggerType").XY_PRODUCT:k=[c("ReactComposerAttachmentType").MESSAGE,c("ReactComposerAttachmentType").SHOP];break;case c("ReactComposerTaggerType").SPONSOR:e=this.getTaggerData(a,c("ReactComposerTaggerType").BC_SUPPORT);e=c("first")((f=e==null?void 0:e.sponsors)!=null?f:[]);f=d("ReactComposerTaggerEligibilityUtils").isSponsorEligible(a);e=e!=null;return!f||e;case c("ReactComposerTaggerType").BC_SUPPORT:f=this.getTaggerData(a,c("ReactComposerTaggerType").SPONSOR);f=c("first")((e=f==null?void 0:f.sponsors)!=null?e:[]);e=d("ReactComposerTaggerEligibilityUtils").isSponsorEligible(a);f=f!=null;return!e||f;case c("ReactComposerTaggerType").PAGE_CTA:case c("ReactComposerTaggerType").LOCAL_DEV_PLATFORM:case c("ReactComposerTaggerType").CALL:case c("ReactComposerTaggerType").SHOP:j=[c("ReactComposerTaggerType").ACTIVITY,c("ReactComposerTaggerType").LOCATION,c("ReactComposerTaggerType").PRODUCT,c("ReactComposerTaggerType").STORIES];k=[c("ReactComposerAttachmentType").LIVING_ROOM];break;case c("ReactComposerTaggerType").RECOMMENDATION:j=[c("ReactComposerTaggerType").POLITICAL_INFO,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").SUPPORT_NOW,c("ReactComposerTaggerType").CAMERA,c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").TAG_EVENT,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS,c("ReactComposerTaggerType").SOTTO_CTA];i=!0;break;case c("ReactComposerTaggerType").FIND_PLAYERS:j=[c("ReactComposerTaggerType").BC_SUPPORT];i=!0;break;case c("ReactComposerTaggerType").LIST:j=[c("ReactComposerTaggerType").VISUAL_POLL,c("ReactComposerTaggerType").POLITICAL_INFO,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").SUPPORT_NOW,c("ReactComposerTaggerType").CAMERA,c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").TAG_EVENT,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS,c("ReactComposerTaggerType").SOTTO_CTA];i=!0;break;case c("ReactComposerTaggerType").VISUAL_POLL:j=[c("ReactComposerTaggerType").LIST,c("ReactComposerTaggerType").POLITICAL_INFO,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").SUPPORT_NOW,c("ReactComposerTaggerType").CAMERA,c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS,c("ReactComposerTaggerType").RECRUITING_CANDIDATE,c("ReactComposerTaggerType").SOTTO_CTA,c("ReactComposerTaggerType").WORK_CHECKLIST].concat(d("ReactComposerTaggerEligibilityUtils").getWorkContentTaggerList());i=!0;break;case c("ReactComposerTaggerType").LIVING_ROOM:return!0;case c("ReactComposerTaggerType").TODO_LIST:j=[c("ReactComposerTaggerType").LIST,c("ReactComposerTaggerType").VISUAL_POLL,c("ReactComposerTaggerType").POLITICAL_INFO,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").SUPPORT_NOW,c("ReactComposerTaggerType").CAMERA,c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS,c("ReactComposerTaggerType").SOTTO_CTA];i=!0;break;case c("ReactComposerTaggerType").POLITICAL_INFO:case c("ReactComposerTaggerType").CAMERA:k=[c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").TODO_LIST,c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").ASSET_3D];break;case c("ReactComposerTaggerType").ACTIVITY:j=[c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").TAG_EVENT,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").LOCAL_ALERTS,c("ReactComposerTaggerType").RECRUITING_CANDIDATE,c("ReactComposerTaggerType").AMA,c("ReactComposerTaggerType").COVID_BUSINESS_POST];k=[c("ReactComposerAttachmentType").CTA,c("ReactComposerAttachmentType").MESSAGE,c("ReactComposerAttachmentType").CALL];break;case c("ReactComposerTaggerType").AMA:j=[c("ReactComposerTaggerType").ACTIVITY,c("ReactComposerTaggerType").WORK_CHECKLIST];break;case c("ReactComposerTaggerType").FUN_FACT:j=[c("ReactComposerTaggerType").ACTIVITY,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").SUPPORT_NOW,c("ReactComposerTaggerType").LOCATION,c("ReactComposerTaggerType").STICKER,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").TAG_EVENT,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS,c("ReactComposerTaggerType").SOTTO_CTA];k=[c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").SHARING_SPACES_SELECTOR];i=!0;break;case c("ReactComposerTaggerType").STICKER:j=[c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").RECRUITING_CANDIDATE].concat(d("ReactComposerTaggerEligibilityUtils").getWorkContentTaggerList());k=[c("ReactComposerAttachmentType").ASSET_3D,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").TODO_LIST];break;case c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE:j=[c("ReactComposerTaggerType").ACTIVITY,c("ReactComposerTaggerType").TAG_EVENT];k=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").TODO_LIST];break;case c("ReactComposerTaggerType").FUNDRAISER:j=[c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS,c("ReactComposerTaggerType").SUPPORT_NOW,c("ReactComposerTaggerType").SOTTO_CTA];k=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").TODO_LIST,c("ReactComposerAttachmentType").LIVING_ROOM];break;case c("ReactComposerTaggerType").SUPPORT_NOW:j=[c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").MESSAGING,c("ReactComposerTaggerType").SOTTO_CTA];k=[c("ReactComposerAttachmentType").ASSET_3D,c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").TODO_LIST,c("ReactComposerAttachmentType").LIVING_ROOM];break;case c("ReactComposerTaggerType").PLAY_WITH_FRIENDS:j=[c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").SUPPORT_NOW,c("ReactComposerTaggerType").SOTTO_CTA];k=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL];i=!0;break;case c("ReactComposerTaggerType").TAG_EVENT:j=[c("ReactComposerTaggerType").ACTIVITY,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").RECOMMENDATION,c("ReactComposerTaggerType").STORIES];k=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST];break;case c("ReactComposerTaggerType").ASSET_3D:i=!0;break;case c("ReactComposerTaggerType").VIDEO_SUGGESTIONS:k=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL];i=!0;break;case c("ReactComposerTaggerType").RECRUITING_CANDIDATE:j=[c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").OG,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").RECOMMENDATION,c("ReactComposerTaggerType").LIST,c("ReactComposerTaggerType").VISUAL_POLL,c("ReactComposerTaggerType").STICKER,c("ReactComposerTaggerType").TAG_EVENT,c("ReactComposerTaggerType").ACTIVITY,c("ReactComposerTaggerType").WORK_CHECKLIST].concat(d("ReactComposerTaggerEligibilityUtils").getWorkContentTaggerList());k=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").TODO_LIST,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").MEDIA];i=!0;break;case c("ReactComposerTaggerType").SOTTO_CTA:j=[c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").MESSAGING,c("ReactComposerTaggerType").SUPPORT_NOW];k=[c("ReactComposerAttachmentType").ASSET_3D,c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").TODO_LIST,c("ReactComposerAttachmentType").LIVING_ROOM];break;case c("ReactComposerTaggerType").WORK_CHECKLIST:j=[c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").AMA,c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").MEDIA,c("ReactComposerTaggerType").LOCATION,c("ReactComposerTaggerType").VISUAL_POLL].concat(d("ReactComposerTaggerEligibilityUtils").getWorkContentTaggerList());k=Object.values(c("ReactComposerAttachmentType")).filter(function(a){return a!==c("ReactComposerAttachmentType").STATUS});break;case c("ReactComposerTaggerType").MEDIA:j=[c("ReactComposerTaggerType").WORK_CHECKLIST];break;case c("ReactComposerTaggerType").COVID_BUSINESS_POST:break;case c("ReactComposerTaggerType").VIDEO_MEETUP:j=[c("ReactComposerTaggerType").WORK_CHECKLIST];break;case c("ReactComposerTaggerType").JOB_SEARCH:break;case c("ReactComposerTaggerType").HASHTAG:break;default:throw new Error(b+" is an unhandled tagger type in ReactComposerTaggerStore.isDisabled")}e=c("ReactComposerAttachmentStore").getSelectedAttachmentID(a);f=j.some(function(b){return g.hasData(a,b)});if(f||k.includes(e))return!0;if(e===this.$ReactComposerTaggerStore29(b))return!1;j=h.some(function(b){return c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b)});return i&&!j};e.getInstagramSharingEligibility=function(a){return d("ReactComposerTaggerEligibilityUtils").getInstagramSharingEligibility(a)};e.getAdsPePostSharingEligibility=function(a){return d("ReactComposerTaggerEligibilityUtils").getAdsPePostSharingEligibility(a)};e.$ReactComposerTaggerStore29=function(a){switch(a){case c("ReactComposerTaggerType").ASSET_3D:return c("ReactComposerAttachmentType").ASSET_3D;case c("ReactComposerTaggerType").CALL:return c("ReactComposerAttachmentType").CALL;case c("ReactComposerTaggerType").PAGE_CTA:return c("ReactComposerAttachmentType").CTA;case c("ReactComposerTaggerType").MESSAGING:return c("ReactComposerAttachmentType").MESSAGE;case c("ReactComposerTaggerType").RECOMMENDATION:return c("ReactComposerAttachmentType").PLACE_LIST;case c("ReactComposerTaggerType").FIND_PLAYERS:return c("ReactComposerAttachmentType").FIND_PLAYERS;case c("ReactComposerTaggerType").VISUAL_POLL:return c("ReactComposerAttachmentType").VISUAL_POLL;case c("ReactComposerTaggerType").LIST:return c("ReactComposerAttachmentType").LIST;case c("ReactComposerTaggerType").TODO_LIST:return c("ReactComposerAttachmentType").TODO_LIST;case c("ReactComposerTaggerType").LIVING_ROOM:return c("ReactComposerAttachmentType").LIVING_ROOM;case c("ReactComposerTaggerType").MEDIA:return c("ReactComposerAttachmentType").MEDIA;default:return null}};e.getDisplayableSponsorPage=function(a){a=this.getTaggerData(a,c("ReactComposerTaggerType").SPONSOR);a=(a.sponsors||[])[0];return!a?null:{id:a.getUniqueID(),name:a.getTitle()}};e.getDisplayableBCSupportSponsorPage=function(a){a=this.getTaggerData(a,c("ReactComposerTaggerType").BC_SUPPORT);a=(a.sponsors||[])[0];return!a?null:{id:a.getUniqueID(),name:a.getTitle()}};e.hasData=function(a,b){var d;a=this.getTaggerData(a,b);if(a==null)return!1;switch(b){case c("ReactComposerTaggerType").PEOPLE:case c("ReactComposerTaggerType").PRODUCT:case c("ReactComposerTaggerType").XY_PRODUCT:case c("ReactComposerTaggerType").PRODUCT_SPROUT:case c("ReactComposerTaggerType").CONTENT_WARNINGS:return a.length>0;case c("ReactComposerTaggerType").LOCATION:return!!a.place;case c("ReactComposerTaggerType").BACKDATE:return!!a.year;case c("ReactComposerTaggerType").ACTIVITY:return!!a.action&&!!a.object;case c("ReactComposerTaggerType").AMA:return!!a.isAMA;case c("ReactComposerTaggerType").TARGETING:return!c("isEmpty")(a)&&(a.gating!=null||a.targeting!=null);case c("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT:case c("ReactComposerTaggerType").POLITICAL_INFO:return!c("isEmpty")(a);case c("ReactComposerTaggerType").LOCAL_ALERTS:return a.expirationTime>0;case c("ReactComposerTaggerType").BREAKING_NEWS:return!c("isEmpty")(a)&&a.isAttachmentBreaking&&a.expirationTime>0;case c("ReactComposerTaggerType").FUN_FACT:return!!a.promptID||!!a.isAskPost;case c("ReactComposerTaggerType").SPONSOR:return a.sponsors&&a.sponsors.length>0;case c("ReactComposerTaggerType").BC_SUPPORT:return a.sponsors&&a.sponsors.length>0;case c("ReactComposerTaggerType").FORMATTED_TEXT:return!!a.formatActive;case c("ReactComposerTaggerType").STICKER:return!!a.stickerID;case c("ReactComposerTaggerType").GIF:return!!a.gifData;case c("ReactComposerTaggerType").APP_INTEGRATION_AODOCS:case c("ReactComposerTaggerType").APP_INTEGRATION_BOX:case c("ReactComposerTaggerType").APP_INTEGRATION_CORNERSTONE:case c("ReactComposerTaggerType").APP_INTEGRATION_DROPBOX:case c("ReactComposerTaggerType").APP_INTEGRATION_EGNYTE:case c("ReactComposerTaggerType").APP_INTEGRATION_GDRIVE:case c("ReactComposerTaggerType").APP_INTEGRATION_JIRA:case c("ReactComposerTaggerType").APP_INTEGRATION_ONEDRIVE:case c("ReactComposerTaggerType").APP_INTEGRATION_QUIP:case c("ReactComposerTaggerType").APP_INTEGRATION_SHAREPOINT:case c("ReactComposerTaggerType").APP_INTEGRATION_TASKS:case c("ReactComposerTaggerType").APP_INTEGRATION_TRELLO:return!!a.isAppAttachmentData;case c("ReactComposerTaggerType").WORK_FILE:return!!a.isWorkFileUpload;case c("ReactComposerTaggerType").MESSAGING:return a.hasCTA;case c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE:return!!a.politicalRepresentative;case c("ReactComposerTaggerType").FUNDRAISER:return!!a.charityID;case c("ReactComposerTaggerType").TAG_EVENT:return!!a.eventID;case c("ReactComposerTaggerType").VIDEO_SUGGESTIONS:return!!a.videoID;case c("ReactComposerTaggerType").PLAY_WITH_FRIENDS:return!!a.gameID;case c("ReactComposerTaggerType").GET_SHOWTIMES:return!!a.external_movie_id;case c("ReactComposerTaggerType").GROUP_JOIN_CTA:return!!a.groupID;case c("ReactComposerTaggerType").SUPPORT_NOW:return a.hasSupportNowCTA;case c("ReactComposerTaggerType").STARS:return a.isEnabled;case c("ReactComposerTaggerType").PAGES_INTERCEPTION:return a.shouldShowInlineInterception;case c("ReactComposerTaggerType").RECRUITING_CANDIDATE:return!c("isEmpty")(a);case c("ReactComposerTaggerType").SOTTO_CTA:return a.hasSottoCTA;case c("ReactComposerTaggerType").PAID_VIRTUAL_EVENT_GATED_POST:return(d=a.selected)!=null?d:!1;case c("ReactComposerTaggerType").CHATROOM:return a.hasChatroom;case c("ReactComposerTaggerType").COVID_BUSINESS_POST:return a.isSelected;case c("ReactComposerTaggerType").WORK_CHECKLIST:return a.hasChecklist;default:throw new Error(b+" is an unhandled tagger type in ReactComposerTaggerStore.hasData")}};e.shouldShowNUX=function(a,b){a=this.getComposerData(a);return!!a.taggersShowNUX[b]};e.shouldShowTooltip=function(a,b){a=this.getComposerData(a);return!!a.taggersShowTooltip[b]};e.areAllTaggersEmpty=function(a){return this.areAllTaggersEmptyExcluding(a,[c("ReactComposerTaggerType").AMA,c("ReactComposerTaggerType").TARGETING])};e.areAllTaggersEmptyExcluding=function(a,b){var c=this.getTaggersData(a);for(c in c){if(b.indexOf(c)!==-1)continue;if(this.hasData(a,c))return!1}return!0};e.getSelectedTagger=function(a){return this.getComposerData(a).selectedTagger};e.getAutoFocusOnSelectedTagger=function(a){return this.getComposerData(a).autoFocusOnSelectedTagger};e.getTaggerSource=function(a,b){return this.getComposerData(a).taggersSource[b]};e.getTaggerData=function(a,b){return this.getComposerData(a).taggersData[b]};e.getTaggersData=function(a){return this.getComposerData(a).taggersData};e.getTaggersConfig=function(a,b){return this.getComposerData(a).taggersConfig[b]};e.getShouldNavigateToPhotoEditor=function(a){return this.getComposerData(a).taggersData[c("ReactComposerTaggerType").PRODUCT_SPROUT].shouldNavigateToPhotoEditor};e.getProductTaggingPlatform=function(a){return this.getComposerData(a).taggersData[c("ReactComposerTaggerType").PRODUCT_SPROUT].platform};e.getComposerHasVideoUploads=function(a){return this.getComposerData(a).taggersData[c("ReactComposerTaggerType").PRODUCT_SPROUT].composerHasVideoUploads};e.getShouldShowPtMediaUploadModal=function(a){return this.getComposerData(a).taggersData[c("ReactComposerTaggerType").PRODUCT_SPROUT].shouldShowPtMediaUploadModal};e.getPhotoEditorOpened=function(a){return this.getComposerData(a).taggersData[c("ReactComposerTaggerType").PRODUCT_SPROUT].photoEditorOpened};e.getProductSuggestionPhotoID=function(a){return this.getComposerData(a).taggersData[c("ReactComposerTaggerType").PRODUCT_SPROUT].productSuggestionPhotoID};e.getReferralSource=function(a){return this.getComposerData(a).taggersData[c("ReactComposerTaggerType").PRODUCT_SPROUT].referralSource};e.hasMinutiae=function(a){a=this.getTaggerData(a,c("ReactComposerTaggerType").ACTIVITY);return!!(a&&a.action&&a.object)};e.hasLocationTag=function(a){a=this.getTaggerData(a,c("ReactComposerTaggerType").LOCATION);return!!(a&&(a.place||a.implicitLocation))};e.hasExplicitLocation=function(a){a=this.getTaggerData(a,c("ReactComposerTaggerType").LOCATION);return!!(a&&a.place)};e.hasImplicitLocation=function(a){a=this.getTaggerData(a,c("ReactComposerTaggerType").LOCATION);return!!(a&&a.implicitLocation&&!a.place)};e.hasBackdate=function(a){a=this.getTaggerData(a,c("ReactComposerTaggerType").BACKDATE)||{};return!!a.year};e.isAMA=function(a){return!!this.getTaggerData(a,c("ReactComposerTaggerType").AMA).isAMA};e.hasMessagingCTA=function(a){return!!this.getTaggerData(a,c("ReactComposerTaggerType").MESSAGING).hasCTA};e.hasSupportNowCTA=function(a){return!!this.getTaggerData(a,c("ReactComposerTaggerType").SUPPORT_NOW).hasSupportNowCTA};e.hasChatroom=function(a){return!!this.getTaggerData(a,c("ReactComposerTaggerType").CHATROOM).hasChatroom};e.hasStarsEnabled=function(a){return!!this.getTaggerData(a,c("ReactComposerTaggerType").STARS).isEnabled};e.getFanFundingPromotionPayload=function(a){return this.getTaggerData(a,c("ReactComposerTaggerType").SUPPORT_NOW).fanFundingPromotionPayload};e.getUserFundingAttachmentType=function(a){return this.getTaggerData(a,c("ReactComposerTaggerType").SUPPORT_NOW).userFundingAttachmentType};e.hasNonprofit=function(a){return!!this.getTaggerData(a,c("ReactComposerTaggerType").FUNDRAISER).charityID};e.getPoliticalDistrictInfo=function(a){return this.getTaggerData(a,c("ReactComposerTaggerType").POLITICAL_INFO)};e.getNumberOfWithWhoTags=function(a){a=this.getTaggerData(a,c("ReactComposerTaggerType").PEOPLE)||[];return a.length};e.hasSottoCTA=function(a){return!!this.getTaggerData(a,c("ReactComposerTaggerType").SOTTO_CTA).hasSottoCTA};e.paidVirtualEventGatedPost=function(a){return this.getTaggerData(a,c("ReactComposerTaggerType").PAID_VIRTUAL_EVENT_GATED_POST)};e.$ReactComposerTaggerStore2=function(a){var b=this.getComposerData(a.composerID);b.selectedTagger=null;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore3=function(a){var b=this.getComposerData(a.composerID);b.selectedTagger===a.taggerID&&!a.disableToggle?b.selectedTagger=null:b.selectedTagger=a.taggerID;b.autoFocusOnSelectedTagger=a.autoFocus;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore9=function(a){var b=this.getComposerData(a.composerID);b.taggersConfig[a.taggerID]=a.taggerConfig;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore5=function(a){var b=this.getComposerData(a.composerID);b.taggersSource[a.taggerID]=a.taggerSource;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore4=function(a){a=this.validateAction(a,["composerID","taggersSource"]);var b=a[0];a=a[1];var c=this.getComposerData(b);for(var d in a)c.taggersSource[d]=a[d];this.emitChange(b)};e.$ReactComposerTaggerStore6=function(a){var b=this.getComposerData(a.composerID),c=Array.isArray(a.taggerData)?a.taggerData.slice():babelHelpers["extends"]({},a.taggerData);b.taggersData[a.taggerID]=c;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore7=function(a){var b=this.getComposerData(a.composerID);b.taggersShowNUX[a.taggerID]=a.showNUX;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore8=function(a){var b=this.getComposerData(a.composerID);b.taggersShowTooltip[a.taggerID]=a.showTooltip;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore27=function(a){var b=this.getComposerData(a.composerID);b.sourceAttachment=c("ReactComposerAttachmentStore").getSelectedAttachmentID(a.composerID);this.emitChange(a.composerID)};e.$ReactComposerTaggerStore26=function(a){var b=this.getComposerData(a.composerID);a.id===c("ReactComposerAttachmentType").MEDIA&&(b.taggersData[c("ReactComposerTaggerType").FUN_FACT]={});if(a.id===b.sourceAttachment||b.sourceAttachment===null)return;this.getTaggerData(a.composerID,c("ReactComposerTaggerType").GIF).gifData=null;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore25=function(a){var b=this.getComposerData(a.composerID),d=babelHelpers["extends"]({mediaLocation:a.mediaLocation},b.taggersData[c("ReactComposerTaggerType").LOCATION]);b.taggersData[c("ReactComposerTaggerType").LOCATION]=d;d=babelHelpers["extends"]({mediaLocation:a.mediaLocation,mediaTakenTime:a.mediaTakenTime},b.taggersData[c("ReactComposerTaggerType").TAG_EVENT]);b.taggersData[c("ReactComposerTaggerType").TAG_EVENT]=d;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore17=function(a){a=this.validateAction(a,["composerID","facebox","photoID"]);var b=a[0],c=a[1];a=a[2];c=c.bestRecognition;c&&this.$ReactComposerTaggerStore30(b,c.subjectID,c.value,a)};e.$ReactComposerTaggerStore18=function(a){a=this.validateAction(a,["composerID","subject","value","photoID"]);var b=a[0],c=a[1],d=a[2];a=a[3];this.$ReactComposerTaggerStore30(b,c,d,a)};e.$ReactComposerTaggerStore21=function(a){a=this.validateAction(a,["composerID","photoID"]);var b=a[0];a=a[1];this.$ReactComposerTaggerStore31(b,a);this.$ReactComposerTaggerStore32(b,a)};e.$ReactComposerTaggerStore19=function(a){var b=this.validateAction(a,["composerID","subject","value","photoID"]),c=b[0],d=b[1],e=b[2];b=b[3];this.$ReactComposerTaggerStore33(c,d,e,a==null?void 0:a.parentProductID,b)};e.$ReactComposerTaggerStore10=function(a){var b=this.getComposerData(a.composerID);b.taggersData[c("ReactComposerTaggerType").PRODUCT_SPROUT].shouldNavigateToPhotoEditor=a.shouldNavigateToPhotoEditor;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore11=function(a){var b=this.getComposerData(a.composerID);b.taggersData[c("ReactComposerTaggerType").PRODUCT_SPROUT].platform=a.platform;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore12=function(a){var b=this.getComposerData(a.composerID);b.taggersData[c("ReactComposerTaggerType").PRODUCT_SPROUT].composerHasVideoUploads=a.composerHasVideoUploads;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore13=function(a){var b=this.getComposerData(a.composerID);b.taggersData[c("ReactComposerTaggerType").PRODUCT_SPROUT].shouldShowPtMediaUploadModal=a.shouldShowPtMediaUploadModal;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore14=function(a){var b=this.getComposerData(a.composerID);b.taggersData[c("ReactComposerTaggerType").PRODUCT_SPROUT].photoEditorOpened=a.photoEditorOpened;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore15=function(a){var b=this.getComposerData(a.composerID);b.taggersData[c("ReactComposerTaggerType").PRODUCT_SPROUT].productSuggestionPhotoID=a.productSuggestionPhotoID;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore16=function(a){var b=this.getComposerData(a.composerID);b.taggersData[c("ReactComposerTaggerType").PRODUCT_SPROUT].referralSource=a.referralSource;this.emitChange(a.composerID)};e.$ReactComposerTaggerStore20=function(a){a=this.validateAction(a,["composerID","subjectID","value","photoID"]);var b=a[0],c=a[1],d=a[2];a=a[3];this.$ReactComposerTaggerStore30(b,c,d,a)};e.$ReactComposerTaggerStore22=function(a){a=this.validateAction(a,["composerID","subjectID"]);var b=a[0];a=a[1];c("ReactComposerPhotoStore").getIsSubjectTagged(b,a)||this.$ReactComposerTaggerStore34(b,a)};e.$ReactComposerTaggerStore23=function(a){var b=this;a=this.validateAction(a,["composerID","photoID","faceboxes","xyTags"]);var c=a[0],d=a[1],e=a[2];a=a[3];this.$ReactComposerTaggerStore31(c,d);e.forEach(function(a){a&&a.taggedSubjectID&&b.$ReactComposerTaggerStore30(c,a.taggedSubjectID,a.taggedValue,d)});a.forEach(function(a){a&&b.$ReactComposerTaggerStore30(c,a.subject,a.name,d)})};e.$ReactComposerTaggerStore28=function(a){var b=this;a=this.validateAction(a,["composerID","photoID","xyTags"]);var c=a[0],d=a[1];a=a[2];this.$ReactComposerTaggerStore32(c,d);a.forEach(function(a){a&&b.$ReactComposerTaggerStore33(c,a.subject,a.name,a.parent_product_id,d)})};e.$ReactComposerTaggerStore24=function(a){var b=this,d=this.validateAction(a,"composerID");this.getComposerData(d).$ReactComposerTaggerStore1.forEach(function(a){c("ReactComposerPhotoStore").getIsSubjectTagged(d,a)||b.$ReactComposerTaggerStore34(d,a)})};e.$ReactComposerTaggerStore30=function(a,b,d,e){var f=new(c("SearchableEntry"))({uniqueID:b,title:d,auxiliaryData:{isFacebox:!0,photos:new Set([e])}});d=this.getComposerData(a);var g=d.taggersData[c("ReactComposerTaggerType").PEOPLE],h=g.find(function(a){return a.getUniqueID()===f.getUniqueID()});d.$ReactComposerTaggerStore1=d.$ReactComposerTaggerStore1.add(b);if(h){b=h.getAuxiliaryData();this.$ReactComposerTaggerStore35(h)&&b.photos.add(e)}else d.taggersData[c("ReactComposerTaggerType").PEOPLE]=g.concat(f);this.emitChange(a)};e.$ReactComposerTaggerStore33=function(a,b,d,e,f){var g=new(c("SearchableEntry"))({uniqueID:b,title:d,auxiliaryData:{isFacebox:!0,parentProductID:e,photos:new Set([f])}});b=this.getComposerData(a);d=b.taggersData[c("ReactComposerTaggerType").PRODUCT];e=d.find(function(a){return a.getUniqueID()===g.getUniqueID()});e?this.$ReactComposerTaggerStore35(e)&&e.getAuxiliaryData().photos.add(f):b.taggersData[c("ReactComposerTaggerType").PRODUCT]=d.concat(g);this.emitChange(a)};e.$ReactComposerTaggerStore34=function(a,b){var d=this.getComposerData(a);d.taggersData[c("ReactComposerTaggerType").PEOPLE]=d.taggersData[c("ReactComposerTaggerType").PEOPLE].filter(function(a){return a.getUniqueID()!==b});d.taggersData[c("ReactComposerTaggerType").PRODUCT]=d.taggersData[c("ReactComposerTaggerType").PRODUCT].filter(function(a){return a.getUniqueID()!==b});d.$ReactComposerTaggerStore1=d.$ReactComposerTaggerStore1["delete"](b);this.emitChange(a)};e.$ReactComposerTaggerStore31=function(a,b){var d=this.getComposerData(a);d=d.taggersData[c("ReactComposerTaggerType").PEOPLE];this.$ReactComposerTaggerStore36(a,d,b)};e.$ReactComposerTaggerStore32=function(a,b){var d=this.getComposerData(a);d=d.taggersData[c("ReactComposerTaggerType").PRODUCT];this.$ReactComposerTaggerStore36(a,d,b)};e.$ReactComposerTaggerStore36=function(a,b,c){var d=[];for(var e=0;e<b.length;e++){var f=b[e],g=f.getAuxiliaryData();this.$ReactComposerTaggerStore35(f)&&g.photos["delete"](c)&&g.photos.size==0&&d.push(f.getUniqueID())}for(g=0;g<d.length;g++){f=d[g];this.$ReactComposerTaggerStore34(a,f)}};e.$ReactComposerTaggerStore35=function(a){return a.getAuxiliaryData().photos};e.isPostButtonDisabled=function(a){var b=this.getTaggerData(a,c("ReactComposerTaggerType").PRODUCT);return b!==null&&b.length>0&&c("ReactComposerMediaUploadStore").getUploadsCount(a)==0&&this.getComposerHasVideoUploads(a)!==!0};return b}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("ComposerSharingSpacesEvent",[],(function(a,b,c,d,e,f){a=Object.freeze({COMPOSER_SPACES_SHARESHEET_NEXT:"COMPOSER_SPACES_SHARESHEET_NEXT",COMPOSER_SPACES_SHARESHEET_BACK:"COMPOSER_SPACES_SHARESHEET_BACK",COMPOSER_SPACES_SHARESHEET_POST:"COMPOSER_SPACES_SHARESHEET_POST",COMPOSER_SPACES_SPACE:"COMPOSER_SELECT_SPACE",COMPOSER_SELECT_SPACE_CHOOSE:"COMPOSER_SELECT_SPACE_CHOOSE",COMPOSER_SELECT_SPACE_NEW:"COMPOSER_SELECT_SPACE_NEW",COMPOSER_SELECT_SPACE_NEW_CLICK:"COMPOSER_SELECT_SPACE_NEW_CLICK",COMPOSER_SELECT_SPACE_LOADED:"COMPOSER_SELECT_SPACE_LOADED",COMPOSER_SELECT_TIMELINE_CHOOSE:"COMPOSER_SELECT_TIMELINE_CHOOSE"});f["default"]=a}),66);
__d("ExtensibleSproutsItemType",[],(function(a,b,c,d,e,f){a=Object.freeze({AB_TEST:"AB_TEST",ACHIEVEMENT:"ACHIEVEMENT",ACTIVITY:"ACTIVITY",ADVERTISE:"ADVERTISE",AIRBENDER_AVATAR:"AIRBENDER_AVATAR",APP_INTEGRATION_AODOCS:"APP_INTEGRATION_AODOCS",APP_INTEGRATION_BOX:"APP_INTEGRATION_BOX",APP_INTEGRATION_CORNERSTONE:"APP_INTEGRATION_CORNERSTONE",APP_INTEGRATION_DROPBOX:"APP_INTEGRATION_DROPBOX",APP_INTEGRATION_EGNYTE:"APP_INTEGRATION_EGNYTE",APP_INTEGRATION_GDRIVE:"APP_INTEGRATION_GDRIVE",APP_INTEGRATION_GDRIVE_FOR_WORKROOMS:"APP_INTEGRATION_GDRIVE_FOR_WORKROOMS",APP_INTEGRATION_JIRA:"APP_INTEGRATION_JIRA",APP_INTEGRATION_ONEDRIVE:"APP_INTEGRATION_ONEDRIVE",APP_INTEGRATION_ONEDRIVE_FOR_WORKROOMS:"APP_INTEGRATION_ONEDRIVE_FOR_WORKROOMS",APP_INTEGRATION_QUIP:"APP_INTEGRATION_QUIP",APP_INTEGRATION_SHAREPOINT:"APP_INTEGRATION_SHAREPOINT",APP_INTEGRATION_TASKS:"APP_INTEGRATION_TASKS",APP_INTEGRATION_TRELLO:"APP_INTEGRATION_TRELLO",APP_INTEGRATIONS_MENU:"APP_INTEGRATIONS_MENU",ARTICLES:"ARTICLES",AUDIO:"AUDIO",BACKDATE:"BACKDATE",BC_SUPPORT:"BC_SUPPORT",BIRTHDAY_CAMERA:"BIRTHDAY_CAMERA",BIRTHDAY_STICKER:"BIRTHDAY_STICKER",BOOST_POST:"BOOST_POST",BREAKING_NEWS:"BREAKING_NEWS",CANDIDATE_INFO:"CANDIDATE_INFO",CALL_NOW:"CALL_NOW",CHATROOM:"CHATROOM",COMMENT_TO_MESSAGE:"COMMENT_TO_MESSAGE",COMMUNITY_GIVING:"COMMUNITY_GIVING",COMMUNITY_HELP:"COMMUNITY_HELP",COMMUNITY_HELP_DRIVE:"COMMUNITY_HELP_DRIVE",COMMUNITY_LIVE_CHAT:"COMMUNITY_LIVE_CHAT",COMPOSER_ASSISTANT:"COMPOSER_ASSISTANT",COVID_ALERTS:"COVID_ALERTS",COVID_BUSINESS_POST:"COVID_BUSINESS_POST",DOC:"DOC",DONATE_BUTTON:"DONATE_BUTTON",DRAFT_FOR:"DRAFT_FOR",DISCUSSION_POST:"DISCUSSION_POST",ELLIPSIS:"ELLIPSIS",EVENTS:"EVENTS",FACECAST:"FACECAST",FAN_SUBMISSION_REQUEST:"FAN_SUBMISSION_REQUEST",FB_COLLECTIBLE:"FB_COLLECTIBLE",FB_GROUPS_CHATS:"FB_GROUPS_CHATS",FEELING:"FEELING",FILE:"FILE",FUN_FACT:"FUN_FACT",FUNDRAISER:"FUNDRAISER",GEN_AI_CREATE:"GEN_AI_CREATE",GET_MESSAGES:"GET_MESSAGES",GIF:"GIF",GIFT_CARD_PURCHASE:"GIFT_CARD_PURCHASE",GROUP_EXCLUSIVES:"GROUP_EXCLUSIVES",GROUP_JOIN_CTA:"GROUP_JOIN_CTA",GROUP_VOTER_PLEDGE_DRIVE:"GROUP_VOTER_PLEDGE_DRIVE",GROUP_WELCOME_POST:"GROUP_WELCOME_POST",INSPIRATION_CAMERA:"INSPIRATION_CAMERA",JOB:"JOB",LIFE_EVENT:"LIFE_EVENT",LINK:"LINK",LIST:"LIST",LIVE_FORMAT:"LIVE_FORMAT",LIVING_ROOM:"LIVING_ROOM",LOCAL_ALERTS:"LOCAL_ALERTS",LOCAL_DEV_PLATFORM:"LOCAL_DEV_PLATFORM",LOCATION:"LOCATION",LOOKING_FOR_PLAYERS:"LOOKING_FOR_PLAYERS",MARKDOWN:"MARKDOWN",MEDIA:"MEDIA",MEMETRON:"MEMETRON",MILESTONE:"MILESTONE",MINUTIAE:"MINUTIAE",MOVIES:"MOVIES",MORE_FEATURES:"MORE_FEATURES",MULTIMEDIA:"MULTIMEDIA",MUSIC:"MUSIC",NEON:"NEON",NOMINATIONS:"NOMINATIONS",NOTE:"NOTE",PAGE_SELL:"PAGE_SELL",PAID_VIRTUAL_EVENT_GATED_POST:"PAID_VIRTUAL_EVENT_GATED_POST",PHOTO:"PHOTO",PUBLISH_JOB_POST:"PUBLISH_JOB_POST",Q_AND_A:"Q_AND_A",RECOMMENDATION:"RECOMMENDATION",RECRUITING_CANDIDATE:"RECRUITING_CANDIDATE",REELS:"REELS",SELL:"SELL",SCHEDULE_POST:"SCHEDULE_POST",SEND_GIFT:"SEND_GIFT",SEND_UPDATES:"SEND_UPDATES",SHARE:"SHARE",SHIFT_SWAP:"SHIFT_SWAP",SHIFT_MANAGEMENT_COVER:"SHIFT_MANAGEMENT_COVER",SPONSOR_TAG:"SPONSOR_TAG",STICKER:"STICKER",SUGGESTED_PHOTO:"SUGGESTED_PHOTO",SUPPORT_NOW:"SUPPORT_NOW",SUMMARY:"SUMMARY",TAG_EVENT:"TAG_EVENT",TAG_EVENT_TICKET:"TAG_EVENT_TICKET",TAG_PRODUCT:"TAG_PRODUCT",TEXT_BACKGROUND:"TEXT_BACKGROUND",THIRD_PARTY:"THIRD_PARTY",THREE_D_PHOTO:"THREE_D_PHOTO",THREESIXTY_CAPTURE:"THREESIXTY_CAPTURE",TODO_LIST:"TODO_LIST",VIDEO:"VIDEO",VIDEO_MEETUP:"VIDEO_MEETUP",VISUAL_POLLS:"VISUAL_POLLS",WITH_TAG:"WITH_TAG",WOODHENGE_SUPPORT:"WOODHENGE_SUPPORT",WORK_CHECKLIST:"WORK_CHECKLIST",WORK_FILE:"WORK_FILE",WORK_MULTI_ATTACHMENTS:"WORK_MULTI_ATTACHMENTS",WORK_SCHEDULE_LIVE:"WORK_SCHEDULE_LIVE",WORK_HASHTAG_SUGGESTIONS:"WORK_HASHTAG_SUGGESTIONS",BLOOD_DONATION:"BLOOD_DONATION",AMA:"AMA",VIDEO_EDITOR:"VIDEO_EDITOR",SOTTO_CTA:"SOTTO_CTA",COLLABORATIVE_FORMAT:"COLLABORATIVE_FORMAT",INCENTIVES_AMA:"INCENTIVES_AMA",COMMUNITY_QNA:"COMMUNITY_QNA",WORK_AMA:"WORK_AMA",MARKETPLACE_VEHICLE:"MARKETPLACE_VEHICLE",MULTILINGUAL:"MULTILINGUAL",VOTE_ALERT:"VOTE_ALERT",TEMPLATES:"TEMPLATES",WORK_QA:"WORK_QA",FB_NOTE:"FB_NOTE",FISHBOWL:"FISHBOWL",QA_SIMILAR_QUESTIONS:"QA_SIMILAR_QUESTIONS",WORK_OPEN_ROLE:"WORK_OPEN_ROLE",READY_MADE_FEED:"READY_MADE_FEED",WRITE_POST:"WRITE_POST",DISCUSSION:"DISCUSSION",MORE:"MORE",POST_AS_ANONYMOUS_AUTHOR:"POST_AS_ANONYMOUS_AUTHOR",VOICE_SELECTOR:"VOICE_SELECTOR",STORY_TEXT_BACKGROUND:"STORY_TEXT_BACKGROUND",STORY_SELFIE:"STORY_SELFIE",STORY_BOOMERANG:"STORY_BOOMERANG",STORY_POLL:"STORY_POLL",STORY_MUSIC:"STORY_MUSIC",STORY_LOCATION:"STORY_LOCATION",STORY_DARKROOM:"STORY_DARKROOM",STORY_PHOTOBOOTH:"STORY_PHOTOBOOTH",STORY_MOOD:"STORY_MOOD",STORY_OFFER_HELP:"STORY_OFFER_HELP",STORY_ARCHIVE:"STORY_ARCHIVE",STORY_PHOTO_COLLAGE:"STORY_PHOTO_COLLAGE",STORY_TOP_FAN_RECOGNITION:"STORY_TOP_FAN_RECOGNITION",ANIMATED_EFFECTS:"ANIMATED_EFFECTS",CIVIC_CTA:"CIVIC_CTA",CONTACT_YOUR_REPRESENTATIVE:"CONTACT_YOUR_REPRESENTATIVE",FIND_PLAYERS:"FIND_PLAYERS",GET_BOOKINGS:"GET_BOOKINGS",GET_QUOTE:"GET_QUOTE",GET_DIRECTIONS:"GET_DIRECTIONS",GET_TICKET:"GET_TICKET",GET_PHONE_CALLS:"GET_PHONE_CALLS",GET_SHOPS:"GET_SHOPS",GET_WHATSAPP_MESSAGES:"GET_WHATSAPP_MESSAGES",GROUP_MEET_UP:"GROUP_MEET_UP",JOB_SEARCH:"JOB_SEARCH",LIVING_ROOM_PAGE:"LIVING_ROOM_PAGE",LIVING_ROOM_PROFILE:"LIVING_ROOM_PROFILE",ORDER_FOOD:"ORDER_FOOD",PAGE_OFFER:"PAGE_OFFER",PAGE_RECOMMENDATIONS_ADD_TAGS:"PAGE_RECOMMENDATIONS_ADD_TAGS",PLAY_WITH_FRIENDS:"PLAY_WITH_FRIENDS",PLANETARIUM:"PLANETARIUM",QUILT:"QUILT",RECIPE:"RECIPE",SELL_SOMETHING:"SELL_SOMETHING",SELL_MULTIPLE_ITEMS:"SELL_MULTIPLE_ITEMS",SALES_PROMO:"SALES_PROMO",SPOTIFY_SHARE:"SPOTIFY_SHARE",SUGGESTED_PHOTO_CAPTION:"SUGGESTED_PHOTO_CAPTION",TRANSLITERATION:"TRANSLITERATION",VIDEO_SUGGESTIONS:"VIDEO_SUGGESTIONS"});f["default"]=a}),66);
__d("PagesComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirrorRecursive")({PAGES_COMPOSER_HELP_CENTER_CLICK:null,PAGES_COMPOSER_VOICE_SWITCHER_ACTOR_CHANGE:null,PAGES_COMPOSER_VOICE_SWITCHER_CLICK:null},"PagesComposerActionTypes");b=a;g["default"]=b}),98);
__d("PagesComposerInstagramAudienceActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({CLOSE_INSTAGRAM_AUTH_DIALOG:null,INSTAGRAM_AUTH_FAIL:null,INSTAGRAM_AUTH_SUCCEED:null,OPEN_INSTAGRAM_AUTH_DIALOG:null,SET_PAGE_TO_INSTAGRAM_LINKING_STATUS:null},"PagesComposerInstagramAudienceActionTypes");e.exports=a}),null);
__d("PhotosUploadWaterfallXMixin",["invariant","AsyncSignal","Banzai","PhotosUploadWaterfallXConfig","randomInt"],(function(a,b,c,d,e,f,g){var h=new Map();function i(a,c){var d={};a.client_time=Math.round(Date.now()/1e3);b("PhotosUploadWaterfallXConfig").retryBanzai&&(d.retry=!0,a.nonce=b("randomInt")(4294967296));b("Banzai").post(b("PhotosUploadWaterfallXConfig").banzaiRoute,a,d);c&&setTimeout(c,0)}function j(a,c){if(b("PhotosUploadWaterfallXConfig").useBanzai)i(a,c);else{a=new(b("AsyncSignal"))(b("PhotosUploadWaterfallXConfig").loggingEndpoint,{data:JSON.stringify(a)}).setHandler(c);b("PhotosUploadWaterfallXConfig").timeout&&a.setTimeout(10*1e3);a.send()}}e.exports={logStep:function(a,b,c){var d=this.getWaterfallID&&this.getWaterfallID(),e=this.getWaterfallAppName&&this.getWaterfallAppName();if(!d||!e)return;j(babelHelpers["extends"]({step:a,qn:d,uploader:e,ref:this.getWaterfallSource&&this.getWaterfallSource()},b),c)},logPUWStep:function(a,b,c,d,e,f,g){if(f&&f.logOncePerSession){h.has(b)||h.set(b,new Set());if(h.get(b).has(a))return;h.get(b).add(a)}j(babelHelpers["extends"]({step:a,qn:b,uploader:c,ref:d},e),g)}}}),null);
__d("ComposerAsset3dDataRecord",["immutable"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("immutable").Record({asset3dID:null,photoEncoding3dID:null,glbURI:null,aspectRatio:null,compressor:null,compressionLevel:null,version:null}));g["default"]=a}),98);
__d("ComposerAsset3dInputRecord",["immutable"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("immutable").Record({type:"glb",glbFile:null,colorImageIDs:null,depthImageIDs:null,placeholderImage:null}));g["default"]=a}),98);
__d("ReactComposerAsset3dAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({CREATE_ASSET3D:null,REMOVE_ASSET3D:null,PREFILL_ASSET3D:null,SELECT_BACKGROUND:null,UPDATE_LOADING_PROGRESS:null,SET_ASSET3D_INPUT:null,SHOW_ERROR:null},"ReactComposerAsset3dAttachmentActionType");g["default"]=a}),98);
__d("ReactComposerAsset3dAttachmentActions",["ComposerAsset3dDataRecord","ComposerAsset3dInputRecord","ReactComposerAsset3dAttachmentActionType","ReactComposerAsset3dAttachmentStore","ReactComposerDispatcher"],(function(a,b,c,d,e,f,g){b("ReactComposerAsset3dAttachmentStore");a=function(){function a(){}var b=a.prototype;b.createAsset3D=function(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,actorID:b,type:c("ReactComposerAsset3dAttachmentActionType").CREATE_ASSET3D})};b.removeAsset3D=function(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerAsset3dAttachmentActionType").REMOVE_ASSET3D})};b.prefill=function(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerAsset3dAttachmentActionType").PREFILL_ASSET3D,asset3dInput:new(c("ComposerAsset3dInputRecord"))({type:b.inputType,glbFile:null,colorImageIDs:null,depthImageIDs:null,placeholderImage:{src:b.placeholderImageSrc,width:b.placeholderImageWidth,height:b.placeholderImageHeight}}),asset3dData:new(c("ComposerAsset3dDataRecord"))({asset3dID:b.asset3dID,glbURI:b.glbURI,aspectRatio:b.aspectRatio,compressor:b.compressor,compressionLevel:b.compressionLevel,version:b.version}),background:b.background})};b.selectBackground=function(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerAsset3dAttachmentActionType").SELECT_BACKGROUND,background:b})};b.selectColorDepthInput=function(a,b,d,e,f,g){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerAsset3dAttachmentActionType").SET_ASSET3D_INPUT,asset3dInput:new(c("ComposerAsset3dInputRecord"))({type:"color_depth_pair",glbFile:null,colorImageIDs:b,depthImageIDs:d,placeholderImage:{src:e,width:f,height:g}})})};b.selectGlbFileInput=function(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerAsset3dAttachmentActionType").SET_ASSET3D_INPUT,asset3dInput:new(c("ComposerAsset3dInputRecord"))({type:"glb",glbFile:b,colorImageIDs:null,depthImageIDs:null,placeholderImage:null})})};b.updateLoadingProgress=function(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerAsset3dAttachmentActionType").UPDATE_LOADING_PROGRESS,progress:b})};b.showCreationError=function(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerAsset3dAttachmentActionType").SHOW_ERROR})};return a}();d=new a();g["default"]=d}),98);
__d("ReactComposerAsset3dAttachmentStore",["invariant","ActorURI","AsyncRequest","ComposerAsset3dDataRecord","ReactComposerActionTypes","ReactComposerAsset3dAttachmentActionType","ReactComposerAsset3dAttachmentActions","ReactComposerStoreBase","ThisControllerNoLongerExists","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){babelHelpers.inheritsLoose(e,a);function e(){var b,d;b=a.call(this,function(){return{asset3dData:null,asset3dInput:null,background:null,progress:0,pendingRequest:null,creationFailed:!1,sessionKey:null,usePhotoEncoding3D:!0}},function(a){switch(a.type){case c("ReactComposerAsset3dAttachmentActionType").CREATE_ASSET3D:d&&d.$ReactComposerAsset3DAttachmentStore1(a);break;case c("ReactComposerAsset3dAttachmentActionType").REMOVE_ASSET3D:d&&d.$ReactComposerAsset3DAttachmentStore2(a);break;case c("ReactComposerAsset3dAttachmentActionType").PREFILL_ASSET3D:d&&d.$ReactComposerAsset3DAttachmentStore3(a);break;case c("ReactComposerAsset3dAttachmentActionType").SELECT_BACKGROUND:d&&d.$ReactComposerAsset3DAttachmentStore4(a);break;case c("ReactComposerAsset3dAttachmentActionType").SET_ASSET3D_INPUT:d&&d.$ReactComposerAsset3DAttachmentStore5(a);break;case c("ReactComposerAsset3dAttachmentActionType").UPDATE_LOADING_PROGRESS:d&&d.$ReactComposerAsset3DAttachmentStore6(a);break;case c("ReactComposerAsset3dAttachmentActionType").SHOW_ERROR:d&&d.$ReactComposerAsset3DAttachmentStore7(a);break;case c("ReactComposerActionTypes").POST_STARTED:d&&d.$ReactComposerAsset3DAttachmentStore8(a);break}})||this;d=babelHelpers.assertThisInitialized(b);return b}var f=e.prototype;f.getAsset3DData=function(a){return this.getComposerData(a).asset3dData};f.getAsset3DInput=function(a){return this.getComposerData(a).asset3dInput};f.getBackground=function(a){return this.getComposerData(a).background};f.getProgress=function(a){return this.getComposerData(a).progress};f.getCreationFailed=function(a){return this.getComposerData(a).creationFailed};f.isCreating=function(a){var b=this.getComposerData(a).asset3dInput;a=this.getComposerData(a).asset3dData;return b&&!a};f.isUsingPhotoEncoding3D=function(a){return this.getComposerData(a).usePhotoEncoding3D};f.$ReactComposerAsset3DAttachmentStore5=function(a){a=this.validateAction(a,["composerID","asset3dInput"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.asset3dInput=a;this.emitChange(b)};f.$ReactComposerAsset3DAttachmentStore4=function(a){a=this.validateAction(a,["composerID","background"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.background=a;this.emitChange(b)};f.$ReactComposerAsset3DAttachmentStore9=function(a){var b=this.validateAction(a,["composerID"]);a=this.validateAction(a,["actorID"]);var e=this.getAsset3DData(b);if(e&&e.asset3dID){this.getComposerData(b);e=d("ActorURI").create(d("ThisControllerNoLongerExists").__DEADURI__("pu4hzor"),a);new(c("AsyncRequest"))().setURI(e).setMethod("POST").setErrorHandler(function(a){}).send()}};f.$ReactComposerAsset3DAttachmentStore6=function(a){a=this.validateAction(a,["composerID","progress"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.progress=a;this.emitChange(b)};f.$ReactComposerAsset3DAttachmentStore1=function(a){var b=this;a=this.validateAction(a,["composerID","actorID"]);var e=a[0];a=a[1];var f=this.getComposerData(e);f.asset3dData=null;f.background=null;f.progress=0;f.creationFailed=!1;var g=f.asset3dInput;g!==null||h(0,14194);var i=null,j=new FormData();g.type==="glb"?(i=d("ActorURI").create(d("ThisControllerNoLongerExists").__DEADURI__("9ccoj76d"),a),g.glbFile!==null||h(0,14195),j.append("asset3d_file",g.glbFile)):g.type==="color_depth_pair"&&(g.colorImageIDs!==null||h(0,17397),g.depthImageIDs!==null||h(0,17398),f.usePhotoEncoding3D?i=d("ActorURI").create(d("ThisControllerNoLongerExists").__DEADURI__("qszmufeh"),a):i=d("ActorURI").create(d("ThisControllerNoLongerExists").__DEADURI__("ahm6tzpy"),a),j.append("color_image_id",g.colorImageIDs[0]),j.append("depth_image_id",g.depthImageIDs[0]));i!=null||h(0,13561);f.pendingRequest=new(c("AsyncRequest"))().setURI(i).setMethod("POST").setRawData(j).setUploadProgressHandler(function(a){var b=a.loaded;a=a.total;c("ReactComposerAsset3dAttachmentActions").updateLoadingProgress(e,b/a*.8)}).setHandler(function(a){b.$ReactComposerAsset3DAttachmentStore10(a,e)}).setErrorHandler(function(a){c("ReactComposerAsset3dAttachmentActions").showCreationError(e)}).setFinallyHandler(function(){f.pendingRequest=null,b.emitChange(e)});f.pendingRequest.send();this.emitChange(e)};f.$ReactComposerAsset3DAttachmentStore7=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.creationFailed=!0;this.emitChange(a)};f.$ReactComposerAsset3DAttachmentStore8=function(a){this.$ReactComposerAsset3DAttachmentStore9(a)};f.$ReactComposerAsset3DAttachmentStore2=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.asset3dData=null;b.asset3dInput=null;b.background=null;b.progress=0;b.pendingRequest&&(b.pendingRequest.abandon(),b.pendingRequest=null);this.emitChange(a)};f.$ReactComposerAsset3DAttachmentStore3=function(a){a=this.validateAction(a,["composerID","asset3dInput","asset3dData","background"]);var b=a[0],c=a[1],d=a[2];a=a[3];var e=this.getComposerData(b);e.asset3dInput=c;e.asset3dData=d;e.background=a;e.progress=0;e.pendingRequest=null;this.emitChange(b)};f.$ReactComposerAsset3DAttachmentStore10=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var d=this.getComposerData(b);a=a.payload;a||h(0,14228);d.usePhotoEncoding3D?d.asset3dData=new(c("ComposerAsset3dDataRecord"))({photoEncoding3dID:a.id,glbURI:a.glbURI,aspectRatio:a.aspectRatio,compressor:a.compressor,compressionLevel:a.compressionLevel,version:a.version}):d.asset3dData=new(c("ComposerAsset3dDataRecord"))({asset3dID:a.id,glbURI:a.glbURI,aspectRatio:a.aspectRatio,compressor:a.compressor,compressionLevel:a.compressionLevel,version:a.version});c("ReactComposerAsset3dAttachmentActions").updateLoadingProgress(b,1)});function d(b,c){return a.apply(this,arguments)}return d}();return e}(c("ReactComposerStoreBase"));e=new a();g["default"]=e}),98);
__d("ReactComposerCollectionsActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({SHOW_COLLECTION_SELECTOR:null,HIDE_COLLECTION_SELECTOR:null,SHOW_CREATION_LAYER:null,HIDE_CREATION_LAYER:null},"ReactComposerCollectionsActionTypes");g["default"]=a}),98);
__d("ReactComposerFeatureType",[],(function(a,b,c,d,e,f){a=Object.freeze({EVENT:"event",FILE:"file",LINK:"link",MENTION_TAG:"mention_tag",MILESTONE:"milestone",PAGE_CTA:"page_cta",PHOTO_TAG:"photo_tag",PRIVACY:"privacy",TEXT:"text",COLLECTIONS:"collections",COLLECTION_CREATION:"collection_creation",MESSAGING:"messaging",ALBUM:"album",BREAKING_NEWS:"breaking_news",ASSET_3D:"ASSET_3D",LOCAL_ALERTS:"local_alerts",GET_SHOWTIMES:"get_showtimes",PAGES_INTERCEPTION:"pages_interception",COVID_BUSINESS_POST:"covid_business_post"});f["default"]=a}),66);
__d("ReactComposerPerfLogger",["ComposerXSessionIDs","MarauderLogger"],(function(a,b,c,d,e,f,g){var h={},i="status";function a(a,b,c){c===void 0&&(c={});var e=h[b];b=d("ComposerXSessionIDs").getSessionID(b);if(!e||!b)return;if(c.logOncePerSession){e.loggedEventTypes[b]||(e.loggedEventTypes[b]={});if(e.loggedEventTypes[b][a])return;e.loggedEventTypes[b][a]=!0}c=babelHelpers["extends"]({},c.extraData,{composer_type:i,target_type:e.targetType,target_id:e.targetID,ref:e.entryPointRef});d("MarauderLogger").log(a,"composer",c,void 0,void 0,b)}function b(a,b,c,d){h[a.id]={targetID:d,targetType:b,entryPointRef:c,loggedEventTypes:{}}}function c(a){return h[a]}g.logEvent=a;g.registerComposer=b;g.getInstance=c}),98);
__d("ReactComposerVideoUploadActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({VIDEO_SET_UPLOADER:null,VIDEO_UPLOAD_ADD:null,VIDEO_UPLOAD_REMOVE:null},"ReactComposerVideoUploadActionType");g["default"]=a}),98);
__d("ReactComposerLoggingStore",["invariant","Bootloader","ComposerSharingSpacesEvent","ComposerStructuredLoggerUtil","ComposerXMarauderLogger","ComposerXSessionIDs","ExtensibleSproutsItemType","PagesComposerActionTypes","PagesComposerInstagramAudienceActionTypes","PhotoUploadFacerecWaterfallTypedLogger","PhotosUploadWaterfallXMixin","QuickPerformanceLogger","ReactComposerActionTypes","ReactComposerAsset3dAttachmentStore","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceActionTypes","ReactComposerAudienceStore","ReactComposerCollectionsActionTypes","ReactComposerDispatcher","ReactComposerFeatureType","ReactComposerFocusActionTypes","ReactComposerLoggingQueue","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPerfLogger","ReactComposerPhotoActionType","ReactComposerPhotoStore","ReactComposerScrapedAttachmentActionType","ReactComposerScrapedAttachmentStore","ReactComposerSproutsDisplayState","ReactComposerStatusStore","ReactComposerStore","ReactComposerStoreBase","ReactComposerTaggerActionType","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoUploadActionType","ReactPagesComposerLoggingUtils","classWithMixins","ifRequired","immutable","mixin","nullthrows","performanceAbsoluteNow","qpl"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;b=a.call(this,function(){return{activated:!1,perfTimes:{},sessionID:null,uniqueEvents:c("immutable").Map([["client_publish_success",!1],["client_flow_success",!1]])}},function(a){d&&d.handler(a)})||this;d=babelHelpers.assertThisInitialized(b);return b}var e=b.prototype;e.handler=function(a){if(a.suppressWaterfallLogging)return;var b=this.getComposerData(a.composerID);if(!b.activated)return;switch(a.type){case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT_LOGGING_ONLY_DO_NOT_USE:this.$ReactComposerLoggingStore1(a);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:this.$ReactComposerLoggingStore2(a);break;case c("ReactComposerActionTypes").COMPOSER_ENTRY:this.$ReactComposerLoggingStore3(a);break;case c("ReactComposerAttachmentActionType").SET_BOOTLOADED:c("ReactComposerDispatcher").isDispatching()&&c("ReactComposerDispatcher").waitFor([c("ReactComposerAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore4(a);break;case c("ReactComposerAttachmentActionType").SET_BOOTSTRAPPED:c("ReactComposerDispatcher").isDispatching()&&c("ReactComposerDispatcher").waitFor([c("ReactComposerAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore5(a);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_CLICKED:this.$ReactComposerLoggingStore6(a);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_DONE:this.$ReactComposerLoggingStore7(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore8(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_STARTED:this.$ReactComposerLoggingStore9(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_DONE:this.$ReactComposerLoggingStore10(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_FAILED:this.$ReactComposerLoggingStore11(a);break;case c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_DONE:this.$ReactComposerLoggingStore12(a);break;case c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_FAILED:this.$ReactComposerLoggingStore13(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZER_UNAVAILABLE:this.$ReactComposerLoggingStore14(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_UPLOADING:this.$ReactComposerLoggingStore15(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:this.$ReactComposerLoggingStore16(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_FAILED:this.$ReactComposerLoggingStore17(a);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_REMOVE:this.$ReactComposerLoggingStore18(a);break;case c("ReactComposerPhotoActionType").PHOTO_REMOVE:this.$ReactComposerLoggingStore19(a);break;case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore20(a);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_ADD:this.$ReactComposerLoggingStore21(a);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_REMOVE:this.$ReactComposerLoggingStore22(a);break;case c("ReactComposerTaggerActionType").DESELECT_TAGGER:this.$ReactComposerLoggingStore23(a);break;case c("ReactComposerTaggerActionType").SET_SELECTED_TAGGER:c("ReactComposerDispatcher").isDispatching()&&c("ReactComposerDispatcher").waitFor([c("ReactComposerTaggerStore").getDispatchToken()]);this.$ReactComposerLoggingStore24(a);break;case c("ReactComposerTaggerActionType").SET_TAGGER_DATA:c("ReactComposerDispatcher").isDispatching()&&c("ReactComposerDispatcher").waitFor([c("ReactComposerTaggerStore").getDispatchToken()]);this.$ReactComposerLoggingStore25(a);break;case c("ReactComposerTaggerActionType").LOG_WP_PICKER_ACTION:this.$ReactComposerLoggingStore26(a);break;case c("ReactComposerActionTypes").POST_STARTED_LOGGING_ONLY_DO_NOT_USE:this.$ReactComposerLoggingStore27(a);break;case c("ReactComposerActionTypes").POST_STARTED:this.$ReactComposerLoggingStore28(a);break;case c("ReactComposerActionTypes").POST_SUCCEEDED:this.$ReactComposerLoggingStore29(a);break;case c("ReactComposerActionTypes").POST_ERROR:this.$ReactComposerLoggingStore30(a);break;case c("ReactComposerMediaUploadActionType").PHOTOS_SELECT:this.$ReactComposerLoggingStore31(a);break;case c("ReactComposerPhotoActionType").PHOTO_EDIT_STARTED:this.$ReactComposerLoggingStore32(a);break;case c("ReactComposerPhotoActionType").PHOTO_EDIT_FINISHED:this.$ReactComposerLoggingStore33(a);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RETRY:this.$ReactComposerLoggingStore34(a);break;case c("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX:this.$ReactComposerLoggingStore35(a);break;case c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_ALL_FINISHED:this.$ReactComposerLoggingStore36(a);break;case c("ReactComposerActionTypes").FEATURE_INTENT:this.$ReactComposerLoggingStore37(a);break;case c("ReactComposerActionTypes").FEATURE_DONE:this.$ReactComposerLoggingStore38(a);break;case c("ReactComposerActionTypes").FEATURE_CANCEL:this.$ReactComposerLoggingStore39(a);break;case c("ReactComposerActionTypes").SPROUT_VIEW_UPDATE:this.$ReactComposerLoggingStore40(a);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:c("ReactComposerDispatcher").isDispatching()&&c("ReactComposerDispatcher").waitFor([c("ReactComposerScrapedAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore41(a);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE:this.$ReactComposerLoggingStore42(a);break;case c("ReactComposerActionTypes").COMPOSER_CANCEL:this.$ReactComposerLoggingStore43(a);break;case c("ReactComposerActionTypes").COMPOSER_NAVIGATE_AWAY_ATTEMPT:this.$ReactComposerLoggingStore44(a);break;case c("ReactComposerCollectionsActionTypes").SHOW_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore45(a);break;case c("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore46(a);break;case c("ReactComposerAudienceActionTypes").SET_COLLECTION:c("ReactComposerDispatcher").isDispatching()&&c("ReactComposerDispatcher").waitFor([c("ReactComposerAudienceStore").getDispatchToken()]);this.$ReactComposerLoggingStore47(a);break;case c("ReactComposerCollectionsActionTypes").SHOW_CREATION_LAYER:case c("ReactComposerCollectionsActionTypes").SHOW_SHARING_SPACE_CREATION_LAYER:this.$ReactComposerLoggingStore48(a);break;case c("ReactComposerCollectionsActionTypes").HIDE_CREATION_LAYER:case c("ReactComposerCollectionsActionTypes").HIDE_SHARING_SPACE_CREATION_LAYER:this.$ReactComposerLoggingStore49(a);break;case c("ReactComposerCollectionsActionTypes").SPACE_SELECTOR_LOADED:this.$ReactComposerLoggingStore50(a);break;case c("ReactComposerActionTypes").COMPOSER_SHARESHEET_POST_CLICKED:this.$ReactComposerLoggingStore51(a);break;case c("ReactComposerFocusActionTypes").FOCUS_ACQUIRED:this.$ReactComposerLoggingStore52(a);break;case c("ReactComposerFocusActionTypes").FOCUS_LOST:this.$ReactComposerLoggingStore53(a);break;case c("PagesComposerActionTypes").PAGES_COMPOSER_VOICE_SWITCHER_CLICK:case c("PagesComposerActionTypes").PAGES_COMPOSER_VOICE_SWITCHER_ACTOR_CHANGE:this.$ReactComposerLoggingStore54(a);break;case c("PagesComposerInstagramAudienceActionTypes").CLOSE_INSTAGRAM_AUTH_DIALOG:case c("PagesComposerInstagramAudienceActionTypes").INSTAGRAM_AUTH_FAIL:case c("PagesComposerInstagramAudienceActionTypes").INSTAGRAM_AUTH_SUCCEED:case c("PagesComposerInstagramAudienceActionTypes").OPEN_INSTAGRAM_AUTH_DIALOG:case c("PagesComposerInstagramAudienceActionTypes").SET_PAGE_TO_INSTAGRAM_LINKING_STATUS:this.$ReactComposerLoggingStore55(a);break;case c("PagesComposerActionTypes").PAGES_COMPOSER_HELP_CENTER_CLICK:this.$ReactComposerLoggingStore56(a);break;default:}};e.getSessionID=function(a){return d("ComposerXSessionIDs").getSessionID(a)};e.isActivated=function(a){return this.getComposerData(a).activated};e.activate=function(a){a=this.getComposerData(a);a.activated=!0;d("ReactComposerLoggingQueue").getLength()>0&&this.$ReactComposerLoggingStore57()};e.$ReactComposerLoggingStore3=function(a){a=this.validateAction(a,"composerID");var b=c("ReactComposerStore").getTargetType(a),d=c("ReactComposerStore").getComposerData(a),e=d.actorID;d=d.isActorAPage;var f={};(b==="page"||d)&&(f.posting_as_page_id=d?e:null);b==="page"?f.composer_entry_point_name=c("ReactComposerStore").getRef(a):b==="group"&&(f.composer_entry_point_name="inline_composer");this.$ReactComposerLoggingStore58(a,"composer_entry",{logOncePerSession:!0,extraData:f})};e.$ReactComposerLoggingStore37=function(a){a=this.validateAction(a,["composerID","featureType","uiElementName"]);var b=a[0],c=a[1];a=a[2];this.$ReactComposerLoggingStore59(b,c,a)};e.$ReactComposerLoggingStore38=function(a){a=this.validateAction(a,["composerID","featureType","uiElementName"]);var b=a[0],c=a[1];a=a[2];this.$ReactComposerLoggingStore60(b,c,a)};e.$ReactComposerLoggingStore39=function(a){a=this.validateAction(a,["composerID","featureType","uiElementName"]);var b=a[0],c=a[1];a=a[2];this.$ReactComposerLoggingStore61(b,c,a)};e.$ReactComposerLoggingStore1=function(a){var b=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore3(a);if(a.featureType&&Object.prototype.hasOwnProperty.call(c("ExtensibleSproutsItemType"),a.featureType)){var d=this.validateAction(a,"sproutSurface");this.$ReactComposerLoggingStore59(b,a.featureType,a.source,d)}};e.$ReactComposerLoggingStore2=function(a){var b=this.validateAction(a,"composerID");c("ReactComposerAttachmentStore").isSelectedAttachmentActive(b)&&this.$ReactComposerLoggingStore3(a);if(a.loggingName&&Object.prototype.hasOwnProperty.call(c("ExtensibleSproutsItemType"),a.loggingName)){var d=this.validateAction(a,"sproutSurface");this.$ReactComposerLoggingStore59(b,a.loggingName,a.source,d)}};e.$ReactComposerLoggingStore4=function(a){a=this.validateAction(a,["id","composerID"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore62(a,"client_bootloaded",{extraData:{attachment_type:b,duration:c("ReactComposerAttachmentStore").getBootloadDuration(a,b)}})};e.$ReactComposerLoggingStore5=function(a){a=this.validateAction(a,["id","composerID"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore62(a,"client_bootstrapped",{extraData:{attachment_type:b,duration:c("ReactComposerAttachmentStore").getBootstrapDuration(a,b)}})};e.$ReactComposerLoggingStore6=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore59(b,"MEDIA",a);this.$ReactComposerLoggingStore58(b,"intent_media");this.$ReactComposerLoggingStore63(b,"client_flow_begin",null,{logOncePerSession:!0});this.$ReactComposerLoggingStore63(b,"client_select_begin")};e.$ReactComposerLoggingStore7=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore60(b,"MEDIA",a)};e.$ReactComposerLoggingStore8=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore58(a,"add_photo");this.$ReactComposerLoggingStore64(a,"MEDIA")};e.$ReactComposerLoggingStore9=function(a){a=this.validateAction(a,["composerID","loggingData"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore63(b,"client_process_begin",a);this.$ReactComposerLoggingStore58(b,"media_upload_process_start",{extraData:{source_file_size:a.bytes,source_width:a.width,source_height:a.height}})};e.$ReactComposerLoggingStore10=function(a){a=this.validateAction(a,["composerID","loggingData"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore63(b,"client_process_success",a);this.$ReactComposerLoggingStore58(b,"media_upload_process_success",{extraData:{source_file_size:a.media_data_size,source_width:a.width,source_height:a.height,transcode_file_size:a.bytes,upload_width:a.upload_width,upload_height:a.upload_height}})};e.$ReactComposerLoggingStore11=function(a){a=this.validateAction(a,["composerID","loggingData"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore63(b,"client_process_fail",a)};e.$ReactComposerLoggingStore12=function(a){a=this.validateAction(a,["composerID","loggingData"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore63(b,"client_spherical_check_success",a)};e.$ReactComposerLoggingStore13=function(a){a=this.validateAction(a,["composerID","loggingData"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore63(b,"client_spherical_check_fail",a)};e.$ReactComposerLoggingStore14=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore63(a,"client_process_unavailable")};e.$ReactComposerLoggingStore15=function(a){a=this.validateAction(a,["composerID","fileUpload"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore63(b,"client_transfer_begin",{bytes:a.getFile().size});this.$ReactComposerLoggingStore58(b,"media_upload_start",{extraData:{source_height:a.getAdditionalData().get("original_height"),source_width:a.getAdditionalData().get("original_width"),source_file_size:a.getAdditionalData().get("original_file_size"),upload_height:a.getAdditionalData().get("upload_height"),upload_width:a.getAdditionalData().get("upload_width"),transcode_file_size:a.getFile().size}})};e.$ReactComposerLoggingStore16=function(a){var b=this.validateAction(a,["composerID","fileUpload","timeToUpload"]),d=b[0],e=b[1];b=b[2];var f={};a.uploadID&&c("ReactComposerMediaUploadStore").getMediaUploadExists(d,a.uploadID)&&(f=c("ReactComposerMediaUploadStore").getMediaUpload(d,a.uploadID));e&&(this.$ReactComposerLoggingStore58(d,"add_photo_success"),this.$ReactComposerLoggingStore63(d,"client_transfer_success",{bytes:e.getFile().size,auto_retry_count:e.getRetryCount(),dt:b,custom_tags:{manual_retry:!!e.getFile().manuallyRetried},projection_type:f.projectionType,fbid:a.photoID,sheight:f.height,swidth:f.width,theight:a.height,twidth:a.width}),this.$ReactComposerLoggingStore58(d,"media_upload_success",{extraData:{media_id:f.photoID,source_height:e.getAdditionalData().get("original_height"),source_width:e.getAdditionalData().get("original_width"),source_file_size:e.getAdditionalData().get("original_file_size"),upload_height:e.getAdditionalData().get("upload_height"),upload_width:e.getAdditionalData().get("upload_width"),transcode_file_size:a.fileUpload.getFile().size}}))};e.$ReactComposerLoggingStore17=function(a){var b=this.validateAction(a,["composerID","fileUpload","error","timeToUpload"]),d=b[0],e=b[1],f=b[2];b=b[3];var g={};a.uploadID&&c("ReactComposerMediaUploadStore").getMediaUploadExists(d,a.uploadID)&&(g=c("ReactComposerMediaUploadStore").getMediaUpload(d,a.uploadID));this.$ReactComposerLoggingStore58(d,"add_photo_failure");this.$ReactComposerLoggingStore63(d,"client_transfer_fail",{bytes:e.getFile().size,error_code:f.code,error_info:f.description,auto_retry_count:e.getRetryCount(),dt:b,custom_tags:{manual_retry:!!e.getFile().manuallyRetried},projection_type:g.projectionType,sheight:g.height,swidth:g.width})};e.$ReactComposerLoggingStore18=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore58(a,"remove_photo");this.$ReactComposerLoggingStore64(a,"MEDIA");this.$ReactComposerLoggingStore63(a,"client_transfer_cancel")};e.$ReactComposerLoggingStore19=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore58(a,"remove_photo");this.$ReactComposerLoggingStore64(a,"MEDIA")};e.$ReactComposerLoggingStore20=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore64(a,"MEDIA")};e.$ReactComposerLoggingStore21=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore58(a,"add_video")};e.$ReactComposerLoggingStore22=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore58(a,"remove_video");this.$ReactComposerLoggingStore64(a,"MEDIA")};e.$ReactComposerLoggingStore23=function(a){a=this.validateAction(a,["composerID","taggerID","sourceLoggingName"]);var b=a[0],c=a[1];a=a[2];var d=this.$ReactComposerLoggingStore65(c);d!==null||h(0,4216,c);d&&this.$ReactComposerLoggingStore60(b,d,a)};e.$ReactComposerLoggingStore24=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var b=a[0];a=a[1];var d=c("ReactComposerTaggerStore").getSelectedTagger(b),e=null;switch(d){case c("ReactComposerTaggerType").PEOPLE:this.$ReactComposerLoggingStore59(b,"WITH_TAG",a);e="intent_friend_tag";break;case c("ReactComposerTaggerType").LOCATION:this.$ReactComposerLoggingStore59(b,"LOCATION",a);e="intent_location";break;case c("ReactComposerTaggerType").ACTIVITY:this.$ReactComposerLoggingStore59(b,"MINUTIAE",a);e="intent_minutiae";break;case c("ReactComposerTaggerType").MESSAGING:this.$ReactComposerLoggingStore59(b,"GET_MESSAGES",a);break;case c("ReactComposerTaggerType").COVID_BUSINESS_POST:break;default:d=this.$ReactComposerLoggingStore65(d);d&&this.$ReactComposerLoggingStore59(b,d,a);break}if(e===null)return;this.$ReactComposerLoggingStore58(b,e)};e.$ReactComposerLoggingStore25=function(a){a=this.validateAction(a,["composerID","taggerID","sourceLoggingName"]);var b=a[0],c=a[1];a=a[2];var d=this.$ReactComposerLoggingStore65(c);d!==null||h(0,4216,c);d&&this.$ReactComposerLoggingStore64(b,d,a)};e.$ReactComposerLoggingStore27=function(a){a=this.validateAction(a,["composerID","sproutType"]);var b=a[0];a=a[1];var d=c("ReactComposerStore").getComposerData(b),e=d.actorID;d=d.isActorAPage;d?this.$ReactComposerLoggingStore58(b,"composer_post",{extraData:{posting_as_page_id:e,selected_features:{selected_sprouts:[a]}}}):this.$ReactComposerLoggingStore58(b,"composer_post")};e.$ReactComposerLoggingStore28=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.perfTimes.postStartTime=c("performanceAbsoluteNow")();b=c("ReactComposerStore").getTargetType(a);var e=c("ReactComposerStore").getRef(a),f=c("ReactComposerStore").getComposerData(a),g=f.actorID;f=f.isActorAPage;c("QuickPerformanceLogger").markerStart(c("qpl")._(917556,"5174"));c("QuickPerformanceLogger").markerAnnotate(c("qpl")._(917556,"5174"),{string:{targetType:b}});c("QuickPerformanceLogger").markerAnnotate(c("qpl")._(917556,"5174"),{string:{ref:e}});e=d("ComposerStructuredLoggerUtil").getDestinationsData(a);if(b==="page"||f){b={selected_sprouts:d("ReactPagesComposerLoggingUtils").getSelectedSprouts(a)};this.$ReactComposerLoggingStore58(a,"composer_post",{extraData:babelHelpers["extends"]({},e,{posting_as_page_id:f?g:null,selected_features:b})})}else this.$ReactComposerLoggingStore58(a,"composer_post",{extraData:babelHelpers["extends"]({},e)});this.$ReactComposerLoggingStore66(a)&&(this.$ReactComposerLoggingStore63(a,"client_publish_begin",this.$ReactComposerLoggingStore67(a)),c("ReactComposerPhotoStore").getPhotos(a).forEach(function(a){a.faceboxes.forEach(function(b){return new(c("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent("client_photo_published").setPhotoFbid(a.id).setFaceBoxID(b.id).setRecognizedUser(b.recognizedSubjectID).setTaggedUser(b.taggedSubjectID).log()})}));this.$ReactComposerLoggingStore68(a,"post")};e.$ReactComposerLoggingStore29=function(a){var b=this.validateAction(a,"composerID"),d=this.getComposerData(b);this.$ReactComposerLoggingStore58(b,"composer_post_success",{extraData:{logging_ids:a.loggingToken}});c("QuickPerformanceLogger").markerEnd(c("qpl")._(917556,"5174"),2);this.$ReactComposerLoggingStore62(b,"client_post_succeeded",{extraData:{attachment_type:c("ReactComposerAttachmentStore").getSelectedAttachmentID(b),duration:c("performanceAbsoluteNow")()-d.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore66(b)){a=this.$ReactComposerLoggingStore67(b);this.$ReactComposerLoggingStore63(b,"client_publish_success",a);this.$ReactComposerLoggingStore63(b,"client_flow_success")}};e.$ReactComposerLoggingStore30=function(a){var b=this.validateAction(a,"composerID"),d=this.getComposerData(b);this.$ReactComposerLoggingStore58(b,"composer_post_failure");c("QuickPerformanceLogger").markerEnd(c("qpl")._(917556,"5174"),87);this.$ReactComposerLoggingStore62(b,"client_post_failed",{extraData:{attachment_type:c("ReactComposerAttachmentStore").getSelectedAttachmentID(b),duration:c("performanceAbsoluteNow")()-d.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore66(b)){d=a.response;a=Object.assign(this.$ReactComposerLoggingStore67(b),{error_code:d&&d.getError&&d.getError(),error_info:d&&d.getErrorDescription&&d.getErrorDescription()});this.$ReactComposerLoggingStore63(b,"client_publish_fail",a)}};e.$ReactComposerLoggingStore31=function(a){a=this.validateAction(a,["composerID","numPhotos","method"]);var b=a[0],c=a[1];a=a[2];c={method:a,volume:c};this.$ReactComposerLoggingStore63(b,"client_flow_begin",null,{logOncePerSession:!0});a!=="file_selector"&&this.$ReactComposerLoggingStore63(b,"client_select_begin");this.$ReactComposerLoggingStore63(b,"client_select_success",c)};e.$ReactComposerLoggingStore32=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore63(a,"client_photo_edit_begin")};e.$ReactComposerLoggingStore33=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore63(a,"client_photo_edit_success")};e.$ReactComposerLoggingStore34=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore63(a,"client_transfer_manual_retry")};e.$ReactComposerLoggingStore35=function(a){a=this.validateAction(a,["photoID","facebox"]);var b=a[0];a=a[1];var d=a.bestRecognition,e=null;d&&(e=d.subjectID);new(c("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent("recognition_received_by_client").setPhotoFbid(b).setFaceBoxID(a.id).setRecognizedUser(e).log()};e.$ReactComposerLoggingStore36=function(a){a=this.validateAction(a,["photos","facerecWaterfallEvent"]);var b=a[0],d=a[1];b.forEach(function(a){new(c("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent(c("nullthrows")(d)).setPhotoFbid(a).log()})};e.$ReactComposerLoggingStore41=function(a){var b=this.validateAction(a,"composerID"),d=a.attachmentConfig;this.$ReactComposerLoggingStore58(b,"composer_feature_update",{extraData:{feature_type:c("ReactComposerFeatureType").LINK,source:a.sourceLoggingName,app_content_id:d==null?void 0:(b=d.content_attachment_data)==null?void 0:b.id}})};e.$ReactComposerLoggingStore42=function(a){var b=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore64(b,c("ReactComposerFeatureType").PRIVACY,a.sourceLoggingName)};e.$ReactComposerLoggingStore43=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore58(a,"composer_cancel")};e.$ReactComposerLoggingStore44=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore68(a,"cancel");this.$ReactComposerLoggingStore58(a,"navigate_away")};e.$ReactComposerLoggingStore45=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore59(b,c("ReactComposerFeatureType").COLLECTIONS,a)};e.$ReactComposerLoggingStore46=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore60(b,c("ReactComposerFeatureType").COLLECTIONS,a)};e.$ReactComposerLoggingStore47=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore64(b,c("ReactComposerFeatureType").COLLECTIONS,a);Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),a)&&this.$ReactComposerLoggingStore58(b,a.toLowerCase(),{extraData:{profile_channel_audience_type:c("ReactComposerAudienceStore").getPrivacyLabel(b)}})};e.$ReactComposerLoggingStore48=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var b=a[0];a=a[1];this.$ReactComposerLoggingStore59(b,c("ReactComposerFeatureType").COLLECTION_CREATION,a);Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),a)&&this.$ReactComposerLoggingStore58(b,a.toLowerCase())};e.$ReactComposerLoggingStore49=function(a){a=this.validateAction(a,["composerID","sourceLoggingName","isCancel"]);var b=a[0],d=a[1];a=a[2];a=a?this.$ReactComposerLoggingStore61.bind(this):this.$ReactComposerLoggingStore60.bind(this);a(b,c("ReactComposerFeatureType").COLLECTION_CREATION,d);Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),d)&&this.$ReactComposerLoggingStore58(b,d.toLowerCase(),{extraData:{profile_channel_audience_type:c("ReactComposerAudienceStore").getPrivacyLabel(b)}})};e.$ReactComposerLoggingStore50=function(a){a=this.validateAction(a,["composerID","sourceLoggingName","spaceCount"]);var b=a[0],d=a[1];a=a[2];Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),d)&&this.$ReactComposerLoggingStore58(b,d.toLowerCase(),{extraData:{space_count:a}})};e.$ReactComposerLoggingStore51=function(a){a=this.validateAction(a,["composerID","sourceLoggingName"]);var b=a[0];a=a[1];Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),a)&&this.$ReactComposerLoggingStore58(b,a.toLowerCase(),{extraData:{profile_channel_audience_type:c("ReactComposerAudienceStore").getPrivacyLabel(b)}})};e.$ReactComposerLoggingStore40=function(a){var b=this.validateAction(a,["composerID","visibilityMap","event","sproutsState"]),d=b[0],e=b[1],f=b[2];b=b[3];this.$ReactComposerLoggingStore58(d,f,{extraData:{sprouts_visibilities:e,state:b===c("ReactComposerSproutsDisplayState").INLINE?"collapsed":"expanded_default",promoted_sprout_name:a.promotedSprout,promotion_id:a.promotionID}})};e.$ReactComposerLoggingStore52=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore69(a)};e.$ReactComposerLoggingStore53=function(a){a=this.validateAction(a,"composerID");this.$ReactComposerLoggingStore70(a)};e.$ReactComposerLoggingStore54=function(a){var b=this.validateAction(a,"composerID"),d=c("ReactComposerStore").getComposerData(b);d=d.actorID;a=a.type===c("PagesComposerActionTypes").PAGES_COMPOSER_VOICE_SWITCHER_CLICK?"pages_composer_voice_switcher_click":"pages_composer_voice_switcher_actor_change";this.$ReactComposerLoggingStore58(b,a,{extraData:{posting_as_page_id:d}})};e.$ReactComposerLoggingStore56=function(a){a=this.validateAction(a,"composerID");var b=c("ReactComposerStore").getComposerData(a);b=b.actorID;this.$ReactComposerLoggingStore58(a,"pages_composer_help_center_click",{extraData:{posting_as_page_id:b}})};e.$ReactComposerLoggingStore55=function(a){var b=this.validateAction(a,"composerID"),d=c("ReactComposerStore").getComposerData(b);d=d.actorID;var e=null;switch(a.type){case c("PagesComposerInstagramAudienceActionTypes").CLOSE_INSTAGRAM_AUTH_DIALOG:e="pages_composer_instagram_auth_dialog_close";break;case c("PagesComposerInstagramAudienceActionTypes").INSTAGRAM_AUTH_FAIL:e="pages_composer_instagram_auth_failure";break;case c("PagesComposerInstagramAudienceActionTypes").INSTAGRAM_AUTH_SUCCEED:e="pages_composer_instagram_auth_success";break;case c("PagesComposerInstagramAudienceActionTypes").OPEN_INSTAGRAM_AUTH_DIALOG:e="pages_composer_instagram_auth_dialog_open";break;default:e="pages_composer_instagram_auth_dialog_open";break}this.$ReactComposerLoggingStore58(b,e,{extraData:{posting_as_page_id:d}})};e.$ReactComposerLoggingStore26=function(a){a=this.validateAction(a,["composerID","taggerID","event","extraData"]);var b=a[0],c=a[1],d=a[2];a=a[3];c=this.$ReactComposerLoggingStore65(c);this.$ReactComposerLoggingStore58(b,d,{extraData:babelHelpers["extends"]({feature_type:c},a)})};e.$ReactComposerLoggingStore66=function(a){var b=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,c("ReactComposerAttachmentType").MEDIA);a=c("ReactComposerMediaUploadStore").getUploadsOfType(a,d("ReactComposerMediaUploadType").PHOTO);return b&&!!a.size};e.$ReactComposerLoggingStore67=function(a){var b=c("ReactComposerTaggerStore").getTaggerData(a,c("ReactComposerTaggerType").PEOPLE)||[],d=c("ReactComposerMediaUploadStore").getTotalNumberOfStickersOnPhotos(a);return{volume:c("ReactComposerPhotoStore").getPhotos(a).size,with_tag_count:b.length,sticker_count:d}};e.$ReactComposerLoggingStore59=function(a,b,d,e){var f=c("ReactComposerStore").getComposerData(a),g=f.actorID;f=f.isActorAPage;this.$ReactComposerLoggingStore58(a,"composer_feature_intent",{extraData:babelHelpers["extends"]({feature_type:b,source:d,posting_as_page_id:f?g:null},e&&{sprout_surface:e})})};e.$ReactComposerLoggingStore64=function(a,b,c){this.$ReactComposerLoggingStore58(a,"composer_feature_update",{extraData:{feature_type:b,source:c}})};e.$ReactComposerLoggingStore61=function(a,b,c){this.$ReactComposerLoggingStore58(a,"composer_feature_cancel",{extraData:{feature_type:b,source:c}})};e.$ReactComposerLoggingStore60=function(a,b,c){this.$ReactComposerLoggingStore58(a,"composer_feature_done",{extraData:{feature_type:b,source:c}})};e.$ReactComposerLoggingStore69=function(a){this.$ReactComposerLoggingStore58(a,"composer_focus_acquired")};e.$ReactComposerLoggingStore70=function(a){this.$ReactComposerLoggingStore58(a,"composer_focus_lost")};e.$ReactComposerLoggingStore58=function(a,b,e){var f=this;e===void 0&&(e={});var g=this.getComposerData(a);if(g.uniqueEvents.has(b)){if(g.uniqueEvents.get(b))return;g.uniqueEvents=g.uniqueEvents.set(b,!0)}c("ReactComposerStore").getRef(a)==="timeline/recent_posts"&&c("Bootloader").loadModules(["FeedbackDigestNotifTypedLogger"],function(d){new d().setComposerWaterfallEvent(b).addToExtraData("payload",JSON.stringify(f.$ReactComposerLoggingStore71(a))).addToExtraData("message",c("ReactComposerStatusStore").getMessageText(a)).log()},"ReactComposerLoggingStore");e.extraData=babelHelpers["extends"]({payload:this.$ReactComposerLoggingStore71(a),displayed_sprouts:c("ReactComposerStore").getDisplayedSprouts(a),ordered_sprouts:c("ReactComposerStore").getOrderedSprouts(a),ranker_request_id:c("ReactComposerStore").getRankerRequestID(a),sprout_surface:c("ReactComposerStore").getSproutSurface(a)},e.extraData);g=c("ReactComposerStore").getComposerData(a);var h=g.isActorAPage;g=g.pageComposerDestinationsConfig;h&&(e.extraData=babelHelpers["extends"]({post_text:c("ReactComposerStatusStore").getMessageText(a),post_action_type:d("ComposerStructuredLoggerUtil").getPostActionType(a)},e.extraData),g&&(e.extraData=babelHelpers["extends"]({is_sharesheet_enabled:g.isSharesheetEnabled,show_story_section:g.showStorySection,show_instagram_section:g.showInstagramSection,show_group_section:g.showGroupSection,is_instagram_authenticated:g.isInstagramAuthenticated},e.extraData)));d("ComposerXMarauderLogger").logEvent(b,a,e)};e.$ReactComposerLoggingStore62=function(a,b,c){c===void 0&&(c={});var e=this.getComposerData(a);if(e.uniqueEvents.has(b)){if(e.uniqueEvents.get(b))return;e.uniqueEvents=e.uniqueEvents.set(b,!0)}d("ReactComposerPerfLogger").logEvent(b,a,c)};e.$ReactComposerLoggingStore63=function(a,b,d,e,f){var g=this.getComposerData(a);if(g.uniqueEvents.has(b)){if(g.uniqueEvents.get(b))return;g.uniqueEvents=g.uniqueEvents.set(b,!0)}this.logPUWStep(b,this.getSessionID(a),"web_react_composer",c("ReactComposerStore").getRef(a),d,e,f)};e.$ReactComposerLoggingStore57=function(){while(d("ReactComposerLoggingQueue").getLength()>0){var a=d("ReactComposerLoggingQueue").pop();this.handler(a)}};e.$ReactComposerLoggingStore71=function(a){var b={character:c("ReactComposerStatusStore").getTextLength(a),location_tag:c("ReactComposerTaggerStore").hasLocationTag(a)?1:0,implicit_location:c("ReactComposerTaggerStore").hasImplicitLocation(a)?1:0,minutiae:c("ReactComposerTaggerStore").hasMinutiae(a)?1:0,with_who_tag:c("ReactComposerTaggerStore").getNumberOfWithWhoTags(a),photo:c("ReactComposerMediaUploadStore").getNonsphericalPhotoCount(a),three_sixty_photo:c("ReactComposerMediaUploadStore").getSphericalPhotoCount(a),asset_3d:c("ReactComposerAsset3dAttachmentStore").getAsset3DInput(a)?1:0,video:c("ReactComposerMediaUploadStore").getUploadsCount(a,d("ReactComposerMediaUploadType").VIDEO),shared_link:c("ReactComposerScrapedAttachmentStore").hasAttachment(a)?1:0,backdated:c("ReactComposerTaggerStore").hasBackdate(a)?c("ReactComposerTaggerStore").getTaggerData(a,c("ReactComposerTaggerType").BACKDATE):null,audience:c("ReactComposerAudienceStore").getAudience(a),collection:c("ReactComposerAudienceStore").getCollectionID(a)};c("ifRequired")("ReactComposerCTAStore",function(c){c=c.getCTAType(a);c&&(b[c.toLowerCase()]=1)});c("ReactComposerTaggerStore").hasNonprofit(a)&&(b=babelHelpers["extends"]({},b,{fundraiser:1}));c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,c("ReactComposerAttachmentType").LIST)&&(b=babelHelpers["extends"]({},b,{list:1}));c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,c("ReactComposerAttachmentType").VISUAL_POLL)&&(b=babelHelpers["extends"]({},b,{poll:1}));c("ReactComposerTaggerStore").getTaggerData(a,c("ReactComposerTaggerType").PRODUCT).length>0&&(b=babelHelpers["extends"]({},b,{product:1}));return b};e.$ReactComposerLoggingStore65=function(a){switch(a){case c("ReactComposerTaggerType").PEOPLE:return"WITH_TAG";case c("ReactComposerTaggerType").LOCATION:return"LOCATION";case c("ReactComposerTaggerType").ACTIVITY:return"MINUTIAE";case c("ReactComposerTaggerType").BACKDATE:return"BACKDATE";case c("ReactComposerTaggerType").SPONSOR:return"SPONSOR_TAG";case c("ReactComposerTaggerType").PRODUCT:return"TAG_PRODUCT";case c("ReactComposerTaggerType").PAGE_CTA:return c("ReactComposerFeatureType").PAGE_CTA;case c("ReactComposerTaggerType").FORMATTED_TEXT:case c("ReactComposerTaggerType").FORMATTED_TEXT_TRAY:return"TEXT_BACKGROUND";case c("ReactComposerTaggerType").STICKER:return"STICKER";case c("ReactComposerTaggerType").GIF:return"GIF";case c("ReactComposerTaggerType").VIDEO_SUGGESTIONS:return"VIDEO_SUGGESTIONS";case c("ReactComposerTaggerType").MESSAGING:return c("ReactComposerFeatureType").MESSAGING;case c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE:return"CONTACT_YOUR_REPRESENTATIVE";case c("ReactComposerTaggerType").FUN_FACT:return"FUN_FACT";case c("ReactComposerTaggerType").FUNDRAISER:return"FUNDRAISER";case c("ReactComposerTaggerType").ALBUM:return c("ReactComposerFeatureType").ALBUM;case c("ReactComposerTaggerType").VISUAL_POLL:return"VISUAL_POLLS";case c("ReactComposerTaggerType").TODO_LIST:return"TODO_LIST";case c("ReactComposerTaggerType").RECOMMENDATION:return"RECOMMENDATION";case c("ReactComposerTaggerType").SALES_PROMO:return"SALES_PROMO";case c("ReactComposerTaggerType").TAG_EVENT:return"TAG_EVENT";case c("ReactComposerTaggerType").BREAKING_NEWS:return c("ReactComposerFeatureType").BREAKING_NEWS;case c("ReactComposerTaggerType").PLAY_WITH_FRIENDS:return"PLAY_WITH_FRIENDS";case c("ReactComposerTaggerType").LOCAL_ALERTS:return c("ReactComposerFeatureType").LOCAL_ALERTS;case c("ReactComposerTaggerType").GET_SHOWTIMES:return c("ReactComposerFeatureType").GET_SHOWTIMES;case c("ReactComposerTaggerType").PAGES_INTERCEPTION:return c("ReactComposerFeatureType").PAGES_INTERCEPTION;case c("ReactComposerTaggerType").GROUP_JOIN_CTA:return"GROUP_JOIN_CTA";case c("ReactComposerTaggerType").WORK_FILE:return"WORK_FILE";case c("ReactComposerTaggerType").SUPPORT_NOW:return"SUPPORT_NOW";case c("ReactComposerTaggerType").AMA:return"AMA";case c("ReactComposerTaggerType").RECRUITING_CANDIDATE:return"RECRUITING_CANDIDATE";case c("ReactComposerTaggerType").CHATROOM:return"CHATROOM";case c("ReactComposerTaggerType").PAID_VIRTUAL_EVENT_GATED_POST:return"PAID_VIRTUAL_EVENT_GATED_POST";case c("ReactComposerTaggerType").BC_SUPPORT:return"BC_SUPPORT";case c("ReactComposerTaggerType").COVID_BUSINESS_POST:return"COVID_BUSINESS_POST";case c("ReactComposerTaggerType").VIDEO_MEETUP:return"VIDEO_MEETUP";case c("ReactComposerTaggerType").WORK_CHECKLIST:return"WORK_CHECKLIST";case c("ReactComposerTaggerType").JOB_SEARCH:return"JOB_SEARCH";default:return null}};e.$ReactComposerLoggingStore68=function(a,b){c("ifRequired")("ReactComposerFormattedTextStore",function(d){var e=d.getTextFormatPresetID(a)||d.getPrevSelectedTextFormatPresetID(a),f=d.getTrackingString(a);e&&c("ifRequired")("SATPInteractionsTypedLogger",function(a){new a().setTrackingString(f).setUserActionString(b).setPresetID(e).setRequestedCollection("COMPOSER_TOP").log()})})};return b}(c("classWithMixins")(c("ReactComposerStoreBase"),c("mixin")(d("PhotosUploadWaterfallXMixin"))));b=new a();g["default"]=b}),98);
__d("PUWMethods",[],(function(a,b,c,d,e,f){a=Object.freeze({DRAGDROP:"dragdrop",FILE_SELECTOR:"file_selector",VAULT:"vault",RECENT_PHOTOS:"recent_photos",PHOTOS_OF_YOU:"photos_of_you",METHOD_EDITOR:"editor",SUGGESTIONS:"suggestions",CAMERA:"camera",COPYPASTE:"copypaste",DISABLE_SPHERICAL:"disable_spherical"});f["default"]=a}),66);
__d("ReactComposerLoggingName",[],(function(a,b,c,d,e,f){a=Object.freeze({ADVERTISE_SPROUT:"advertise_sprout",ALBUM:"album",ALBUM_SPROUT:"album_sprout",ALBUM_TAB_SELECTOR:"album_tab_selector",ALBUM_TAGGER:"album_tagger",AMA_SPROUT:"ama_sprout",APP_INTEGARTION_TASKS:"app_integration_tasks",APP_INTEGRATION_AODOCS:"app_integration_aodocs",APP_INTEGRATION_BOX:"app_integration_box",APP_INTEGRATION_CORNERSTONE:"app_integration_cornerstone",APP_INTEGRATION_DROPBOX:"app_integration_dropbox",APP_INTEGRATION_EGNYTE:"app_integration_egnyte",APP_INTEGRATION_GDRIVE:"app_integration_gdrive",APP_INTEGRATION_GDRIVE_FOR_WORKROOMS:"app_integration_gdrive_for_workrooms",APP_INTEGRATION_JIRA:"app_integration_jira",APP_INTEGRATION_ONEDRIVE:"app_integration_onedrive",APP_INTEGRATION_ONEDRIVE_FOR_WORKROOMS:"app_integration_onedrive_for_workrooms",APP_INTEGRATION_QUIP:"app_integration_quip",APP_INTEGRATION_SHAREPOINT:"app_integration_sharepoint",APP_INTEGRATION_TRELLO:"app_integration_trello",ASSET_3D:"asset_3d",AUDIENCE_SELECTOR:"audience_selector",AYMT_CTA_UPSELL:"aymt_cta_upsell",BACKDATE_TAG_SPROUT:"backdate_tag_sprout",BACKDATE_TAGGER:"backdate_tagger",BC_SUPPORT:"bc_support",BLOOD_DONATION:"blood_donation",BREAKING_NEWS:"breaking_news",BREAKING_NEWS_SPROUT:"breaking_news_sprout",CALL_NOW_SPROUT:"call_now_sprout",CANVAS_EDITOR:"canvas_editor",CHATROOM:"chatroom",CHEVRON_MENU_EDIT_POST:"chevron_menu/edit_post",CIVIC_PROPOSAL:"civic_proposal",COLLECTION_CLEAR_BUTTON:"collection_clear_button",COLLECTION_SELECTED:"collection_selected",COLLECTIONS_CREATE_CANCEL_BUTTON:"collections_create_cancel_button",COLLECTIONS_CREATE_SHARING_SPACE_CANCEL_BUTTON:"collections_create_sharing_space_cancel_button",COLLECTIONS_CREATE_SHARING_SPACE_SUBMIT_BUTTON:"collections_create_sharing_space_submit_button",COLLECTIONS_CREATE_SUBMIT_BUTTON:"collections_create_submit_button",COLLECTIONS_SELECTOR_BUTTON:"collections_selector_button",COLLECTIONS_SELECTOR_CREATE_BUTTON:"collections_selector_create_button",COLLECTIONS_SELECTOR_CREATE_SHARING_SPACE_BUTTON:"collections_selector_create_sharing_space_button",COMMUNITY_GIVING:"community_giving",COMMUNITY_HELP_DRIVE_SPROUT:"community_help_drive_sprout",COMMUNITY_QA_SPROUT:"community_qa_sprout",CONTACT_YOUR_REPRESENTATIVE_SPROUT:"contact_your_representative_sprout",CONTACT_YOUR_REPRESENTATIVE_TAGGER:"contact_your_representative_tagger",CONTENT_WARNINGS_TAGGER:"content_warnings_tagger",COVID_BUSINESS_POST_SPROUT:"covid_business_post_sprout",CRISIS_BOOKMARK:"crisis_bookmark",CRISIS_PAGE:"crisis_page",CTA_UPSELL:"cta_upsell",DELETE_POST_EDIT_BUTTON:"delete_post_dialog/edit_post_button",DISCUSSION_POST_SPROUT:"discussion_post_sprout",DOC_SPROUT:"doc_sprout",DOC_TAB_SELECTOR:"doc_tab_selector",DRAFT_FOR_SPROUT:"draft_for_sprout",DRAFT_FOR_TAB_SELECTOR:"draft_for_tab_selector",ELLIPSIS_SPROUT:"ellipsis_sprout",ESCAPE_KEY:"escape_key",EVENT_IMPORT_BY_INTERCEPT:"event_import_by_intercept",EVENT_SPROUT:"event_sprout",EVENT_TAB_SELECTOR:"event_tab_selector",FB_COLLECTIBLE_SPROUT:"fb_collectible_sprout",FB_NOTE:"fb_note",FILE_DROPPED:"file_dropped",FILE_SPROUT:"file_sprout",FILE_TAB_SELECTOR:"file_tab_selector",FIND_PLAYERS_SPROUT:"find_players_sprout",FISHBOWL_SPROUT:"fishbowl_sprout",FORMATTED_TEXT_BUTTON:"formatted_text_button",FORMATTED_TEXT_SPROUT:"formatted_text_sprout",FORMATTED_TEXT_TAGGER:"formatted_text_tagger",FRIEND_TAG_SPROUT:"friend_tag_sprout",FUN_FACT:"fun_fact",FUN_FACT_SPROUT:"fun_fact_sprout",FUNDRAISER_SPROUT:"fundraiser_sprout",GAME_TAB_SELECTOR:"game_tab_selector",GET_BOOKINGS_SPROUT:"get_bookings_sprout",GET_DIRECTIONS_SPROUT:"get_directions_sprout",GET_MESSAGES_SPROUT:"get_messages_sprout",GET_PHONE_CALLS_SPROUT:"get_phone_calls_sprout",GET_QUOTE_SPROUT:"get_quote_sprout",GET_SHOPS_SPROUT:"get_shops_sprout",GET_SHOWTIMES_SPROUT:"get_showtimes_sprout",GET_SHOWTIMES_TAGGER:"get_showtimes_tagger",GET_TICKET_SPROUT:"get_ticket_sprout",GET_WHATSAPP_MESSAGES_SPROUT:"get_whatsapp_messages_sprout",GIF_SPROUT:"gif_sprout",GIFT_CARD_SPROUT:"gift_card_sprout",GROUP_ANONYMOUS_POST_INLINE_COMPOSER:"group_anonymous_post_inline_composer",GROUP_ANONYMOUS_POST_SELECTOR:"group_anonymous_post_selector",GROUP_JOIN_CTA:"group_join_cta",GROUP_MEET_UP:"group_meet_up",GROUP_MEET_UP_SELECTOR:"group_meet_up_selector",GROUP_MEETUP_EDIT_BUTTON:"group_meetup_edit_button",GROUP_POLL_SPROUT:"group_poll_sprout",GROUP_SELECTOR:"group_selector",GROUP_VOTER_PLEDGE_DRIVE_SPROUT:"group_voter_pledge_drive_sprout",GROUP_WELCOME_POST:"group_welcome_post",HASHTAG:"hashtag",INLINE_COMPOSER:"inline_composer",JOB_POST_ATTACHMENT:"job_post_attachment",JOBS_COMPOSER:"jobs_composer",JOBS_SPROUT:"jobs_sprout",JOBS_TAB_SELECTOR:"jobs_tab_selector",KNOWLEDGE_NOTES_SELECTOR:"knowledge_notes_selector",LEARNING_COURSE_TAB_SELECTOR:"learning_course_tab_selector",LEARNING_THIRD_PARTY_LINK_TAB_SELECTOR:"learning_third_party_link_tab_selector",LIFE_EVENT:"life_event",LINK_DROPPED:"link_dropped",LINK_PASTED:"link_pasted",LINK_REMOVE_BUTTON:"link_remove_button",LINK_SPROUT:"link_sprout",LIST_SPROUT:"list_sprout",LIVE_GROUP_ROOM_SPROUT:"live_group_room_sprout",LIVE_VIDEO_SPROUT:"live_video_sprout",LIVE_VIDEO_TAB_SELECTOR:"live_video_tab_selector",LIVING_ROOM_GROUPS_PILL:"living_room_groups_pill",LIVING_ROOM_SHARE_BUTTON:"living_room_share_button",LIVING_ROOM_SPROUT:"living_room_sprout",LOCAL_ALERTS:"local_alerts",LOCAL_ALERTS_SPROUT:"local_alerts_sprout",LOCAL_DEV_PLATFORM_SPROUT:"local_dev_platform_sprout",LOCATION_TAG_SPROUT:"location_tag_sprout",LOCATION_TAGGER:"location_tagger",LOOKING_FOR_PLAYERS:"looking_for_players",MARKDOWN_TAGGER:"markdown_tagger",MARKETPLACE:"marketplace",MEDIA_ATTACHMENT_UPLOAD_BUTTON:"media_attachment_upload_button",MEDIA_COLLAGE_PLUS_BUTTON:"media_collage_plus_button",MEDIA_COMPOSER_ON_INIT:"media_composer_on_init",MEDIA_FILE_DROPPED:"media_file_dropped",MEDIA_FILE_PASTED:"media_file_pasted",MEDIA_FOLDER_DROPPED:"media_folder_dropped",MEDIA_INLINE_ENTRY:"media_inline_entry",MEDIA_SPROUT:"media_sprout",MEDIA_TAB_SELECTOR:"media_tab_selector",MEDIA_TAGGER:"media_tagger",MEDIA_UPLOADS_PLUS_BUTTON:"media_uploads_plus_button",MEMETRON:"memetron",MENTIONS_INPUT_FOCUS:"mentions_input_focus",MESSAGING_TAGGER:"messaging_tagger",MESSENGER_PHOTO_VIEWER_SHARE:"messenger_photo_viewer_share",MILESTONE_SPROUT:"milestone_sprout",MINUTIAE_SPROUT:"minutiae_sprout",MINUTIAE_TAGGER:"minutiae_tagger",MLE_TAB_SELECTOR:"mle_tab_selector",MODAL_PAGE_INVITE_DASHBOARD:"modal_page_invite_dashboard",MULTILINGUAL_SPROUT:"multilingual_sprout",MUSIC_SPROUT:"music_sprout",NEON_SPROUT:"neon_sprout",NOTES_SPROUT:"notes_sprout",NOTES_TAB_SELECTOR:"notes_tab_selector",ORDER_FOOD_SPROUT:"order_food_sprout",OTHERS:"others",PAGES_ACTION_BAR_RECOMMEND:"pages_action_bar_recommend",PAGES_CTA_SELECTOR:"pages_cta_selector",PAGES_EXTRA_TAB_SELECTOR:"pages_extra_tab_selector",PAGES_INTERCEPTION_TAGGER:"pages_interception_tagger",PAID_VIRTUAL_EVENT_GATED_POST_TAGGER:"paid_virtual_event_gated_post_tagger",PEOPLE_TAGGER:"people_tagger",PEOPLE_TAGGER_SPROUT:"people_tagger_sprout",PHOTO_SPROUT:"photo_sprout",PHOTO_UPLOAD_DONE:"photo_upload_done",PLAY_WITH_FRIENDS_SPROUT:"play_with_friends_sprout",PREFILL_HOLIDAY_CARD_SHARE_BUTTON:"prefill_holiday_card_share_button",PRODUCT_TAG_SPROUT:"product_tag_sprout",PRODUCT_TAGGER:"product_tagger",PRODUCT_TAGGER_BANNER_UPSELL:"product_tagger_banner_upsell",PRODUCTS_TAG_SPROUT:"products_tag_sprout",PROMPT:"prompt",PUBLISHER_ABTEST_HOLDOUT_TAGGER:"publisher_abtest_holdout_tagger",QA_TAB_SELECTOR:"qa_tab_selector",QANDA_SPROUT:"qanda_sprout",QANDA_TAB_SELECTOR:"qanda_tab_selector",QUESTION_SPROUT:"question_sprout",QUESTION_TAB_SELECTOR:"question_tab_selector",QUICKSILVER_SHARE_SCORE_BUTTON:"quicksilver_share_score_button",QUILT_SPROUT:"quilt_sprout",QUIZ_TAB_SELECTOR:"quiz_tab_selector",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",RECOMMENDATIONS_SPROUT:"recommendations_sprout",RECOMMENDATIONS_TAB_SELECTOR:"recommendations_tab_selector",RECRUITING_CANDIDATE:"recruiting_candidate",REP_TAGGING:"rep_tagging",SALES_PROMO_SPROUT:"sales_promo_sprout",SALES_PROMO_TAB_SELECTOR:"sales_promo_tab_selector",SCHEDULE_POST_SPROUT:"schedule_post_sprout",SELL_SOMETHING_SPROUT:"sell_something_sprout",SELL_TAB_SELECTOR:"sell_tab_selector",SEND_GIFT_TAB_SELECTOR:"send_gift_tab_selector",SHARE_NOW_MENU_ADD_TO_STORY:"share_now_menu/add_to_story",SHARE_NOW_MENU_POST_TO_GROUP:"share_now_menu/post_to_group",SHARE_NOW_MENU_SEND_MESSAGE:"share_now_menu/send_message",SHARE_NOW_MENU_SHARE_FRIEND_TIMELINE:"share_now_menu/share_friend_timeline",SHARE_NOW_MENU_SHARE_TO_PAGE:"share_now_menu/share_to_page",SHARE_NOW_MENU_WRITE_POST:"share_now_menu/write_post",SHARING_SPACES_CREATE_NEW_ALBUM:"sharing_spaces_create_new_album",SHARING_SPACES_NEXT_BUTTON:"sharing_spaces_next_button",SHIFT_MANAGEMENT_COVER_SPROUT:"shift_management_cover_sprout",SHIFT_SWAP_CREATION:"shift_swap_creation",SOTTO_CTA_SPROUT:"sotto_cta_sprout",SPONSOR_SPROUT:"sponsor_sprout",SPONSOR_TAGGER:"sponsor_tagger",STARS_TAGGER:"stars_tagger",STATUS_TAB_SELECTOR:"status_tab_selector",STICKER_SPROUT:"sticker_sprout",SUPPORT_NOW_SPROUT:"support_now_sprout",SUPPORT_NOW_TAGGER:"support_now_tagger",TAG_EVENT:"tag_event",TAGGER_SUMMARY_CONTACT_YOUR_REPRESENTATIVE:"tagger_summary_row/contact_your_representative",TAGGER_SUMMARY_LOCATION:"tagger_summary_row/location_tagger",TAGGER_SUMMARY_MINUTIAE:"tagger_summary_row/minutiae_tagger",TAGGER_SUMMARY_PEOPLE:"tagger_summary_row/people_tagger",TAGGER_SUMMARY_ROW:"tagger_summary_row",TAGGER_SUMMARY_TAG_EVENT:"tagger_summary_row/event_tagger",TARGETING_TAGGER:"targeting_tagger",TASK_TAB_SELECTOR:"task_tab_selector",TEENS_AUDIENCE_SELECTOR:"teens_audience_selector",THIRD_PARTY:"third_party",TODO_LIST:"todo_list",VIDEO_EDITOR:"video_editor",VIDEO_MEETUP_SPROUT:"video_meetup_sprout",VIDEO_SPROUT:"video_sprout",VIDEO_SUGGESTIONS:"video_suggestions",VISUAL_POLL_SPROUT:"visual_poll_sprout",WOODHENGE_SUPPORT_SPROUT:"woodhenge_support_sprout",WORK_ACHIEVEMENT_SELECTOR:"work_achievement_selector",WORK_AMA_SPROUT:"work_ama_sprout",WORK_CHECKLIST_SPROUT:"work_checklist_sprout",WORK_COLLABORATION:"work_collaboration",WORK_FILE:"work_file",WORK_HASHTAG_SUGGESTIONS:"work_hashtag_suggestions",WORK_MULTI_ATTACHMENTS_SPROUT:"work_multi_attachments_sprout",WORK_OPEN_ROLES_SPROUT:"work_open_roles_sprout",WORK_POST_SUMMARY:"work_post_summary",WORK_SCHEDULE_LIVE_SPROUT:"work_schedule_live_sprout",WORK_SHARE_CANDIDATE_SPROUT:"work_share_candidate_sprout",WORK_SHARE_WHATS_NEW:"work_share_whats_new"});f["default"]=a}),66);
__d("ReactComposerPhotoLegacyLimitExceededDialog",["fbt","DOM","LayerDestroyOnHide","ReactLegacyShim_DEPRECATED","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");function a(a){var b=h._("Too many photos added");a=h._("You can only add {maxselect} photos to a post. To add more photos, try creating an album.",[h._param("maxselect",a)]);var e=c("DOM").create("div");d("ReactLegacyShim_DEPRECATED").render(i.jsxs(c("XUIDialog.react"),{shown:!0,behaviors:{LayerDestroyOnHide:c("LayerDestroyOnHide")},width:600,children:[i.jsx(c("XUIDialogTitle.react"),{children:i.jsx("span",{children:b})}),i.jsx(c("XUIDialogBody.react"),{children:a}),i.jsx(c("XUIDialogFooter.react"),{children:i.jsx(c("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"})})]}),e)}g.show=a}),98);
__d("ReactComposerVideoLegacyLimitExceededDialog",["fbt","ErrorDialog"],(function(a,b,c,d,e,f,g,h){function a(){d("ErrorDialog").show(h._("Too many files"),h._("Please select only one video file at a time."))}g.show=a}),98);
__d("ReactComposerVideoUploadStore",["ReactComposerStoreBase","ReactComposerVideoUploadActionType","immutable"],(function(a,b,c,d,e,f,g){var h=c("immutable").Record({file:null});a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;b=a.call(this,function(){return{uploader:null,video:null}},function(a){switch(a.type){case c("ReactComposerVideoUploadActionType").VIDEO_SET_UPLOADER:d&&d.$ReactComposerVideoUploadStore1(a);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_ADD:d&&d.$ReactComposerVideoUploadStore2(a);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_REMOVE:d&&d.$ReactComposerVideoUploadStore3(a);break;default:}})||this;d=babelHelpers.assertThisInitialized(b);return b}var d=b.prototype;d.getUploader=function(a){return this.getComposerData(a).uploader};d.getVideo=function(a){return this.getComposerData(a).video};d.isUploading=function(a){return this.getUploader(a).isUploading()};d.$ReactComposerVideoUploadStore1=function(a){a=this.validateAction(a,["composerID","uploader"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.uploader=a;this.emitChange(b)};d.$ReactComposerVideoUploadStore2=function(a){a=this.validateAction(a,["composerID","file"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.video=new h({file:a});this.emitChange(b)};d.$ReactComposerVideoUploadStore3=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.video=null;b.input&&b.input.clear();this.emitChange(a)};return b}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("ReactComposerVideoUploadActions",["ReactComposerDispatcher","ReactComposerVideoUploadActionType","ReactComposerVideoUploadStore"],(function(a,b,c,d,e,f,g){b("ReactComposerVideoUploadStore");function a(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerVideoUploadActionType").VIDEO_SET_UPLOADER,uploader:b})}function d(a,b){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_ADD,file:b})}function e(a){c("ReactComposerDispatcher").dispatch({composerID:a,type:c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_REMOVE})}g.setUploader=a;g.add=d;g.remove=e}),98);
__d("ReactComposerMediaUtils",["invariant","Arbiter","Bootloader","PagesComposerContextUtils","PagesComposerUtils","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerMediaFilterUtils","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPagesStore","ReactComposerPhotoActions","ReactComposerPhotoLegacyLimitExceededDialog","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoLegacyLimitExceededDialog","ReactComposerVideoUploadActions","ReactComposerVideoUploadStore","VideoUploadFeatureDetector","VideoUploadFile","VideoUploader","curry","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){if(a.input!==null){var c=j(a.getInput());(b||!l(c))&&a.clear()}}function i(a){var b=[];for(var c=0;c<a.length;c++)b.push(a[c].name);return b}function j(a){if(d("VideoUploadFeatureDetector").supportsFileAPI())return i(a.files);else return[a.value.split("/").pop().split("\\").pop()]}function k(a){return d("ReactComposerMediaFilterUtils").hasEditableVideos(a)}function l(a){return d("ReactComposerMediaFilterUtils").hasVideos(a)}function m(a){return d("ReactComposerMediaFilterUtils").hasAudioFiles(a)}function b(a){return d("ReactComposerMediaFilterUtils").filterVideos(a)}function e(a){return d("ReactComposerMediaFilterUtils").filterAudioFiles(a)}function f(a,b){return d("ReactComposerMediaFilterUtils").filterFileOfSupportedType(a,b)}function n(a,b){var e=c("ReactComposerMediaUploadStore").getUploadsOfType(a,d("ReactComposerMediaUploadType").PHOTO);e.size>0&&d("ReactComposerMediaUploadActions").removeAllPhotoUploads(a,e);d("ReactComposerVideoUploadActions").add(a,b)}function o(a,b,e,f,g,h){var i=e.isUploadLimitExceeded(f,b);if(i){d("ReactComposerPhotoLegacyLimitExceededDialog").show(e.getMaxSelectableFilesCount(f));return}i=b?b.length:1;if(i<1)return;c("ReactComposerVideoUploadStore").getVideo(a)&&d("ReactComposerVideoUploadActions").remove(a);d("ReactComposerMediaUploadActions").photosSelect(a,i,g);h&&h()}function p(a,b,e,f,g){if(g)r(a,b,e,f,g);else{if(b.files&&b.files.length>1){d("ReactComposerVideoLegacyLimitExceededDialog").show();return}n(a,c("VideoUploadFile").fromFileInput(b))}}function q(a,b,e,f,g,h){if(g)t(a,b,e,f,"file_selector",h);else{if(b&&b.length>1){d("ReactComposerVideoLegacyLimitExceededDialog").show();return}n(a,c("VideoUploadFile").fromFile(b[0]))}}function r(a,b,c,d,e){var f=C(a);f.upload(Array.from(b.files));o(a,b.files,c,d,"file_selector",function(){c&&c.upload(b)},e)}function s(a,b,c,d,e,f){var g=j(b);l(g)?p(a,b,c,d,e):o(a,b.files,c,d,"file_selector",function(){c&&c.upload(b,f)})}function t(a,b,d,e,f,g){f===void 0&&(f="file_selector");g=C(a,g);g.upload(b);var h=b.filter(function(a){return!l([a.name])});o(a,h,d,e,f,function(){h.forEach(function(a){a.uploadID=c("uniqueID")(),a.filename=""}),d.enqueueAsyncUploadRequest(a,h,{},{},!1)})}function u(a,b,d,e,f,g,h){f===void 0&&(f="file_selector");h===void 0&&(h=null);var j=i(b);l(j)?q(a,b,d,e,g,h):o(a,b,d,e,f,function(){b.forEach(function(a){a.uploadID=c("uniqueID")(),a.filename=""}),d.enqueueAsyncUploadRequest(a,b,{},{},!1)})}function v(a,b){return c("Arbiter").subscribe(["AttachmentsPhotoEditor/newImage"+a,"AttachmentsPhotoEditor/tagsUpdated"+a],c("curry")(w,a,b))}function w(a,b,e,f){if(e==="AttachmentsPhotoEditor/newImage"+a){var g=c("ReactComposerMediaUploadStore").getUploadsOfType(a,d("ReactComposerMediaUploadType").PHOTO);g=g.find(function(a){return a.photoID===f.fbid||a.originalPhotoID===f.fbid});var h=c("ReactComposerMediaUploadStore").getUploadIndex(a,g.id),i=f.blob;i.uploadID=c("uniqueID")();i.name=g.filename||c("uniqueID")();h=new Map([[i.uploadID,h]]);b&&b.enqueueAsyncUploadRequest(a,[i],{data:{original_fbid:f.fbid,xy_tags:f.xyTags,stickers:f.stickers,text_overlays:f.textOverlays,has_crop:f.hasCrop,has_filter:f.hasFilter},indexMap:h},{xyTags:f.xyTags},!1);d("ReactComposerPhotoActions").removePhoto(a,g.photoID,g.id);d("ReactComposerMediaUploadActions").photosSelect(a,1,"editor")}else e==="AttachmentsPhotoEditor/tagsUpdated"+a&&x(a,f.fbid,f.xyTags);d("ReactComposerPhotoActions").finishPhotoEdit(a)}function x(a,b,c){d("ReactComposerPhotoActions").untagAllForPhoto(a,b),c.forEach(function(c){if(c==null)return;c.from_facebox?d("ReactComposerPhotoActions").tagFacebox(a,b,c.facebox,c.subject,c.name):c.is_product_tag?d("ReactComposerPhotoActions").tagXYProduct(a,b,c.name,c.parent_product_id,c.source,c.subject,c.x,c.y):d("ReactComposerPhotoActions").tagXY(a,b,c.name,c.source,c.subject,c.x,c.y)})}function y(a,b,c){c.forEach(function(c){if(c==null)return;if(c.from_facebox)return;else c.is_product_tag?d("ReactComposerPhotoActions").tagXYProduct(a,b,c.name,c.parent_product_id,c.source,c.subject,c.x,c.y):d("ReactComposerPhotoActions").tagXY(a,b,c.name,c.source,c.subject,c.x,c.y)})}function z(a,b,d){var e=c("ReactComposerMediaUploadStore").getUploadsCount(d.composerID)>0;if(e)return!1;e=i(a);if(!e||e.length!==1)return!1;e=l(e);if(e){c("Bootloader").loadModules(["ComposerXVideoUploadDialogController_DEPRECATED"],function(c){return c.showDialog({targetID:d.targetID,files:a,composerEntryPointRef:d.composerType,canShowOptimisticPost:b.shouldShowOptimisticVideoPost})},"ReactComposerMediaUtils");return!0}return!1}function A(a,b,e,f){var g=c("ReactComposerMediaUploadStore").getUploadsCount(f.composerID)>0;if(g)return!1;g=a.target;if(!g||!g.files||g.files.length!==1)return!1;a=j(g);var h=k(a);a=m(a);if(a&&e.canUploadAudio){c("Bootloader").loadModules(["ComposerXAudioUploadDialogController"],function(a){return a.showDialog({targetID:f.targetID,fileInput:b,originalComposerID:f.composerID})},"ReactComposerMediaUtils");return!0}else if(h){if(d("PagesComposerContextUtils").isPageAdminPostingInPage(f.actorID,f.composerID,f.targetID)){a=c("ReactComposerPagesStore").getPagesComposerConfig(f.composerID);if(!e.useVideoUploadDialog||!!((h=a)!=null?(h=h.attachmentsConfig)!=null?(h=h[c("ReactComposerAttachmentType").VIDEO_EDITOR])!=null?h.useInlineVideoUpload:h:h:h)){d("PagesComposerUtils").logVideoUploadFunnelEvents(f.composerID,"video_upload_requested");a=C(f.composerID,null,!0);a.upload(Array.from(g.files));return!0}}else if(!e.useVideoUploadDialog)return!1;c("Bootloader").loadModules(["ComposerXVideoUploadDialogController_DEPRECATED"],function(a){return a.showDialog({targetID:f.targetID,fileInput:b,composerEntryPointRef:f.composerType,canShowOptimisticPost:e.shouldShowOptimisticVideoPost,originalComposerID:f.composerID})},"ReactComposerMediaUtils");return!0}return!1}function B(a){return c("ReactComposerMediaUploadStore").getUploadsCount(a,d("ReactComposerMediaUploadType").VIDEO)>0&&c("ReactComposerMediaUploadStore").getUploadsCount(a,d("ReactComposerMediaUploadType").PHOTO)>0}function C(a,b,d){b===void 0&&(b=null);d===void 0&&(d=!1);var e=null;b&&b.videoUploadParams?e=b:e=c("ReactComposerAttachmentStore").getAttachmentsConfig(a,c("ReactComposerAttachmentType").MEDIA);e||h(0,590);return c("ReactComposerMediaUploadStore").getVideoUploader(a,e.videoUploadParams,d)}function D(a,b){b===void 0&&(b=null);try{return C(a,b)}catch(a){return null}}function E(a){a=c("ReactComposerAttachmentStore").getAttachmentsConfig(a,c("ReactComposerAttachmentType").MEDIA);a||h(0,590);a=JSON.parse(JSON.stringify(a.videoUploadParams));return new(c("VideoUploader"))(a)}function F(a){var b=c("ReactComposerTaggerStore").getSelectedTagger(a),d=c("ReactComposerAttachmentStore").getIsAttachmentSelected(a,c("ReactComposerAttachmentType").MEDIA);b===null&&d&&c("ReactComposerTaggerActions").selectTaggerWithoutAutofocus(a,c("ReactComposerLoggingName").PHOTO_UPLOAD_DONE,c("ReactComposerTaggerType").PEOPLE)}g.clearInput=a;g.getFileNames=i;g.getFileNamesFromFileInput=j;g.hasEditableVideos=k;g.hasVideos=l;g.hasAudioFiles=m;g.filterVideos=b;g.filterAudioFiles=e;g.filterFileOfSupportedType=f;g.uploadVideo=n;g.uploadPhotos=o;g.uploadVideosFromTarget=p;g.uploadVideos=q;g.uploadMultiMediaFromTarget=r;g.uploadPhotosOrVideoFromTarget=s;g.uploadMultiMedia=t;g.uploadPhotosOrVideo=u;g.subscribeToImageEdit=v;g.onImageEdited=w;g.handleFaceboxAndXYTags=x;g.handleXYTagsOnly=y;g.handleVideoUploadForDroppedFiles=z;g.handleSpecialMediaUpload=A;g.isMultimediaPost=B;g.getVideoXUploader=C;g.tryGetVideoXUploader=D;g.getVideoUploader=E;g.changeToPeopleTaggerAfterUpload=F}),98);
__d("ReactComposerBrandedContentCampaignUtil",["SearchableEntry"],(function(a,b,c,d,e,f,g){"use strict";function a(a){try{return a instanceof Array?(a=h(a[0]))==null?void 0:(a=a.campaign)==null?void 0:a.id:null}catch(a){return null}}function b(a){try{return a instanceof Array?(a=h(a[0]))==null?void 0:(a=a.campaign)==null?void 0:a.brandPageID:null}catch(a){return null}}function d(a){try{return a instanceof Array?(a=h(a[0]))==null?void 0:(a=a.campaign)==null?void 0:a.permission:null}catch(a){return null}}function h(a){return a instanceof c("SearchableEntry")?a.getAuxiliaryData():null}g.getCampaignIDFromEntries=a;g.getBrandPageIDFromEntries=b;g.getPermissionFromEntries=d}),98);
__d("ReactComposerEventAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({EVENT_ATTACHMENT_ENABLED:null,FETCH_EVENT_ATTACHMENT:null,SET_EVENT_MARKUP:null},"ReactComposerEventAttachmentActionType");g["default"]=a}),98);
__d("XReactComposerEventAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/event/attachment/",{composer_id:{type:"String",required:!0},event_id:{type:"String",required:!0}})}),null);
__d("ReactComposerEventAttachmentStore",["AsyncRequest","ReactComposerAttachmentActionType","ReactComposerAttachmentType","ReactComposerEventAttachmentActionType","ReactComposerStoreBase","XReactComposerEventAttachmentController"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;b=a.call(this,function(){return{eventID:null,isEnabled:!1,isFetching:!1,isTimeline:!1,markup:null,pendingRequest:null}},function(a){switch(a.type){case c("ReactComposerEventAttachmentActionType").EVENT_ATTACHMENT_ENABLED:d&&d.$ReactComposerEventAttachmentStore1(a);break;case c("ReactComposerEventAttachmentActionType").FETCH_EVENT_ATTACHMENT:d&&d.$ReactComposerEventAttachmentStore2(a);break;case c("ReactComposerEventAttachmentActionType").SET_EVENT_MARKUP:d&&d.$ReactComposerEventAttachmentStore3(a);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerEventAttachmentStore4(a);break}})||this;d=babelHelpers.assertThisInitialized(b);return b}var d=b.prototype;d.isEnabled=function(a){return this.getComposerData(a).isEnabled};d.getEventID=function(a){return this.getComposerData(a).eventID};d.getMarkup=function(a){return this.getComposerData(a).markup};d.getIsTimeline=function(a){return this.getComposerData(a).isTimeline};d.hasAttachment=function(a){return this.getComposerData(a).markup!=null};d.isFetching=function(a){return this.getComposerData(a).isFetching};d.$ReactComposerEventAttachmentStore1=function(a){a=this.validateAction(a,["composerID","enabled"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.isEnabled=a};d.$ReactComposerEventAttachmentStore2=function(a){var b=this;a=this.validateAction(a,["composerID","eventID"]);var d=a[0];a=a[1];if(!this.isEnabled(d))return;var e=this.getComposerData(d);e.isFetching=!0;a=c("XReactComposerEventAttachmentController").getURIBuilder().setString("composer_id",d).setString("event_id",a).getURI();e.pendingRequest=new(c("AsyncRequest"))(a).setFinallyHandler(function(){e.isFetching=!1,e.pendingRequest=null,b.emitChange(d)});e.pendingRequest.send();this.emitChange(d)};d.$ReactComposerEventAttachmentStore3=function(a){a=this.validateAction(a,["composerID","eventID","markup"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);d.markup=a;d.eventID=c;this.emitChange(b)};d.$ReactComposerEventAttachmentStore4=function(a){a=this.validateAction(a,["composerID","id"]);var b=a[0];a=a[1];if(a===c("ReactComposerAttachmentType").STATUS)return;a=this.getComposerData(b);a.markup=null;a.isFetching=!1;a.pendingRequest&&a.pendingRequest.abandon();this.emitChange(b)};return b}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("ReactComposerSessionMetricsActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({KEYSTROKE:null,PASTE:null},"ReactComposerSessionMetricsActionTypes");g["default"]=a}),98);
__d("ReactComposerSessionMetricsStore",["NavigationMetrics","ReactComposerAttachmentActionType","ReactComposerSessionMetricsActionTypes","ReactComposerStoreBase"],(function(a,b,c,d,e,f,g){var h=-1;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;b=a.call(this,function(){c("NavigationMetrics").addRetroactiveListener(c("NavigationMetrics").Events.NAVIGATION_DONE,function(a,b){a=b.tti;d.ttiTimestamp=a});return{composerStartTime:null,keystrokeCount:0,pasteCount:0}},function(a){switch(a.type){case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerSessionMetricsStore1(a);break;case c("ReactComposerSessionMetricsActionTypes").KEYSTROKE:d&&d.$ReactComposerSessionMetricsStore2(a);break;case c("ReactComposerSessionMetricsActionTypes").PASTE:d&&d.$ReactComposerSessionMetricsStore3(a);break}})||this;b.ttiTimestamp=h;d=babelHelpers.assertThisInitialized(b);return b}var d=b.prototype;d.getComposerEntryTime=function(a){if(this.ttiTimestamp==h)return 0;else return Math.round((this.getComposerData(a).composerStartTime-this.ttiTimestamp)/1e3)};d.getComposerStartTime=function(a){return this.getComposerData(a).composerStartTime};d.getKeystrokeCount=function(a){return this.getComposerData(a).keystrokeCount};d.getPasteCount=function(a){return this.getComposerData(a).pasteCount};d.$ReactComposerSessionMetricsStore1=function(a){a=this.validateAction(a,"composerID");a=this.getComposerData(a);a.composerStartTime||(a.composerStartTime=Date.now())};d.$ReactComposerSessionMetricsStore2=function(a){a=this.validateAction(a,"composerID");a=this.getComposerData(a);a.keystrokeCount++};d.$ReactComposerSessionMetricsStore3=function(a){a=this.validateAction(a,"composerID");a=this.getComposerData(a);a.pasteCount++};return b}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("slideshowGetDurationParam",["DateConsts","SlideshowConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){a=Math.min(a,c("SlideshowConstants").max_photo_num);b=d("DateConsts").MS_PER_SEC*b;var f=e*(a-1);b=Math.floor((b-f)/a);return{durationInMS:b,transitionInMS:e}}g["default"]=a}),98);
__d("slideshowGetTotalLengthInSec",["DateConsts","SlideshowConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=Math.min(b,c("SlideshowConstants").max_photo_num);return Math.round(a*b/d("DateConsts").MS_PER_SEC)}g["default"]=a}),98);
__d("ReactComposerPostDataUtils",["ComposerXMarauderLogger","ISOCountryCode","PhotoEditorSaveStates","ReactComposerAsset3dAttachmentStore","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerBrandedContentCampaignUtil","ReactComposerEventAttachmentStore","ReactComposerLoggingStore","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerMinutiaeAttachmentStore","ReactComposerPhotoStore","ReactComposerPostUtilsCore","ReactComposerScrapedAttachmentStore","ReactComposerSelectedImagesStore","ReactComposerSessionMetricsStore","ReactComposerSlideshowAudioStore","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","castToEnum","cometComposerMentionsBlockToEntity","filterNulls","flattenPHPQueryData","formatDate","getMentionsTextForContentState","ifRequired","isNumberLike","slideshowGetDurationParam","slideshowGetTotalLengthInSec","transformDraftEditorStateToTextWithEntities"],(function(a,b,c,d,e,f,g){function h(a){var b,e=a.composerID,f=a.targetID,g=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").PEOPLE)||[],h=[];g.forEach(function(a){h.push(a.getUniqueID())});g=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").PRODUCT)||[];g=g.filter(function(a){return!a.getAuxiliaryData().isFacebox});g=g.map(function(a){return a.getUniqueID()});var i=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE),j=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").TAG_EVENT),l=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").ACTIVITY),m=[],n=[],t=[],u;l&&l.action&&l.object?(m.push(l.action.getUniqueID()),u=l.actionIconID,c("isNumberLike")(l.object.getUniqueID())&&l.object.getUniqueID()!==l.object.getTitle()?(n.push(l.object.getUniqueID()),t.push("")):t.push(l.object.getTitle())):i.politicalRepresentative?c("ifRequired")("ContactYourRepresentativeConsts",function(a){m.push(a.composer_action_id),n.push(i.politicalRepresentative.getUniqueID()),t.push("")}):j&&j.eventID&&c("ifRequired")("TagEventSproutConsts",function(a){m.push(a.composer_action_id),n.push(j.eventID),t.push("")});l=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").STICKER);l=l&&l.stickerID?l.stickerID:0;var v=c("ReactComposerAsset3dAttachmentStore").getAsset3DData(e),w=c("ReactComposerTaggerStore").isDisabled(e,c("ReactComposerTaggerType").ASSET_3D);w=v&&!w?v.asset3dID:null;v=c("ReactComposerMinutiaeAttachmentStore").getHideObjectAttachment(e);var aa=c("ifRequired")("ReactComposerLocationAttachmentStore",function(a){return a.getMarkup(e)!==null?2:1},function(){return 1}),x=[],y=[],z="",A=[];c("ifRequired")("ReactComposerMultilingualStatusStore",function(a){var b=a.getLanguageDialects(e);x=a.getMessages(e);y=b;z=a.getSpecifiedPostLanguage(e);A=r(b,a.getRichTextBlocks(e))});var B=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").FUNDRAISER);B=B?B.charityID:null;var C=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").GROUP_JOIN_CTA),ba=C?C.groupID:null;C=C?C.remove:!1;var D=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS);D=D?D.gameID:null;var E=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").LOCATION),F=c("ReactComposerEventAttachmentStore").getEventID(e),G=null;F&&(G={event_id:F});F=E?E.place:null;var H;if(c("ReactComposerTaggerStore").hasBackdate(e)){var I=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").BACKDATE);H={year:k(I.year),month:k(I.month),day:k(I.day),hour:k(I.hour),minute:k(I.minute)}}I=E&&E.implicitLocation?E.implicitLocation.citypageid:null;var J=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").SPONSOR)||{},K=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").BC_SUPPORT)||{};b=(b=K.sponsor)!=null?b:[];b=b.length>0;b=b?K:J;b={canAddSponsorCTA:b.canAddSponsorCTA,directShareStatus:b.directShareStatus,entrypoint:b.entrypoint,eventLocation:b.eventLocation,sponsorRelationship:b.sponsorRelationship,sponsors:b.sponsors,hasRestrictedAudience:b.hasRestrictedAudience};K=d("ReactComposerBrandedContentCampaignUtil").getCampaignIDFromEntries(b.sponsors);var ca=d("ReactComposerBrandedContentCampaignUtil").getBrandPageIDFromEntries(b.sponsors);b.sponsors=b.sponsors.map(function(a){return ca!=null?ca:a.getUniqueID()});var L=c("ReactComposerAudienceStore").getCollectionID(e),da=null;if(!L){var M=c("ReactComposerAudienceStore").getLegacyAudience(e);M&&(da=[{value:M}])}M=a.useHints;var N=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").TARGETING),O=N&&!L?M?N.hints:N.targeting:null;O!=null&&(!M&&O.fan_of&&(O.fan_of=O.fan_of.map(function(a){return a.id})),c("ifRequired")("AdsAPITargetFields",function(a){a&&O&&O[a.INTERESTS]&&(O[a.INTERESTS]=O[a.INTERESTS].map(function(a){return a.id}))}));M=N&&!L?N.gating:null;var P={};J.bcmpDealID&&(P.bcmp_deal_id=J.bcmpDealID);J.bcmpDealUpsell&&(P.bcmp_create_deal=J.bcmpDealUpsell);J.composerInterceptEvent&&(P.composer_intercept_event=J.composerInterceptEvent);J.composerInterceptReason&&(P.composer_intercept_reason=J.composerInterceptReason);J.detectedBrandId&&(P.detected_brand_id=J.detectedBrandId);if(b.sponsors.length>0){K={bcmp_campaign_agreement_id:(K=K)!=null?K:void 0,sponsor_relationship:b.sponsorRelationship,shared_to_sponsor_status:b.directShareStatus,can_sponsor_add_cta:b.canAddSponsorCTA?1:0,sponsor_page_id:b.sponsors[0]};P.tagging_data=K}if(b.hasRestrictedAudience){var Q;K=c("filterNulls")(((K=(K=M)==null?void 0:(K=K.geo_locations)==null?void 0:K.countries)!=null?K:[]).map(function(a){return c("castToEnum")(a,c("ISOCountryCode"),void 0)}));Q=c("filterNulls")(((Q=(Q=M)==null?void 0:(Q=Q.geo_locations)==null?void 0:Q.cities)!=null?Q:[]).map(function(a){return Number(a.region_id)}).concat(((Q=(Q=M)==null?void 0:(Q=Q.geo_locations)==null?void 0:Q.regions)!=null?Q:[]).map(function(a){return Number(a.key)})));K={countries:K,min_age:(K=M)==null?void 0:K.age_min,region_ids:Q};P.geo_age_gates=[K]}J.eventLocation&&(P.event_location=J.eventLocation);J.entrypoint&&(P.entrypoint=J.entrypoint);c("ifRequired")("PagesComposerUnpublishedPostsStore",function(a){a=a.getStopFeedDistributionTime(e);a!=null&&(O||(O={}),O["relevant-until-date"]=c("formatDate")(a,"m/d/Y",{skipPatternLocalization:!0}),O["relevant-until-time"]=60*(60*a.getHours()+a.getMinutes()))});Q=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT);Q&&(Q.showStart==1&&Q.showEnd==100||Q.showStart==null&&Q.showEnd==null?Q=null:Q={showStart:Q.showStart,showEnd:Q.showEnd});J=!!((K=a)!=null?(K=K.composerConfig)!=null?(K=K.contextInfo)!=null?K.is_preview:K:K:K);K=J?null:c("ifRequired")("PagesComposerBoostedPostsStore",function(a){return a.getConfig(e)},function(){return null});J=w?null:c("ReactComposerScrapedAttachmentStore").getAttachmentConfig(e);var R=!1,S=null;c("ifRequired")("ReactComposerCTAAttachmentUtils",function(a){R=a.isCTAAttachmentSelected(e)});J===null&&R&&(c("ifRequired")("ReactComposerCTAStore",function(a){J=a.getAttachmentConfig(e)}),J===null&&c("ifRequired")("ReactComposerCollectionStore",function(a){J=a.getAttachmentConfig(e)}));R&&c("ifRequired")("ReactComposerCTAStore",function(a){S=a.getCTAData(e)});c("ReactComposerAttachmentStore").getSelectedAttachmentID(e)===c("ReactComposerAttachmentType").MEDIA&&c("ifRequired")("ReactComposerPortableCTAAttachmentStore",function(a){var b=a.getSelectedCta(e),d=a.getCTAData(e);c("ifRequired")("CallToActionTypes",function(a){(c("ReactComposerMediaUploadStore").getPhotos(e).size===1||c("ReactComposerMediaUploadStore").getPhotos(e).size>1&&b===a.MESSAGE_PAGE)&&(S=d!=null?d:S)})});var T=c("ReactComposerTaggerStore").hasData(e,c("ReactComposerTaggerType").BREAKING_NEWS),U=0;T&&(U=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").BREAKING_NEWS).expirationTime);T&&U>0&&J&&J.params.url&&(J.params.breaking_news_selected=T,J.params.breaking_news_expiration=U);var ea=c("ifRequired")("ReactComposerPostToGroupStore",function(a){return a.getIsTabSelected(e)},function(){return!1}),fa=c("ReactComposerTaggerStore").getPoliticalDistrictInfo(e);N!==null&&!!N.woodhengeInfo&&(M||(M={}),M.woodhenge_info=N.woodhengeInfo);N!==null&&!!N.videoCreatorTopFanPageID&&(M||(M={}),M.top_fans_video_creator=N.videoCreatorTopFanPageID);N!==null&&!!N.newsSubscribersInfo&&(M||(M={}),M.news_subscribers_info=N.newsSubscribersInfo);N=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").CONTENT_WARNINGS);N!=null&&(N=N.map(function(a){return a.getUniqueID()}));var ga=null;c("ifRequired")("ReactComposerGroupPostTagsTaggerStore",function(a){ga=a.getPostTagIDs(e)});var V=c("ReactComposerSessionMetricsStore").getComposerStartTime(e),ha=null;V&&(ha=Math.round((Date.now()-V)/1e3));V=!1;c("ifRequired")("ReactComposerProfileBadgeStore",function(a){V=a.hasProfileBadge(e)});var W=d("ComposerXMarauderLogger").getInstance(e),ia=W&&W.ref,ja=W&&W.composerSourceSurface,X=a.composerConfig.attachmentsConfig&&a.composerConfig.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],Y=X&&X.richTextEditor,ka=!1;X&&X.isWelcomeToGroupPost&&(ka=!0);X=L?null:c("ReactComposerAudienceStore").getAudience(e);var la=null;c("ReactComposerStore").getRankerRequestID(e)&&(la={RequestID:c("ReactComposerStore").getRankerRequestID(e)});var ma=null,Z=J&&J.readOnly;Z&&(ma={xc_disable_link:Z});Z=null;c("ifRequired")("ReactComposerCivicEngagementStore",function(a){Z=a.getCivicProductSource(e)});Y=c("ReactComposerStatusStore").getMessage(e,Y);var $=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").FUN_FACT),na=null,oa=null;$&&($.promptID?na=$.promptID:$.isAskPost&&Y&&(oa={prompt_title:Y},Y=null));$=c("ifRequired")("ReactComposerCulturalMomentHolidayCardStore",function(a){return a.getHolidayCardData(e)},function(){return null});var pa=c("ifRequired")("ReactComposerAutoSavingStore",function(a){return a.getDraftID(e)},function(){return null}),qa=c("ReactComposerAudienceStore").getStoriesSelected(e),ra=c("ReactComposerAudienceStore").getTimelineSelected(e),sa=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").GET_SHOWTIMES),ta=c("ReactComposerTaggerStore").hasSupportNowCTA(e),ua=c("ReactComposerTaggerStore").getFanFundingPromotionPayload(e),va=c("ReactComposerTaggerStore").getUserFundingAttachmentType(e),wa=c("ReactComposerTaggerStore").paidVirtualEventGatedPost(e);return babelHelpers["extends"]({},c("ReactComposerStatusStore").getRichTextBlocks(e),{action_type_id:m,album_id:L,asset3d_id:w,asked_fun_fact_prompt_data:oa,attachment:J,audience:da,backdated_date:H,boosted_post_config:K,breaking_news_expiration:U,breaking_news_selected:T,cta_data:S,charity_id:B,composer_entry_point:ia,composer_entry_time:c("ReactComposerSessionMetricsStore").getComposerEntryTime(e),composer_session_id:c("ReactComposerLoggingStore").getSessionID(e),composer_session_duration:ha,composer_source_surface:ja,composer_type:W&&W.composerType,composertags_city:I,composertags_place:F&&F.getUniqueID()||I,composertags_place_name:F&&F.getTitle(),composertags_with:h,composertags_sponsors:b.sponsors,civic_product_source:Z,direct_share_status:b.directShareStatus,sponsor_relationship:b.sponsorRelationship,can_add_sponsor_cta:b.canAddSponsorCTA,branded_content_data:P,composertags_product_items:g,content_warnings:N,extensible_sprouts_ranker_request:la,external_movie_data:sa,feed_targeted_data:O,fun_fact_prompt_id:na,group_post_tag_ids:ga,group_join_target_id:ba,hide_object_attachment:v,has_support_now_cta:ta,fan_funding_promotion_payload:ua,remove_group_join_cta:C,icon_id:u,is_explicit_place:!!F,instant_game_entry_point_data:a.composerConfig.instantGameEntryPointData,is_ama:c("ReactComposerTaggerStore").isAMA(e),is_post_to_group:ea,is_welcome_to_group_post:ka,is_profile_badge_post:V,political_district_info:fa,story_list_attachment_data:p(e),multilingual_statuses:x,multilingual_status_langs:y,multilingual_rich_text:A,multilingual_specified_lang:z,num_keystrokes:c("ReactComposerSessionMetricsStore").getKeystrokeCount(e),num_pastes:c("ReactComposerSessionMetricsStore").getPasteCount(e),object_id:n,object_str:t,paid_virtual_event_gated_post:wa,place_attachment_setting:aa,play_with_friends_game_id:D,poll_question_data:s(e),privacyx:X,publisher_abtest_holdout:Q,ref:c("ReactComposerStore").getRef(e),stories_selected:qa,timeline_selected:ra,user_funding_attachment_type:va,xc_sticker_id:l,event_tag:G,tagger_session_id:E&&E.sessionID,target_type:c("ReactComposerStore").getTargetType(e),targeted_privacy_data:M,xhpc_message:Y,xhpc_message_text:c("ReactComposerStatusStore").getMessageText(e),is_forced_reshare_of_post:J&&J.reshare_original_post,xc_disable_config:ma,delight_ranges:c("ReactComposerStatusStore").getDelightRanges(e),holiday_card:$,draft_id:pa,work_shared_draft_mode:a==null?void 0:(L=a.composerConfig)==null?void 0:(w=L.actorConfig)==null?void 0:w.workSharedDraftMode,work_checklist_metadata:q(e)},o(J),d("ReactComposerPostUtilsCore").getCoreData(e,a.composerConfig.contextInfo,f))}function i(a,b){var e=c("ReactComposerPhotoStore").getPhotos(a).filter(function(a){return!a.isDepthFile});b=b.filter(function(a){return a.mediaType!==d("ReactComposerMediaUploadType").PHOTO?!0:e.some(function(b){return b.id===a.photoID})});return j(a,b)}function j(a,b){var d=b.map(function(a){return a.photoID}).toArray(),e=b&&b.size>0?b.first().holidayCardID:null;e=e?{holiday_card_id:e,source:"promo"}:null;var f=c("ReactComposerSlideshowStore").isSlideshowSelected(a),g=null;f&&(g=l(a));return babelHelpers["extends"]({application:"composer",composer_unpublished_photo:d,qn:c("ReactComposerLoggingStore").getSessionID(a),slideshow_spec:g,waterfallxapp:"web_react_composer",xy_tags:m(a),holiday_card:e},n(b))}function k(a){return!a||a===-1||a===0?null:a}function l(a){var b=c("ReactComposerSlideshowAudioStore").getSelectedStorylineMood(a),d=null;b!=null&&(d=b.moodID);b=c("ReactComposerSlideshowStore").getDurationInMS(a);var e=c("ReactComposerSlideshowStore").getTransitionInMS(a),f=c("ReactComposerSelectedImagesStore").getNumberOfImages(a);b=c("slideshowGetTotalLengthInSec")(b,f);f=c("slideshowGetDurationParam")(f,b,e);return{photo_ids:c("ReactComposerSelectedImagesStore").getPhotoIDs(a),images_crops:c("ReactComposerSelectedImagesStore").getImagesCrops(a),photo_duration:f.durationInMS,photo_transition_duration:f.transitionInMS,storyline_mood_id:d}}function m(a){var b=c("ReactComposerPhotoStore").getAllTaggedFaceboxes(a).map(function(a){return{fbid:a.get("photoID"),x:a.get("x"),y:a.get("y"),name:a.get("taggedValue"),subject:a.get("taggedSubjectID"),from_facebox:!0,source:a.get("isMagicTag")?"composerx_suggestions":"composerx_flyout"}});a=c("ReactComposerPhotoStore").getAllXYTags(a).map(function(a){return{fbid:a.get("photoID"),x:a.get("x"),y:a.get("y"),name:a.get("name"),subject:a.get("subject"),from_facebox:a.get("from_facebox"),source:a.get("source")}});return b.concat(a)}function n(a){var b={},c={},e={},f={},g={};a.forEach(function(a){var h=a.get("photoID");a=d("PhotoEditorSaveStates").getLoggingData(a.get("originalPhotoID"));a&&(b[h]=a.hasFilter?!0:null,c[h]=a.hasCrop?!0:null,e[h]=a.textOverlays,f[h]=a.stickers,a.customAccessibilityCaption&&(g[h]=a.customAccessibilityCaption))});a={};a.composer_has_filter=b;a.composer_has_crop=c;a.composer_custom_accessibility_caption=g;a.composer_text_overlay=e;a.composer_sticker=f;return a}function o(a){return!a||!a.params||a.readOnly?null:{xc_share_params:JSON.stringify(a.params),xc_share_target_type:a.type,xc_share_images:a.params.images,xc_share_title:a.params.title,xc_share_summary:a.params.summary,xc_link_url:a.params.url}}function p(a){var b=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,c("ReactComposerAttachmentType").LIST),d=null;b&&c("ifRequired")("ReactComposerListStore",function(b){var e=b.getListTitle(a),f=b.getListItems(a),g=b.getSelectedListStyle(a),h=b.getSelectedListColor(a),i=b.getListColors(a),j=b.getListPrompts(a);b=b.getSelectedListPrompt(a);var k=b!==-1?j[b].prompt_id:null;j=b!==-1?j[b].is_fun_fact_prompt:!1;var l=[];f.forEach(function(a){var b=a.getCurrentContent().getPlainText();b.trim().length>0&&l.push({description:c("getMentionsTextForContentState")(a.getCurrentContent())})});d={original_list_id:null,create_story_list_action_link:null,list_style:g,title:c("getMentionsTextForContentState")(e.getCurrentContent()),items:l,text_format_preset_id:i[h].preset_id,fun_fact_prompt_id:j?k:null,prompt_id:j?null:k}});return d}function q(a){var b=c("ReactComposerTaggerStore").getTaggerData(a,c("ReactComposerTaggerType").WORK_CHECKLIST);b=b.hasChecklist;return!b?null:c("ifRequired")("ReactComposerWorkChecklistStore",function(b){var d=b.getTitle(a).getCurrentContent();d=d.hasText()?d.getPlainText():void 0;b=b.getListItems(a);var e=[];b.forEach(function(a){a=a.editorState;var b=a.getCurrentContent().getPlainText();b.trim().length>0&&e.push({text_with_entities:c("transformDraftEditorStateToTextWithEntities")(a,[c("cometComposerMentionsBlockToEntity")])})});return{title:d,items:e}},function(){return null})}function r(a,b){if(!b)return[];var c=[];for(var d=0;d<a.length;d++)b[d]&&c.push({dialect:a[d],composedTextParams:b[d]});return c}function s(a){var b=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,c("ReactComposerAttachmentType").VISUAL_POLL),d=null;b&&c("ifRequired")("ReactComposerQuestionStore",function(b){var e=b.isRelativeEndTime(a),f=b.getVisualPollEndTimeInMillis(a),g=!0,h=0,j=0;e?j=Math.round(f/1e3):h=Math.round(f/1e3);e=b.getIsResultsHidden(a);f=b.getVisualPollNumOptions(a);var k=b.getVisualPollOptionTexts(a),l=b.getVisualPollOptionGifUrls(a),m=c("ReactComposerMediaUploadStore").getUploads(a);m=i(a,m).composer_unpublished_photo;b=b.getVisualPollOptionImageIndices(a);var n=[],o=0,p=0;for(var q=0;q<f;q++)n.push({}),q<k.length&&k[q]?n[q].text=k[q]:g=!1,q<l.length&&l[q]?(n[q].external_image_url=l[q],o+=1):q<b.length&&b[q]>=0&&b[q]<m.length&&(n[q].associated_image_id=m[b[q]],p+=1);q=o+p===n.length?4:6;g&&(d={text:c("ReactComposerStatusStore").getMessage(a),hidden_results:e?!0:null,question_type:q,poll_end_time:h,relative_poll_end_time:j,options:n})});return d}function a(a){var b={};Object.keys(a).forEach(function(c){if(a[c]!=null){var d=a[c]instanceof Object;if(!d)b[c]=a[c];else{d=!Object.values(a[c]).every(function(a){return a==null});d&&(b[c]=a[c])}}});var d=new FormData(),e=c("flattenPHPQueryData")(b);Object.keys(e).forEach(function(a){e[a]!=null&&d.append(a,e[a])});return d}function b(a,b){var d=b.composerID,e=b.actorID;b=b.targetID;var f=c("ReactComposerAttachmentStore").getSelectedAttachmentID(d),g=c("ReactComposerTaggerStore").areAllTaggersEmptyExcluding(d,[c("ReactComposerTaggerType").BC_SUPPORT,c("ReactComposerTaggerType").FORMATTED_TEXT,c("ReactComposerTaggerType").TARGETING,c("ReactComposerTaggerType").SPONSOR,c("ReactComposerTaggerType").AMA]),i=c("ReactComposerStatusStore").getMessageText(d).trim();if(f===c("ReactComposerAttachmentType").STATUS||f===c("ReactComposerAttachmentType").QUESTION){if(i||!g)return!1;g=h({actorID:e,composerConfig:a,composerID:d,targetID:b});return!g.attachment}if(f===c("ReactComposerAttachmentType").MEDIA){if(i)return!1;if(c("ReactComposerScrapedAttachmentStore").hasAttachment(d))return!1;e=c("ReactComposerMediaUploadStore").getUploadsCount(d);return e===0}return!1}g.getPostData=h;g.getMediaUploadsData=i;g.getMediaDataWithoutFiltering=j;g._sanitizeDateField=k;g._getSlideshowSpec=l;g._getXYTagData=m;g._getCreativeEditingToolsData=n;g._getScrapedAttachmentData=o;g._getListAttachmentData=p;g._getWorkChecklistAttachmentData=q;g._getMultilingualRichtext=r;g._getVisualPollAttachmentData=s;g.createFormData=a;g.isEmptyAttachment=b}),98);
__d("PagesCrosspostChannel",[],(function(a,b,c,d,e,f){a=Object.freeze({GROUP:"group",INSTAGRAM:"instagram"});f["default"]=a}),66);
__d("ReactComposerAsyncRequest",["AsyncRequest","AsyncResponse","ReactComposerActions","ReactComposerPostUtilsCore"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=a.call(this,c)||this;c.$ReactComposerAsyncRequest1=b;a.prototype.setHandler.call(babelHelpers.assertThisInitialized(c),c.$ReactComposerAsyncRequest5.bind(babelHelpers.assertThisInitialized(c)));a.prototype.setErrorHandler.call(babelHelpers.assertThisInitialized(c),c.$ReactComposerAsyncRequest6.bind(babelHelpers.assertThisInitialized(c)));a.prototype.setFinallyHandler.call(babelHelpers.assertThisInitialized(c),c.$ReactComposerAsyncRequest7.bind(babelHelpers.assertThisInitialized(c)));return c}var e=b.prototype;e.setHandler=function(a){this.$ReactComposerAsyncRequest2=a;return this};e.setErrorHandler=function(a){this.$ReactComposerAsyncRequest3=a;return this};e.setFinallyHandler=function(a){this.$ReactComposerAsyncRequest4=a;return this};e.$ReactComposerAsyncRequest5=function(a){var b=this,c=this.$ReactComposerAsyncRequest8(a);if(c){this.$ReactComposerAsyncRequest9(a);return}setTimeout(function(){var c=a.payload&&a.payload.isPostPending;c||d("ReactComposerPostUtilsCore").handlePostSucceeded(b.$ReactComposerAsyncRequest1);b.$ReactComposerAsyncRequest2&&b.$ReactComposerAsyncRequest2(a)},0)};e.$ReactComposerAsyncRequest6=function(a){var b=this.$ReactComposerAsyncRequest8(a);if(b){this.$ReactComposerAsyncRequest9(a);return}this.$ReactComposerAsyncRequest10(a)};e.$ReactComposerAsyncRequest8=function(a){return a.payload&&a.payload.errors&&a.payload.errors[0]};e.$ReactComposerAsyncRequest9=function(a){var b=this.$ReactComposerAsyncRequest8(a);a=new(c("AsyncResponse"))(a.getRequest(),a);a.errorSummary=b?b.summary:null;a.errorDescription=b?b.description:null;a.silentError=b&&b.is_silent;a.transientError=b&&b.is_transient;this.$ReactComposerAsyncRequest10(a)};e.$ReactComposerAsyncRequest10=function(a){var b=this;setTimeout(function(){d("ReactComposerActions").postError(b.$ReactComposerAsyncRequest1,a),b.$ReactComposerAsyncRequest3&&b.$ReactComposerAsyncRequest3(a)},0)};e.$ReactComposerAsyncRequest7=function(a){var b=this;setTimeout(function(){d("ReactComposerActions").postFinally(b.$ReactComposerAsyncRequest1,a),b.$ReactComposerAsyncRequest4&&b.$ReactComposerAsyncRequest4(a)},0)};return b}(c("AsyncRequest"));g["default"]=a}),98);
__d("ReactComposerFileActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){a=c("keyMirrorRecursive")({RESET:null,SAVE_FILE:null,SET_FILE_CONFIG:null},"ReactComposerFileActionType");g["default"]=a}),98);
__d("ReactComposerFileStore",["fbt","ReactComposerFileActionType","ReactComposerStoreBase"],(function(a,b,c,d,e,f,g,h){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;b=a.call(this,function(){return{file:null,maxFileUploadString:null,selectedFileName:d&&d.$ReactComposerFileStore1()}},function(a){switch(a.type){case c("ReactComposerFileActionType").RESET:d&&d.$ReactComposerFileStore2(a);break;case c("ReactComposerFileActionType").SAVE_FILE:d&&d.$ReactComposerFileStore3(a);break;case c("ReactComposerFileActionType").SET_FILE_CONFIG:d&&d.$ReactComposerFileStore4(a);break}})||this;d=babelHelpers.assertThisInitialized(b);return b}var d=b.prototype;d.getFile=function(a){return this.getComposerData(a).file};d.getMaxFileUploadSize=function(a){return this.getComposerData(a).maxFileUploadSize};d.getMaxFileUploadString=function(a){return this.getComposerData(a).maxFileUploadString};d.getSelectedFileName=function(a){return this.getComposerData(a).selectedFileName};d.getURI=function(a){return"/ajax/groups/files/upload"};d.hasFile=function(a){return!!this.getComposerData(a).file};d.isFileSelected=function(a){a=this.getComposerData(a);return!!a.file};d.$ReactComposerFileStore1=function(){return h._("No file chosen")};d.$ReactComposerFileStore2=function(a){var b=this.validateAction(a,"composerID");b=this.getComposerData(b);b.file=null;b.selectedFileName=this.$ReactComposerFileStore1();this.emitChange(a.composerID)};d.$ReactComposerFileStore3=function(a){var b=this.validateAction(a,["composerID","file","name"]),c=b[0],d=b[1];b=b[2];c=this.getComposerData(c);c.file=d;c.selectedFileName=b;this.emitChange(a.composerID)};d.$ReactComposerFileStore4=function(a){var b=this.validateAction(a,["composerID","config"]),c=b[0];b=b[1];c=this.getComposerData(c);c.maxFileUploadSize=b.maxFileUploadSize;c.maxFileUploadString=b.maxFileUploadString;this.emitChange(a.composerID)};return b}(c("ReactComposerStoreBase"));b=new a();g["default"]=b}),98);
__d("XVideoEditDialogSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/edit/dialog/save/",{v:{type:"Int",required:!0},feed_background_image_focus_x:{type:"Float"},feed_background_image_focus_y:{type:"Float"},mature_content_rating:{type:"Enum",enumType:0},funded_content_program:{type:"Enum",enumType:0},deal_id:{type:"FBID"},commentating_permission:{type:"Enum",enumType:1},enable_was_live_voting:{type:"Bool",defaultValue:!1},composer_entry_point_ref:{type:"Enum",enumType:1},has_support_now_cta:{type:"Bool",defaultValue:!1},work_shared_draft_mode:{type:"Enum",enumType:1}})}),null);
__d("ReactComposerPostUtils",["fbt","invariant","ActorURI","Arbiter","Bootloader","ComposerPublisher","DOM","DateConsts","HTML","ODS","PagesCrosspostChannel","PagesProfilePictureActions","PagesStoryCreationStatusTypes","ReactComposerActions","ReactComposerAsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerFileStore","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPhotoStore","ReactComposerPostDataUtils","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerStoryArchiveIntroductionDialogGatedModule","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoUploadStore","ReactComposerWorkFileStore","ReactLegacyShim_DEPRECATED","SimpleXUIDialog","StoriesConstants","ThisControllerNoLongerExists","URI","XVideoEditDialogSaveController","curry","dotAccess","formatDate","getByPath","ifRequired","react","uuidv4"],(function(a,b,c,d,e,f,g,h,i){var j=d("react"),k=!!c("ReactComposerWorkFileStore").module,l=c("ReactComposerWorkFileStore").module||c("ReactComposerFileStore"),m=!0;function a(a,b){d("ReactComposerActions").publishStarted(a),b=b||{},b.composer_id=a,b.streamNode?b.streamStory=b.streamNode:b.streamMarkup&&(b.streamStory=c("HTML")(b.streamMarkup).getRootNode()),b.contentID&&(b.matchData={content_id:b.contentID}),c("Arbiter").inform("composer/publish",b)}function b(a,b,d){d===void 0&&(d=!1);b=c("ReactComposerPhotoStore").isLimitExceeded(a,b);var e=c("ReactComposerMediaUploadStore").isUploading(a),f=c("ReactComposerPhotoStore").isRecognizing(a),g=!!c("ReactComposerVideoUploadStore").getVideo(a)&&c("ReactComposerStore").isPosting(a);a=c("ReactComposerPhotoStore").isSphericalPhotoUpdating(a);return b||(e||g)&&!d||f||a}function n(a){var b=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,c("ReactComposerAttachmentType").MEDIA);a=c("ReactComposerAttachmentStore").getIsAttachmentSelected(a,c("ReactComposerAttachmentType").AUDIENCE_SELECTOR);return b||a}function o(a,b,e,f){c("ifRequired")("ReactComposerStatusDonateButtonStore",function(c){c.getEnabled(b)&&Object.assign(a,{cta_data:{type:"DONATE",value:{fundraiser_campaign_id:c.getFundraiserCampaignID(b),link_title:c.getTitle(b),link_description:c.getDescription(b)}}})}),c("ifRequired")("ReactComposerCTAStore",function(e){e=e.getCTAData(b);e&&e.type==="MESSAGE_PAGE"&&(c("ReactComposerMediaUploadStore").getUploadsCount(b,d("ReactComposerMediaUploadType").PHOTO)>1?f&&Object.assign(a,{cta_data:e}):Object.assign(a,{cta_data:e}))})}function p(a,b){var d=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(b,c("ReactComposerAttachmentType").PLACE_LIST);d&&c("ifRequired")("ReactComposerPlaceListStore.react",function(c){Object.assign(a,{is_placelist_post:!0,placelist_within_page:c.getPageID(b),should_redirect_place_list_on_create:c.getShouldRedirectOnCreate(b)}),c.getGroupID(b)&&Object.assign(a,{target_id:c.getGroupID(b),xhpc_targetid:c.getGroupID(b)})})}function q(a,b){c("ifRequired")("ReactComposerFormattedTextStore",function(c){c=c.getTextFormatPresetID(b);c&&Object.assign(a,{text_format_preset_id:c})})}function r(a,b,d){a&&c("ifRequired")("ReactComposerCTAStore",function(a){Object.assign(b,{cta_data:a.getCTAData(d)})})}function s(a,b){var d=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(b,c("ReactComposerAttachmentType").PAGE_RECOMMENDATION);d&&c("ifRequired")("ReactComposerPageRecommendationStore.react",function(c){if(c.getRecommendationType(b)){var d=c.getTags(b),e=c.getTagEntryPoint(b),f=[];d.forEach(function(a){a.selected===!0&&f.push({id:a.value,entry_point:e})});Object.assign(a,{page_recommendation:{page_id:c.getPageID(b),rec_type:c.getRecommendationType(b),attached_tags:f}})}else Object.assign(a,{page_recommendation_ids:[c.getPageID(b)]})})}function t(a,b){a=a.composerConfig.pagePremadePostData;a&&Object.assign(b,{page_premade_post:a})}function u(a,b){a&&Object.assign(b,{animated_image:a})}function v(a,b){var d=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(b,c("ReactComposerAttachmentType").LOCAL_DEV_PLATFORM);d&&c("ifRequired")("ReactComposerLocalDevPlatformStore",function(c){var d=c.getAppConfigID(b),e=c.getFbeID(b),f=c.getPhotoID(b),g=c.getPageID(b),h=c.getCTATitle(b),i=c.getCTASubtitle(b),j=c.getCTAActionTitle(b);c=c.getCTAAction(b);Object.assign(a,{local_dev_platform_app_instance:{ldp_app_config_id:d,fbe_id:e,page_id:g,additional_data:{photo_id:f,title:h,subtitle:i,cta_button_text:j,cta_button_url:c}}})})}function w(a){if(a.attachment&&a.attachment.params){var b=String(c("uuidv4")());Object.assign(a,{detection_analytics_data:{detection_id:b,device_advertising_id:null,product_id:String(54)}})}}function x(a,b){a=(a=a)!=null?(a=a.composerConfig)!=null?(a=a.contextInfo)!=null?a.is_dialog_composer:a:a:a;a&&Object.assign(b,{is_dialog_composer:a})}function y(a,b){c("Bootloader").loadModules(["FantaTabActions"],function(b){a.getThreadIDs().forEach(function(a){return b.openTab(a)})},"ReactComposerPostUtils")}function z(a){m&&c("ReactComposerStoryArchiveIntroductionDialogGatedModule").module&&(d("ReactLegacyShim_DEPRECATED").render(j.jsx(c("ReactComposerStoryArchiveIntroductionDialogGatedModule").module,{}),c("DOM").create("div")),m=!1);a=c("dotAccess")(a,"request.data.variables","{}");var b=JSON.parse(a);if(b&&((a=b)!=null?(a=a.input)!=null?a.composer_source_surface:a:a)==="page"){d("PagesProfilePictureActions").updateProfilePictureStory(c("PagesStoryCreationStatusTypes").STORY_CREATION_SUCCESS);c("Arbiter").inform("Pages/createStorySuccess");c("Bootloader").loadModules(["FBStoriesDataHelper"],function(a){a.loadPageBucketData(b.actor_id)},"ReactComposerPostUtils");var e=(a=b)!=null?(a=a.input)!=null?a.actor_id:a:a;e&&c("Bootloader").loadModules(["PagesStoryArchiveIntroductionDialogContainer.react"],function(a){return d("ReactLegacyShim_DEPRECATED").render(j.jsx(a,{pageID:e}),c("DOM").create("div"))},"ReactComposerPostUtils")}else c("Bootloader").loadModules(["FBStoriesTrayInit","FBStoriesProductionActions"],function(a,b){b.setUserBucketUploadStatus(!1),a.reloadTray(d("StoriesConstants").TIMEOUT_FOR_SERVER_TO_FINISH_WORK)},"ReactComposerPostUtils")}function e(a){if(a.payload.success&&!a.payload.media_link)return;c("Bootloader").loadModules(["ReactCrossPostingConfirmationDialogContainer.react"],function(b){d("ReactLegacyShim_DEPRECATED").render(j.jsx(b,{media_channel:c("PagesCrosspostChannel").INSTAGRAM,media_link:a.payload.media_link,success:a.payload.success}),c("DOM").create("div"))},"ReactComposerPostUtils")}function A(a,b){return c("Bootloader").loadModules(["XUIDialogButton.react"],function(c){d("SimpleXUIDialog").showEx(b,a,j.jsx(c,{action:"cancel",use:"confirm",label:h._("Close")}))},"ReactComposerPostUtils")}function f(a){!a.actorID&&i(0,5899);!a.composerConfig&&i(0,5900);!a.composerConfig.contextInfo&&i(0,5901);!a.composerID&&i(0,5902);!a.targetID&&i(0,5903);var b=a.actorID,e=a.composerID,f=a.targetID,g=!1,j=c("ReactComposerAudienceStore").getNoDestinationSelected(e);if(j){d("ODS").bumpEntityKey(2966,"composer.destination_picker","error_no_destination");A(h._("Oops"),h._("Something's gone wrong. We're working to get it fixed as soon as we can."));return}j=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(e,c("ReactComposerAttachmentType").IG_PHOTO_REMINDER);var m=n(e),B=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(e,c("ReactComposerAttachmentType").FILE),C=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(e,c("ReactComposerAttachmentType").QUESTION),D=!1;c("ifRequired")("ReactComposerCTAAttachmentUtils",function(a){D=a.isCTAAttachmentSelected(e)});var E=c("ReactComposerSlideshowStore").isSlideshowSelected(e),F=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(e,c("ReactComposerAttachmentType").PROFILE_PIC_FRAME),G=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(e,c("ReactComposerAttachmentType").MEDIA_EFFECT_SHARE),H=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(e,c("ReactComposerAttachmentType").SALES_PROMO),I=d("ReactComposerPostDataUtils").getPostData(a),J=Boolean(c("getByPath")(a,["composerConfig","taggersConfig",c("ReactComposerTaggerType").MESSAGING,"enableSMCTAForMultiPhoto"]));o(I,e,f,J);J=c("ReactComposerVideoUploadStore").getVideo(e);if(m&&!!J){var K=c("ReactComposerVideoUploadStore").getUploader(e);K&&K.uploadFromFile(J.file,I);return}K=k?l.hasFile(e):l.isFileSelected(e);J=c("ReactComposerTaggerStore").getTaggerData(e,c("ReactComposerTaggerType").GIF).gifData;var L,M=c("ReactComposerMediaUploadStore").getUploads(e);q(I,e);r(D,I,e);p(I,e);s(I,e);t(a,I);u(J,I);v(I,e);w(I);x(a,I);J=M.size>0;j=j||m;m=E||j&&J;j=!!((E=a)!=null?(E=E.composerConfig)!=null?(E=E.contextInfo)!=null?E.is_preview:E:E:E);a.composerConfig.attachmentsConfig&&a.composerConfig.attachmentsConfig[c("ReactComposerAttachmentType").STATUS]&&(a.composerConfig.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].defaultMarkdownOn=I.is_markdown);var N=null;E=c("ReactComposerStore").getRef(e);if(C)switch(E){case"group":N="group";break;case"event":case"event_about":N="event";break;case"pages_feed":N="composer";break;default:N=E}var O=c("ifRequired")("PagesComposerUnpublishedPostsStore",function(a){return a.getScheduledPublishTime(e)},function(){return null});O=O?Math.round(O.getTime()/1e3):null;var P;if(m)P=d("ReactComposerPostDataUtils").getMediaUploadsData(e,M),Object.assign(I,P),g=c("ComposerPublisher").getShouldUseGraphQLForMedia(b,I),L=new(c("URI"))("/media/upload/photos/composer/");else if(B&&K)L=new(c("URI"))(l.getURI(e));else if(C)N==="group"&&!J?(g=!0,c("ifRequired")("ReactComposerQuestionStore",function(a){var b=a.canChooseMultiplePollOptions(e)?"CHOOSE_MULTIPLE":"CHOOSE_ONE",c=a.canAnyoneAddPollOptions(e)?"OPEN":"LOCKED";a=a.getOptionStrings(e);var d=[];for(var f=0;f<a.length;++f)a[f].length>0&&d.push({option_text:a[f]});Object.assign(I,{attachment_poll_data:{poll_type:b,poll_answers_state:c,options:d}})})):(L=new(c("URI"))("/ajax/questions/save.php"),c("ifRequired")("ReactComposerQuestionStore",function(a){var b=a.getOptionStrings(e),d=a.getOptionImageIndices(e);Object.assign(I,{composerAttachmentQuestion:c("ReactComposerStatusStore").getMessage(e),question_options:b,question_option_image_indices:d,source:N,create_eigenpoll:a.canChooseMultiplePollOptions(e),anyone_add_options:a.canAnyoneAddPollOptions(e)})}),Object.assign(I,d("ReactComposerPostDataUtils").getMediaUploadsData(e,M)));else if(D&&I.attachment.params.allowMultiMedia||I.fan_funding_promotion_payload)g=!0;else if(F){var Q,R;c("ifRequired")("ReactComposerProfilePictureFrameStore",function(a){Q=a.getSelectedOverlayID(e),R=a.getScheduledPostDate(e),P=d("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(e,a.getCroppedPhotoForUpload(e))});var S,T,U;m=!1;if(R){S=c("formatDate")(R,"m/d/Y",{skipPatternLocalization:!0});K=R.getHours()*d("DateConsts").MIN_PER_HOUR+R.getMinutes();T=d("DateConsts").SEC_PER_MIN*K;U=R.getTime()/1e3;m=!0}L=new(c("URI"))("/media/upload/photos/composer/");Object.assign(I,babelHelpers["extends"]({},P,{scheduled:m,sticker_id:Q,future_date:S,future_time:T,scheduled_publish_time:U}))}else if(H)L=d("ThisControllerNoLongerExists").__DEADURI__("erdahazn6");else if(G){var V,W=!0;c("ifRequired")("ReactComposerMediaEffectShareStore",function(a){P=d("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(e,a.getEffectPhotoForUpload(e));var b=a.getComposerData(e).effectStatus;V=a.getEffectToApply(e);b==="active"&&(W=!1);b=a.getUploadedVideoID(e);if(b){Object.assign(I,{draft:W});a.postVideo(e,I);return}});L=new(c("URI"))("/media/upload/photos/composer/");Object.assign(I,babelHelpers["extends"]({},P,{scheduled:!1,sticker_id:V,draft:W}))}else if(I.attachment&&I.attachment.params.canvas_video){L=c("XVideoEditDialogSaveController").getURIBuilder().setInt("v",I.attachment.params.canvas_video.video_id).setEnum("composer_entry_point_ref",E).getURI();C=O===null&&!I.draft;Object.assign(I,I.attachment.params.canvas_video);Object.assign(I,{description:I.xhpc_message,is_canvas_video:!0,publish:C,scheduled_publish_time:O,source:"page_video_lpp_publish"});var X={content_id:I.attachment.params.canvas_video.video_id,event:"publish",is_old_composer:!1,scraped_url:I.attachment.params.url,target_id:f};c("ifRequired")("PagesComposerActionsLogger",function(a){a.log(X)})}else if(I.attachment&&I.attachment.params.carousel_video_lpp){L=c("XVideoEditDialogSaveController").getURIBuilder().setInt("v",I.attachment.params.carousel_video_lpp.video_id).setEnum("composer_entry_point_ref",E).getURI();J=O===null&&!I.draft;Object.assign(I,I.attachment.params.carousel_video_lpp);Object.assign(I,{description:I.xhpc_message,scheduled_publish_time:O,publish:J,source:"page_video_lpp_publish"});var Y={child_attachments:I.attachment.params.child_attachments,event:"publish",target_id:f,content_id:I.attachment.params.carousel_video_lpp.video_id,is_old_composer:!1,scraped_url:I.attachment.params.url};c("ifRequired")("PagesComposerActionsLogger",function(a){a.log(Y)})}else g=c("ComposerPublisher").getShouldUseGraphQLForStatus(b,I),L=new(c("URI"))("/ajax/updatestatus.php");F=L;K=!1;c("ifRequired")("ReactComposerVideoXEditDialogStore",function(f){K=f.hasSelectedCustomThumbnails(e);if(K){var g=M.map(function(a){return a.id}),h=f.getThumbnailTypes(g.toArray(),e),i={};M.forEach(function(a){return i[a.id]=a.photoID});var j={};for(var h=h,k=Array.isArray(h),m=0,h=k?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(k){if(m>=h.length)break;n=h[m++]}else{m=h.next();if(m.done)break;n=m.value}n=n;var o=n[0];n=n[1];j[i[o]]=n}Object.assign(I,{thumb_types:j});o=f.getUploadsWithTextOnThumbnail(g.toArray(),e);n=[];for(m=o,k=Array.isArray(m),h=0,m=k?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(k){if(h>=m.length)break;j=m[h++]}else{h=m.next();if(h.done)break;j=h.value}o=j;n=n.concat(i[o])}Object.assign(I,{videos_with_text_thumbnails:n});var p=d("ReactComposerPostDataUtils").createFormData(I);f.getThumbnails(g.toArray(),e).then(function(f){f.forEach(function(a){p.append("thumb"+i[a[0]],a[1])});if(B&&l.hasFile(e)){f=l.getFile(e);p.append("file1",f)}f=d("ActorURI").create(L,b);f=new(c("ReactComposerAsyncRequest"))(e,f).setRawData(p).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);f.send()}).done()}});L===F||i(0,5904);if(c("ReactComposerAudienceStore").getStoriesSelected(e)){m=c("ReactComposerMediaUploadStore").getVideos(e).size>0;m&&(I.is_also_posting_video_to_feed=c("ReactComposerAudienceStore").getTimelineSelected(e));j||c("ComposerPublisher").publish(babelHelpers["extends"]({},a,{onPostSuccess:z}),I,{type:"STORIES"})}if(c("ReactComposerAudienceStore").getInstagramSelected(e)){H=c("ReactComposerAudienceStore").getInstagramBusinessAccountID(e);H&&(I.instagram_business_account_id=H)}c("ReactComposerAudienceStore").getSelectedGroupID(e)&&(I.crosspost_group_id=c("ReactComposerAudienceStore").getSelectedGroupID(e));if(c("ReactComposerAudienceStore").getAdsPePostSelected(e)){G=d("ActorURI").create(L,b);C=new(c("ReactComposerAsyncRequest"))(e,G).setData(I).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);C.send();return}c("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(e).isEmpty()||c("ComposerPublisher").publish(babelHelpers["extends"]({},a,{onPostSuccess:c("curry")(y,c("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(e))}),I,{type:"MESSENGER",messenger_ids:c("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(e)});if(!c("ReactComposerAudienceStore").getTimelineSelected(e)&&!j)return;if(g){c("ComposerPublisher").publish(a,I,{type:"TIMELINE"});return}I.delight_ranges&&Object.assign(I,{delight_ranges:JSON.stringify(I.delight_ranges)});if(!K){E=d("ActorURI").create(L,b);a.isSaveDraft&&Object.assign(I,{composer_attachment_sell_draft_type:"commerce_sell_options",draft:!0});O=new(c("ReactComposerAsyncRequest"))(e,E).setData(I).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);if(B&&l.hasFile(e)){J=l.getFile(e);f=new FormData();f.append("file1",J);O.setRawData(f)}O.send()}}g.publish=a;g.isPostButtonDisabled=b;g._getIsOnMediaAttachment=n;g._setupGenericDataFromStore=o;g._setupDataForPlaceListAttachment=p;g._setupDataForFormattedText=q;g._setupDataForCTAAttachment=r;g._setupDataForPageRecommendationAttachment=s;g._setupDataForPremadePost=t;g._setupDataForGIFAttachment=u;g._setupDataForLocalDevPlatformAttachment=v;g._setupDataForDetectionAnalyticsData=w;g._setupDataForComposerStyle=x;g._onMessengerSuccess=y;g._onStorySuccess=z;g._onInstagramSuccess=e;g._getSomethingWentWrongDialog=A;g.post=f}),98);
__d("ComposerXAttachmentBootstrap",["csx","cx","CSS","Form","FormSubmit","Parent","URI"],(function(a,b,c,d,e,f,g,h){var i,j=[],k={bootstrap:function(a){k.load(b("Parent").byTag(a,"form"),a.getAttribute("data-endpoint"))},load:function(a,c,d){c=new(i||(i=b("URI")))(c).addQueryData({composerurihash:k.getURIHash(c)});b("CSS").conditionClass(a,"_fu",d);d=b("Parent").bySelector(a,"._2_4");b("CSS").removeClass(d,"async_saving");b("Form").setDisabled(a,!1);a.action=c.toString();b("FormSubmit").send(a)},getURIHash:function(a){if(a==="initial")return"initial";var b=j.indexOf(a);if(b!==-1)return b+"";else{b=j.length;j[b]=a;return b+""}}};e.exports=k}),null);
__d("ComposerXContextConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({propertyNames:{actorID:"ACTOR_ID",postID:"POST_ID"},propertyValues:{ACTOR_ID:"actorID",POST_ID:"postID"}});f["default"]=a}),66);
__d("ComposerXContext",["invariant","ComposerXContextConfig"],(function(a,b,c,d,e,f,g){var h=function(a){return b("ComposerXContextConfig").propertyNames[a]};a=function(){"use strict";function a(a){this.$1={};for(var b in a)this.setProperty(b,a[b])}var b=a.prototype;b.getProperty=function(a){h(a)||g(0,5921);return this.$1[a]};b.setProperty=function(a,b){h(a)||g(0,5922);this.$1[a]=b;return this};return a}();a.PROPERTIES=b("ComposerXContextConfig").propertyValues;e.exports=a}),null);
__d("ComposerXSessionIDInserter",["csx","ComposerXSessionIDs","DOM","DOMQuery","Event","Parent","onEnclosingPageletDestroy"],(function(a,b,c,d,e,f,g){var h={init:function(a){var c=b("Event").listen(a,"submit",h._onSubmit);b("onEnclosingPageletDestroy")(a,function(){c.remove()})},_onSubmit:function(a){h.insertSessionInput(a.getTarget())},insertSessionInput:function(a){var c=b("Parent").bySelector(a,"._119");if(!c)return;c=b("ComposerXSessionIDs").getSessionID(c.id);if(!c)return;var d=b("DOMQuery").scry(a,"._5r_b")[0];!d?b("DOM").prependContent(a,b("ComposerXSessionIDs").createSessionIDInput(c)):d.value=c}};e.exports=h}),null);
__d("ComposerXStore",["Arbiter","ge"],(function(a,b,c,d,e,f){var g={};function h(a,b){return"ComposerX/"+a+"/"+b}a={set:function(a,c,d){g[a]||(g[a]={}),g[a][c]=d,b("Arbiter").inform(h(a,c),{},"state")},get:function(a,b){return g[a]?g[a][b]:null},getAllForComposer:function(a){return g[a]||{}},waitForComponents:function(a,c,d){b("Arbiter").registerCallback(d,c.map(h.bind(null,a)))}};b("Arbiter").subscribe("page_transition",function(){for(var a in g)b("ge")(a)||delete g[a]});e.exports=a}),null);
__d("AudienceSelectorTags",[],(function(a,b,c,d,e,f){var g={};a={hasTags:function(a){return Object.prototype.hasOwnProperty.call(g,a)},setHasTags:function(a){a&&(g[a]=!0)}};e.exports=a}),null);
__d("DynamicIconSelector",["Button","CSS","DOM","SelectorDeprecated"],(function(a,b,c,d,e,f){var g={swapIcon:function(a){var c=b("SelectorDeprecated").getSelectedOptions(a)[0];c=c&&b("DOM").scry(c,".itemIcon")[0];a=b("SelectorDeprecated").getSelectorButton(a);if(c)b("Button").setIcon(a,c.cloneNode(!0));else{var d=b("DOM").scry(a,".img")[0];d&&b("DOM").remove(d)}b("CSS").conditionClass(a,"uiSelectorChevronOnly",!c)}};b("SelectorDeprecated").subscribe("change",function(a,c){a=c.selector;b("CSS").hasClass(a,"dynamicIconSelector")&&g.swapIcon(a)});e.exports=g}),null);
__d("PrivacyBaseFilterConst",[],(function(a,b,c,d,e,f){a=Object.freeze({FOLLOWERS:220,FRIENDS_ON_CAMPUS:210,FRIENDS_AND_MUTUAL_GAME_PLAYERS:200,FRIEND_LIST:129,FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,META_INTERNAL_DOGFOODING:113,CUSTOM:111,EVERYONE:80,EVERYONE_MINOR_DEPRECATED:75,EVERYONE_MINUS_FRIENDS:70,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,MUTUAL_FRIENDS_DEPRECATED:35,SELF:10,NOBODY:0});f["default"]=a}),66);
__d("PrivacySelectorOption",["csx","fbt","Arbiter","AudienceSelectorTags","CSS","CurrentUser","DOM","DynamicIconSelector","Parent","PrivacyBaseFilterConst","PrivacyConst","SelectorDeprecated","intlList"],(function(a,b,c,d,e,f,g,h,i){a=function(){function a(a,b){var e=this;if(!a)throw new Error("there's no DOM option. Config data: ",b);this.$1=a;this.$2=d("Parent").byClass(this.$1,"audienceSelector");if(!this.$2)return;this.$3=b.priv_base_val;this.$4="";this.$5=b.has_restricted||!1;this.$6=b.is_custom||!1;this.$7=b.included||"";this.$8=b.excluded||{};this.$9={};this.$10=b.tag_expansion_behavior||c("PrivacyConst").TagExpansion.NONE;this.$11=c("DOM").scry(a,".plusLabel")[0];this.$12=c("DOM").scry(a,".audienceCountLabel")[0];this.$13=[];this.$14=[];this.$17();this.$18();this.$19();c("Arbiter").subscribe("Composer/changedtags",function(a,b){a=d("CSS").hasClass(e.$2,"composerAudienceSelector");if(!e.$20()||!a)return;e.$14=[];e.$13=[];for(a=0;a<b.withTags.length;a++){var f=b.withTags[a].info;f.uid!=c("CurrentUser").getID()&&(e.$14.push(f.text),e.$13.push(f.uid))}for(f in b.mention)b.mention[f].type=="user"&&b.mention[f].uid!=c("CurrentUser").getID()&&(e.$14.push(b.mention[f].text),e.$13.push(b.mention[f].uid));a=c("DOM").scry(document.body,"._5l7q")[0];a&&!!e.$13.length&&d("CSS").hide(a);e.$18();f=e.$17();f&&c("SelectorDeprecated").isOptionSelected(e.$1)&&(e.$19(),c("Arbiter").inform("SelectedPrivacyOption/changed",e.$20()))});c("SelectorDeprecated").listen(this.$2,"change",function(){return e.$19()})}var b=a.prototype;b.updateOption=function(a,b,c,d,e){this.$3=a;this.$7=b;this.$8=c;this.$10=d;this.$4=e;this.$17();this.$18();return{label:this.$15,tooltip:this.$16}};b.$17=function(){var a=this.$15;this.$15=this.$21();var b=this.$16;this.$16=this.$22();return b!=this.$16||a!=this.$15};b.$22=function(){if(this.$6)return this.$23();switch(this.$3){case c("PrivacyBaseFilterConst").ALL_FRIENDS:return this.$24();case c("PrivacyBaseFilterConst").FRIENDS_MINUS_ACQUAINTANCES:return this.$25();case c("PrivacyBaseFilterConst").SELF:var a=this.$26();return a?a:this.$27();default:return this.$23()}};b.$21=function(){var a=this.$1.getAttribute("data-label").replace(/\(.*\)/,"");if(this.$28()){var b=" ("+this.$4+")";a+=b}this.$29()&&(a+=" (+)");return a};b.$18=function(){if(this.$12){if(this.$28()){var a=" ("+this.$4+")";c("DOM").setContent(this.$12,a)}d("CSS").conditionShow(this.$12,this.$28())}this.$11&&d("CSS").conditionShow(this.$11,this.$29())};b.$20=function(){return{tags:this.$13,privacy:this.$3}};b.$28=function(){return this.$12&&this.$4&&this.$4.length>0};b.$29=function(){var a=this.$30(),b=!!this.$13.length||this.$31();return b&&a!=c("PrivacyConst").TagExpansion.NONE};b.$31=function(){var a=c("DOM").scry(this.$2,"*[data-oid]")[0];a=a&&a.getAttribute("data-oid");return a&&d("AudienceSelectorTags").hasTags(a)};b.$19=function(){if(!this.$32()&&c("SelectorDeprecated").isOptionSelected(this.$1)){var a=d("CSS").hasClass(this.$2,"composerAudienceSelector");a&&c("SelectorDeprecated").setButtonLabel(this.$2,this.$15);c("SelectorDeprecated").setButtonTooltip(this.$2,this.$16);d("DynamicIconSelector").swapIcon(this.$2);return!1}return!0};b.$32=function(){var a=c("DOM").scry(this.$2,"*[data-shared-album]")[0];return a&&a.getAttribute("data-shared-album")};b.$30=function(){if(this.$10)return this.$10;var a=this.$3===c("PrivacyConst").FriendsValue.SELF,b=this.$3===c("PrivacyConst").FriendsValue.EVERYONE;if(a&&this.$32()||b)return c("PrivacyConst").TagExpansion.NONE;else if(this.$3<c("PrivacyConst").FriendsValue.ALL_FRIENDS)return c("PrivacyConst").TagExpansion.TAGGEES;return c("PrivacyConst").TagExpansion.FRIENDS_OF_TAGGEES};b.$26=function(){var a=this.$30();if(!!this.$13.length||this.$31()){if(a==c("PrivacyConst").TagExpansion.FRIENDS_OF_TAGGEES)return i._("friends of anyone tagged");else if(a==c("PrivacyConst").TagExpansion.TAGGEES)return i._("Anyone tagged");return""}return""};b.$27=function(){if(this.$7)return this.$7;var a=this.$3===c("PrivacyConst").FriendsValue.SELF;return a&&!this.$32()?i._("Only Me"):this.$1.getAttribute("data-label")};b.$33=function(a,b){return!b?a:i._("{list of people who can see this}; Except: {list of people who cannot see this}",[i._param("list of people who can see this",a),i._param("list of people who cannot see this",b)])};b.$24=function(){var a=this.$14.length;if(a>2)return this.$5?i._("Your friends and friends of anyone tagged; Except: Restricted"):i._("Your friends and friends of anyone tagged");else if(a==2)if(this.$5)return i._("Your friends, {user}'s friends and {user2}'s friends. Except: Restricted",[i._param("user",this.$14[0]),i._param("user2",this.$14[1])]);else return i._("Your friends, {user}'s friends and {user2}'s friends",[i._param("user",this.$14[0]),i._param("user2",this.$14[1])]);else if(a==1)if(this.$5)return i._("Your friends and {user}'s friends; Except: Restricted",[i._param("user",this.$14[0])]);else return i._("Your friends and {user}'s friends",[i._param("user",this.$14[0])]);else return this.$5?i._("Your friends; Except: Restricted"):i._("Your friends")};b.$25=function(){var a=this.$14.length;if(a>0||this.$31()){a=i._("friends of anyone tagged");a=i._("{people who can see this}, {list of more people who can see this}",[i._param("people who can see this",i._("Your friends")),i._param("list of more people who can see this",a)]);var b=i._("Acquaintances");this.$5&&(b=i._("{Name of Acquaintances friend list}, {restricted}",[i._param("Name of Acquaintances friend list",b),i._param("restricted",i._("Restricted"))]));return this.$33(a,b)}else return this.$5?i._("Friends; Except: Acquaintances, Restricted"):i._("Friends except Acquaintances")};b.$23=function(){var a=this.$27(),b=this.$26();b&&(a=i._("{list of people who can see this}, {list of additional people who can see this}",[i._param("list of people who can see this",a),i._param("list of additional people who can see this",b)]));for(b=0;b<this.$13.length;b++){var d=this.$13[b];if(d in this.$8){delete this.$8[d];this.$9[d]=this.$14[b];break}}for(d in this.$9)if(Object.prototype.hasOwnProperty.call(this.$9,d)&&this.$13.indexOf(d)===-1){this.$8[d]=this.$9[d];delete this.$9[d];break}b=[];for(d in this.$8)Object.prototype.hasOwnProperty.call(this.$8,d)&&b.push(this.$8[d]);return this.$33(a,c("intlList")(b))};return a}();g["default"]=a}),98);
__d("XPrivacyCustomDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/custom_dialog/",{__asyncDialog:{type:"Int"},id:{type:"String",required:!0},option_id:{type:"String",required:!0},autosave:{type:"Bool",defaultValue:!1},explain_tags:{type:"Bool",defaultValue:!1},limit_community:{type:"Bool",defaultValue:!1},limit_fof:{type:"Bool",defaultValue:!1},limit_tagexpand:{type:"Bool",defaultValue:!1},is_new_privacy_selector:{type:"Bool",defaultValue:!1},render_location_enum:{type:"Enum",enumType:1},content_type:{type:"String"},post_param:{type:"String"},privacy_data:{type:"String"},source:{type:"String"},tags:{type:"IntVector"},saved_custom_opt_in:{type:"Bool",defaultValue:!1}})}),null);
__d("CustomPrivacyOptionController",["Arbiter","AsyncDialog","AsyncRequest","DOM","Event","Form","Parent","PrivacyConst","PrivacySelectorOption","SelectorDeprecated","XPrivacyCustomDialogController","setTimeout"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){var e=this;if(!a)return;c("setTimeout")(function(){e.$2=d("Parent").byClass(a,"audienceSelector");if(!e.$2)return;e.initCustomState(a,b.option_id,b.id);var f={priv_base_val:b.base_audience_value,is_custom:!0,included:b.included_audience,excluded:b.excluded_audience,tag_expansion_behavior:b.tag_expansion_behavior};e.$3=new(c("PrivacySelectorOption"))(a,f);c("Event").listen(a,"click",function(a){e.openCustomDialog(a,b.option_id,b.explain_tags,b.autosave,b.limit_community,b.limit_fof,b.limit_tagexpand,b.source)});c("SelectorDeprecated").listen(e.$2,"select",function(a){a.option.$1!=e.$1&&e.clearCustomState()})},0)}var b=a.prototype;b.$6=function(a,b,d,e,f,g){a=c("SelectorDeprecated").getOption(this.$2,a)||c("SelectorDeprecated").getOption(this.$2,c("PrivacyConst").BaseValue.CUSTOM+"");b=this.$3.updateOption(b,d,e,f,g);c("Arbiter").inform("CustomPrivacyOptionController/update",{selector:this.$2,option:a,tooltip:b.tooltip,label:b.label});return this};b.$7=function(a,b){b=b==c("PrivacyConst").BaseValue.CUSTOM||!c("SelectorDeprecated").getOption(this.$2,b);var d=this.$2.getAttribute("data-name");this.updateCustomState(a,b,d);return this};b.initCustomState=function(b,d,e){a.$8[d]=this;this.$5=c("DOM").find(b,".customPrivacyInputs");this.$1=e;this.$4={};d=c("Form").serialize(this.$5);d.audience&&(this.$4=d.audience[e]);return b};b.openCustomDialog=function(a,b,d,e,f,g,h,i){var j=this;b=c("XPrivacyCustomDialogController").getURIBuilder().setString("option_id",b).setString("id",this.$1).setString("privacy_data",JSON.stringify(this.$4)).setBool("explain_tags",d).setBool("autosave",e).setBool("limit_community",f).setBool("limit_fof",g).setBool("limit_tagexpand",h).setBool("is_new_privacy_selector",!1).setString("source",i).getURI();d=new(c("AsyncRequest"))(b);d.setRelativeTo(a.getTarget());c("AsyncDialog").send(d,function(a){a.subscribe("cancel",function(){c("Arbiter").inform("CustomPrivacyOptionController/cancel",{selector:j.$2})})})};b.updateCustomState=function(a,b,d){this.clearCustomState();this.$4=babelHelpers["extends"]({},a);if(b&&d){d=d.slice(0,-"[value]".length);d=(b={},b[d]=a,b);c("Form").createHiddenInputs(d,this.$5,{},!0)}};b.clearCustomState=function(){this.$4={},c("DOM").empty(this.$5)};a.update=function(b,d,e,f,g,h,i,j,k){f=a.$8[b];f.$7(d,e).$6(e,g,h,i,j,k);c("Arbiter").inform("Form/change",{node:f.$5})};a.getData=function(b){b=a.$8[b];return b&&b.$4};a.setPrivacyData=function(b,c,d){a.$8[b].$7(c,d)};return a}();a.$8={};g["default"]=a}),98);
__d("AudienceSelector",["Arbiter","AsyncRequest","AudienceSelectorTags","CSS","CustomPrivacyOptionController","DOM","DOMQuery","DynamicIconSelector","OldPrivacySelectorTypedLogger","PrivacyConst","SelectorDeprecated"],(function(a,b,c,d,e,f){var g={};b("SelectorDeprecated").subscribe("select",function(a,c){if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;a=b("SelectorDeprecated").getOptionValue(c.option);c.value=a;b("Arbiter").inform("AudienceSelector/changed",c);if(a==b("PrivacyConst").BaseValue.CUSTOM&&!b("CSS").hasClass(c.option,"noDialog")){b("SelectorDeprecated").toggle(c.selector);return!1}b("Arbiter").inform("AudienceSelector/changedNonCustomDialogButton",c);if(b("CSS").hasClass(c.selector,"dataTooltip")){a=b("DOM").find(c.option,".itemAnchor").getAttribute("data-tooltip");b("SelectorDeprecated").setButtonTooltip(c.selector,a||null)}if(!b("CSS").hasClass(c.option,"specialOption"))return;a=b("DOM").find(c.option,"a").getAttribute("data-type");if(b("CSS").hasClass(c.option,"moreOption")){b("CSS").addClass(c.selector,a);b("CSS").addClass(c.selector,"showSecondaryOptions");return!1}else if(b("CSS").hasClass(c.option,"returnOption")){b("CSS").removeClass(c.selector,"showSecondaryOptions");b("CSS").removeClass(c.selector,"friendList");return!1}});var h=function(a,c){var d=i(a,"data-fbid-for-logging");a=i(a,"data-adama-render-location");new(b("OldPrivacySelectorTypedLogger"))().setEvent(c).setFbid(d).setAdamaRenderLocation(a).log()},i=function(a,c){var d=a.getAttribute(c);if(d)return d;d=b("DOMQuery").scry(a,".uiSelectorButton")[0];return d?d.getAttribute(c):null};function j(a){var b=document.documentElement;a=a.getBoundingClientRect();return a.top>=0&&a.bottom<=(window.innerHeight||b.clientHeight)&&a.left>=0&&a.right<=(window.innerWidth||b.clientWidth)}b("SelectorDeprecated").subscribe(["open","close"],function(a,c){if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;var d=b("DOMQuery").scry(c.selector,".uiSelectorMenuWrapper");if(d.length>0){d=d[0];b("CSS").conditionClass(d,"audienceSelectorUpwards",!j(d))}d=a==="open"?"open_menu":"close_menu";h(c.selector,d)});var k={keepSynchronized:function(a,b){g[a]||(g[a]={}),g[a][b.id]=b},setHasTags:function(a){b("AudienceSelectorTags").setHasTags(a)},getComposerInstance:function(){var a=g["PrivacyLiteNav/audience"];if(a){var b;for(var c in a){b=a[c];return b}}return null},forceAndKeepSynchronized:function(a,c){k.keepSynchronized(a,c),b("Arbiter").inform("AudienceSelector/update",{option:b("SelectorDeprecated").getSelectedOptions(c)[0],selector:c})},get:function(a){if(b("CSS").hasClass(a,"audienceSelector"))return a;a=b("DOM").scry(a,"div.audienceSelector");if(a.length!=1)return;return a[0]},setAudience:function(a,c){var d=k.get(a);b("SelectorDeprecated").loadMenu(d,function(a){b("SelectorDeprecated").setSelected(d,c.toString());b("DynamicIconSelector").swapIcon(d);a=b("SelectorDeprecated").getSelectedOptions(d);var e=a[0]&&b("DOM").find(a[0],"a");e&&e.getAttribute("ajaxify")&&b("AsyncRequest").bootstrap(e.getAttribute("ajaxify"),e,!0);b("Arbiter").inform("AudienceSelector/changed",{option:a[0],selector:d})})}};b("Arbiter").subscribe("CustomPrivacyOptionController/update",function(a,c){if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;b("SelectorDeprecated").setSelected(c.selector,b("SelectorDeprecated").getOptionValue(c.option));b("DynamicIconSelector").swapIcon(c.selector);a=b("CSS").hasClass(c.selector,"composerAudienceSelector");a&&b("SelectorDeprecated").setButtonLabel(c.selector,c.label);b("SelectorDeprecated").setButtonTooltip(c.selector,c.tooltip);h(c.selector,"custom_save");b("Arbiter").inform("AudienceSelector/update",c)});b("Arbiter").subscribe("CustomPrivacyOptionController/cancel",function(a,c){if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;h(c.selector,"custom_cancel")});b("Arbiter").subscribe(["AudienceSelector/changed","AudienceSelector/update"],function(a,c){var d=b("SelectorDeprecated").getOptionValue(c.option),e=null;d==b("PrivacyConst").BaseValue.EVERYONE?e="select_everyone":d==b("PrivacyConst").BaseValue.FRIENDS_OF_FRIENDS?e="select_friends_of_friends":d==b("PrivacyConst").BaseValue.ALL_FRIENDS?e="select_friends":d==b("PrivacyConst").BaseValue.FRIENDS_MINUS_ACQUAINTANCES?e="select_friends_except_acquaintances":d==b("PrivacyConst").BaseValue.SELF?e="select_only_me":d==b("PrivacyConst").BaseValue.CUSTOM?a==="AudienceSelector/changed"&&(e="select_custom"):d==b("PrivacyConst").BaseValue.FACEBOOK_EMPLOYEES?e="select_fb_only":b("CSS").hasClass(c.option,"friendListOption")?e="select_friendlist":b("CSS").hasClass(c.option,"moreOption")?e="select_see_all_lists":b("CSS").hasClass(c.option,"returnOption")?e="select_return":e="select_other";e!=null&&h(c.selector,e);e={};if(d==b("PrivacyConst").BaseValue.CUSTOM){if(a=="AudienceSelector/changed")return;e=b("CustomPrivacyOptionController").getData(c.option.id);if(!e)return}for(a in g){var f=g[a];if(f[c.selector.id]){b("Arbiter").inform("AudienceSelector/syncNonSelectorIcon",{category:a});for(var i in f){var j=f[i];if(!j||c.selector===j)continue;b("SelectorDeprecated").getValue(j)!==d&&(b("SelectorDeprecated").setSelected(j,d),b("DynamicIconSelector").swapIcon(j));if(d==b("PrivacyConst").BaseValue.CUSTOM){var k=b("SelectorDeprecated").getOption(j,b("PrivacyConst").BaseValue.CUSTOM+"");k&&(b("CustomPrivacyOptionController").setPrivacyData(k.id,e,d),b("SelectorDeprecated").setButtonTooltip(j,c.tooltip))}}}}});e.exports=k}),null);
__d("PrivacySelectorNewDispatcher",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f,g){var h="selector";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.handleUpdateFromSelector=function(a){this.dispatch(babelHelpers["extends"]({payloadSource:h},a))};return b}(c("Dispatcher_DEPRECATED"));b=new a();d=b;g["default"]=d}),98);
__d("PrivacySelector",["csx","Arbiter","ArbiterMixin","AsyncRequest","AudienceSelector","CSS","DOM","DataStore","PrivacyConst","PrivacySelectorNewDispatcher","Promise","Run","SelectorDeprecated","SubscriptionsHandler","ThisControllerNoLongerExists","asyncToGeneratorRuntime","mixin","promiseDone"],(function(a,b,c,d,e,f,g,h){var i;a=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var e;e=a.call(this)||this;b instanceof HTMLElement?e.$PrivacySelector3=b:e.$PrivacySelector1=b;e.$PrivacySelector7=null;e.$PrivacySelector6=new(c("SubscriptionsHandler"))();e.$PrivacySelector5=new(c("SubscriptionsHandler"))();e.$PrivacySelector1!=null?e.$PrivacySelector8():e.$PrivacySelector9();d("Run").onLeave(e.cleanup.bind(babelHelpers.assertThisInitialized(e)));return e}var f=e.prototype;f.select=function(a,b,e){var f=this;if(a==null||b==null)throw new Error("PrivacySelector.select: you must pass in privacyParam and privacyBase");if(this.$PrivacySelector1!=null){var g=this.$PrivacySelector1;e&&this.$PrivacySelector6.addSubscriptions(g.subscribeOnce("changed",function(a,b){e&&e("changed",{post_param:b.post_param})}));g.selectOption(a)}else e&&this.$PrivacySelector5.addSubscriptions(c("Arbiter").subscribe("AudienceSelector/changed",function(a,b){if(f.$PrivacySelector10(b.selector)){a=c("SelectorDeprecated").getOptionValue(b.option);e&&e("changed",{privacy_base:a})}})),d("AudienceSelector").setAudience(this.$PrivacySelector3,b)};f.expandFull=function(a){this.$PrivacySelector1!=null?this.$PrivacySelector1.openSelectorExpanded(a):this.expand(a)};f.expandFullAndShowFlyout=function(a){this.expandFull(this.showFlyoutOnMenu.bind(this,a))};f.expand=function(a){var b=this;if(this.$PrivacySelector1!=null)this.$PrivacySelector1.openSelector(a);else{var d=c("SelectorDeprecated").getSelectorMenu(this.$PrivacySelector3);!d?c("SelectorDeprecated").loadMenu(this.$PrivacySelector3,function(){a&&a()}):this.$PrivacySelector5.addSubscriptions(c("SelectorDeprecated").listen(this.$PrivacySelector3,"open",function(){a&&a(),b.$PrivacySelector10(b.$PrivacySelector3)}));c("SelectorDeprecated").toggle(this.$PrivacySelector3,a)}};f.showFlyoutOnMenu=function(a){this.$PrivacySelector2&&this.$PrivacySelector2.hide();this.$PrivacySelector2=a;var b;this.$PrivacySelector1!=null?(b=this.$PrivacySelector1.getMenuElement(),a.setOffsetY(85)):(b=c("DOM").scry(this.$PrivacySelector3,"div.uiSelectorMenuWrapper")[0],a.setOffsetY(13));a.setContext(b);a.show()};f.setOnClose=function(a){this.$PrivacySelector7=a};f.cleanup=function(){this.$PrivacySelector6.release(),this.$PrivacySelector6=new(c("SubscriptionsHandler"))(),this.$PrivacySelector5.release(),this.$PrivacySelector5=new(c("SubscriptionsHandler"))(),this.$PrivacySelector2&&this.$PrivacySelector2.hide(),this.$PrivacySelector2=null,this.$PrivacySelector7=null};f.disable=function(){this.$PrivacySelector1!=null?this.$PrivacySelector1.disable():c("SelectorDeprecated").setEnabled(this.$PrivacySelector3,!1)};f.enable=function(){this.$PrivacySelector1!=null?this.$PrivacySelector1.enable():c("SelectorDeprecated").setEnabled(this.$PrivacySelector3,!0)};e.get=function(a){if(!a)return null;var b=e.getAdamaSelectorInstance(a);return b?new e(b):new e(a)};e.genAndThen=function(a,b){a=e.getViableIDsForSelectorFetch(a);if(!a.length)return;a=e.$PrivacySelector12(a);var d=a.then(function(a){var c=a[0];a=a[1];b(c);return[c,a]});c("promiseDone")(d,function(a){a[0];a=a[1];e.$PrivacySelector11[a]=d})};e.getViableIDsForSelectorFetch=function(a){var b=[];a.id&&b.push(a.id);a=e.getDOMFromStory(a);a&&a.id&&b.push(a.id);return b};e.$PrivacySelector12=function(a){for(var c of a){var d=e.$PrivacySelector11[c];if(d!=null)return d}return new(i||(i=b("Promise")))(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var d;while(!(d=e.$PrivacySelector13(a)))yield new(i||(i=b("Promise")))(function(a){return setTimeout(a,500)});c(d)});return function(a){return c.apply(this,arguments)}}())};e.$PrivacySelector13=function(a){for(a of a){var b=d("DataStore").get(a,"selector");if(b)return[b,a]}return null};e.getAdamaSelectorInstance=function(a){return e.$PrivacySelector14(a)||e.$PrivacySelector14(e.getDOMFromStory(a))};e.$PrivacySelector14=function(a){a=a&&a.id;return!a?null:d("DataStore").get(a,"selector")};e.getDOMFromStory=function(a){if(!a)return null;var b=c("DOM").scry(a,"._43_1")[0];return b?b:d("AudienceSelector").get(a)};e.getIconFromSelectorDOM=function(a){return c("DOM").scry(a,"i.img")[0]};e.setComposerPrivacy=function(a,b,e){e=d("ThisControllerNoLongerExists").__DEADBUILDER__("xu8mtgis5").setString("privacyx",a).setString("logging_source",e);new(c("AsyncRequest"))(e.getURI()).send();c("PrivacySelectorNewDispatcher").handleUpdateFromSelector({selector_type:8787670733..toString(),post_param:a,unique_value:"_updateStickyComposerPrivacy"});e=d("AudienceSelector").getComposerInstance(b);e&&d("AudienceSelector").setAudience(e,b)};e.isFakeOrUneditableSelector=function(a){return d("CSS").matchesSelector(a,"._2qwi")||d("CSS").matchesSelector(a,"._29ee")||d("CSS").matchesSelector(a,"._jl")||c("DOM").scry(a,"._2qwi")[0]||c("DOM").scry(a,"._29ee")[0]||c("DOM").scry(a,"._jl")[0]};f.$PrivacySelector8=function(){var a=this,b=this.$PrivacySelector1;if(!b)return;this.$PrivacySelector6.addSubscriptions(b.subscribe("changed",function(b,c){return a.inform("changed",{post_param:c.post_param})}),b.subscribe("selectorFinished",function(){return a.$PrivacySelector7&&a.$PrivacySelector7()}))};f.$PrivacySelector9=function(){var a=this;this.$PrivacySelector6.addSubscriptions(c("Arbiter").subscribe("AudienceSelector/update",function(b,d){if(a.$PrivacySelector3!==d.selector)return;b=c("SelectorDeprecated").getOptionValue(d.option);a.inform("changed",{privacy_base:b})}),c("Arbiter").subscribe("AudienceSelector/changed",function(b,e){if(a.$PrivacySelector3!==e.selector)return;if(d("CSS").hasClass(e.option,"moreOption")||d("CSS").hasClass(e.option,"returnOption"))return;e.value!=c("PrivacyConst").BaseValue.CUSTOM?a.inform("changed",{privacy_base:e.value}):e.value==c("PrivacyConst").BaseValue.CUSTOM&&(a.$PrivacySelector4=!0)}),c("SelectorDeprecated").listen(this.$PrivacySelector3,"close",function(){if(a.$PrivacySelector4){a.$PrivacySelector4=!1;return}a.$PrivacySelector7&&a.$PrivacySelector7()}),c("Arbiter").subscribe("CustomPrivacyOptionController/cancel",function(b,c){if(a.$PrivacySelector3!==c.selector)return;a.$PrivacySelector7&&a.$PrivacySelector7()}))};f.$PrivacySelector10=function(a){if(a!=this.$PrivacySelector3)return!1;this.$PrivacySelector5.release();this.$PrivacySelector5=new(c("SubscriptionsHandler"))();return!0};return e}(c("mixin")(c("ArbiterMixin")));a.$PrivacySelector11={};g["default"]=a}),98);
__d("ComposerX",["csx","cx","ActorURI","Arbiter","CSS","ComposerXAttachmentBootstrap","ComposerXContext","ComposerXMarauderLogger","ComposerXSessionIDInserter","ComposerXSessionIDs","ComposerXStore","DOM","DOMQuery","PrivacySelector","PrivacySelectorNewDispatcher","SubscriptionsHandler","URI","getObjectValues","removeFromArray"],(function(a,b,c,d,e,f,g,h){var i,j="any";a=function(){"use strict";function a(a){var c=this;this._root=a;this._composerID=a.id;this._attachments={};this._context=new(b("ComposerXContext"))({});b("ComposerXSessionIDs").resetSessionID(this._composerID);b("ComposerXSessionIDInserter").init(this._root);this._subscriptionsHandler=new(b("SubscriptionsHandler"))();this._subscriptionsHandler.addSubscriptions(b("Arbiter").subscribe(["composer/publish","composer/close"],function(d,e){if(e.composer_id===c._composerID){c.reset();d=b("DOMQuery").scry(a,".hidden_target_specs");d&&d.length&&d.forEach(b("DOM").remove);b("Arbiter").inform("composer/publishDone",e)}}));this._subscriptionsHandler.addSubscriptions.apply(this._subscriptionsHandler,b("ComposerXMarauderLogger").listenForPostEvents(this._composerID,this._getContent()));this._attachmentFetchForm=b("DOMQuery").find(a,"._2_4");b("Arbiter").inform("composer/ready",{},"state")}var c=a.prototype;c.getAttachment=function(a,c,d,e){a=this._augmentURI(a);var f=b("ComposerXAttachmentBootstrap").getURIHash(a);this._endpointHashToShow=f;var g=this._attachments[f];g&&!e?this._showAttachmentAfterComponentsLoaded(f,d):this.fetchAttachmentData(a,c,e)};c.fetchAttachmentData=function(a,c,d){a=this._augmentURI(a);var e=b("ComposerXAttachmentBootstrap").getURIHash(a);if(this._attachments[e]&&!d)return;this._currentFetchEndpoints.includes(e)||(b("ComposerXAttachmentBootstrap").load(this._attachmentFetchForm,a,c),this._currentFetchEndpoints.push(e))};c.setAttachment=function(a,c,d,e){b("removeFromArray")(this._currentFetchEndpoints,a),this._setupAttachment(a,c,d,e),this._showAttachmentAfterComponentsLoaded(a,!1)};c.setInitialAttachment=function(a,c,d,e,f){f&&(this._context=f);a=this._augmentURI(a);f=b("ComposerXAttachmentBootstrap").getURIHash(a);this._setupAttachment(f,c,d,e);this._initialAttachmentEndpoint=a;this._currentInstance||this._showAttachmentAfterComponentsLoaded(f,!0)};c.setComponent=function(a,c){b("ComposerXStore").get(this._composerID,a)||(b("ComposerXStore").set(this._composerID,a,c),b("DOM").appendContent(this._attachmentFetchForm,b("DOM").create("input",{type:"hidden",name:"loaded_components[]",value:a})))};c.reset=function(){this._currentInstance&&(this._currentInstance.cleanup(),this._currentInstance=null);b("ComposerXSessionIDs").resetSessionID(this._composerID);for(var a in this._attachments)this._attachments[a].instance.reset();a=b("ComposerXStore").getAllForComposer(this._composerID);b("getObjectValues")(a).forEach(function(a){a.reset&&a.reset(a)});a=b("PrivacySelector").getAdamaSelectorInstance(b("DOM").scry(this._root,"div._1lo2")[0]);var c=b("ComposerXStore").get(this._composerID,"mainprivacywidget");c=c&&c.instance&&c.instance.getInstance();a?c.setInstance(a):a=c&&c.getInstance();a&&a.shouldReplaceOnPost()&&b("PrivacySelectorNewDispatcher").handleUpdateFromSelector({selector_type:8787670733..toString(),post_param:"",unique_id:"_reloadStickySelectors",reload:!0});this.getAttachment(this._initialAttachmentEndpoint,!1,!0);b("Arbiter").inform("composer/reset")};c.destroy=function(){this._subscriptionsHandler.release()};c.addPlaceholders=function(a,b){var c;for(var d in this._attachments){c=this._attachments[d];if(c.instance===a){b.forEach(function(a){c.placeholders.push(a),c.required_components.push(a.component_name)});break}}this._currentInstance===a&&this._fillPlaceholders(b)};c.hasAttachmentWithClassName=function(a){return b("DOMQuery").scry(this._root,"."+a).length>0};c.showAttachmentThrobber=function(){b("CSS").addClass(this._attachmentFetchForm,"async_saving")};c.hideAttachmentThrobber=function(){b("CSS").removeClass(this._attachmentFetchForm,"async_saving")};c.getContext=function(){return this._context};c.getID=function(){return this._composerID};c._setupAttachment=function(a,c,d,e){c.setComposerID(this._composerID);this._attachments[a]={instance:c,placeholders:d,required_components:e};a=this._getContent();d=c.getRoot();d.parentNode!==a&&(b("CSS").hide(d),b("DOM").appendContent(a,d))};c._getContent=function(){return b("DOMQuery").find(this._root,"div._55d0")};c._showAttachment=function(a,c,d,e){if(this._currentInstance===a)return;if(this._endpointHashToShow===j)this._endpointHashToShow=null;else if(this._endpointHashToShow!==c)return;if(this._currentInstance){if(!this._currentInstance.canSwitchAway())return;this._currentInstance.cleanup()}this._currentInstance=a;c=this._getContent().childNodes;var f=a.getRoot();for(var g=0;g<c.length;g++)c[g]!==f&&b("CSS").hide(c[g]);b("CSS").show(f);this._fillPlaceholders(d);a.initWithComponents(e);this._setAttachmentSelectedClass(a.attachmentClassName);b("Arbiter").inform("composer/initializedAttachment",{composerRoot:this._root,isInitial:e})};c._showAttachmentAfterComponentsLoaded=function(a,c){var d=this._attachments[a];b("ComposerXStore").waitForComponents(this._composerID,d.required_components,this._showAttachment.bind(this,d.instance,a,d.placeholders,c))};c._fillPlaceholders=function(a){var c=this;a.forEach(function(a){var d=b("ComposerXStore").get(c._composerID,a.component_name);d.element&&a.element!==d.element.parentNode&&b("DOM").setContent(a.element,d.element)})};c._setAttachmentSelectedClass=function(a){var c=b("DOMQuery").scry(this._root,"._519b")[0];c&&(b("CSS").removeClass(c,"_519b"),c=b("DOMQuery").scry(c,'*[aria-pressed="true"]')[0],c&&c.setAttribute("aria-pressed","false"));if(a){a=b("DOMQuery").scry(this._root,"."+a)[0];a&&(b("CSS").addClass(a,"_519b"),c=b("DOMQuery").scry(a,'*[aria-pressed="false"]')[0],c&&c.setAttribute("aria-pressed","true"))}};c._augmentURI=function(a){var c=this._context.getProperty(b("ComposerXContext").PROPERTIES.ACTOR_ID);c=c?b("ActorURI").create(a,c):new(i||(i=b("URI")))(a);a=this._context.getProperty(b("ComposerXContext").PROPERTIES.POST_ID);a&&c.addQueryData("post_id",a);return c.toString()};return a}();Object.assign(a.prototype,{_endpointHashToShow:j,_currentFetchEndpoints:[],_initialAttachmentEndpoint:""});e.exports=a}),null);
__d("registerForLeaveWarning",["fbt","Run","URI","createCancelableFunction"],(function(a,b,c,d,e,f,g){var h;function c(a){var c=(h||(h=b("URI"))).getNextURI(),d=b("createCancelableFunction")(a);b("Run").onBeforeUnload(function(){return i(d,c)});return d}function i(c,d){var e=(h||(h=b("URI"))).getMostRecentURI(),f=h.getNextURI();e=Object.prototype.hasOwnProperty.call(e.getQueryData(),"theater")&&d.path===f.path;var j=Object.prototype.hasOwnProperty.call(f.getQueryData(),"theater");f=a.DialogNavigationStack&&a.DialogNavigationStack.isActiveURI(f);if(e||j||f){b("Run").onAfterLoad(function(){b("Run").onBeforeUnload(function(){return i(c,d)})});return}if(a.Dialog&&a.Dialog.getCurrent())return;if(c())return g._("You haven't finished your post yet. Do you want to leave without finishing?")}e.exports=c}),null);
__d("ComposerXController",["csx","invariant","$","ActorURI","Arbiter","ComposerX","ComposerXAttachmentBootstrap","ComposerXContext","ComposerXMarauderLogger","Event","Parent","emptyFunction","ge","registerForLeaveWarning"],(function(a,b,c,d,e,f,g,h){var i={},j={},k={};function l(a){var c=b("ge")(a);if(!c)return null;c=b("Parent").bySelector(b("$")(a),"._119");a=c.id;k[a]||(k[a]=new(b("ComposerX"))(c));return k[a]}function m(a){var b=l(a);b!==null||h(0,2477,a);return b}function n(a){if(!j[a])return;j[a].forEach(function(a){return a.cancel()});delete j[a]}var o={registerConditionForComposerCancel:function(a,c){a=m(a).getID();a in i||(i[a]=[]);i[a].push(c);a in j||(j[a]=[]);j[a].push(b("registerForLeaveWarning")(c))},hasChanges:function(a){a=i[a];return!a?!1:a.some(function(a){return a()})},getAttachment:function(a,b,c,d){a=m(a);a.getAttachment(b,c,null,d)},fetchAttachmentData:function(a,b,c){m(a).fetchAttachmentData(b,c)},setAttachment:function(a,b,c,d,e){a=l(a);a&&a.setAttachment(b,c,d,e)},setInitialAttachment:function(a,b,c,d,e,f){a=m(a);a.setInitialAttachment(b,c,d,e,f)},setComponent:function(a,b,c){a=l(a);a&&a.setComponent(b,c)},reset:function(a){a=m(a);a.reset()},holdTheMarkup:b("emptyFunction"),getEndpoint:function(a,c,d){a=m(a);var e=a.getContext();c=b("ActorURI").create(c,e.getProperty(b("ComposerXContext").PROPERTIES.ACTOR_ID)).toString();b("ComposerXAttachmentBootstrap").load(a._attachmentFetchForm,c,d)},addPlaceholders:function(a,b,c){a=m(a);a.addPlaceholders(b,c)},hasAttachmentWithClassName:function(a,b){a=m(a);return a.hasAttachmentWithClassName(b)},showAttachmentThrobber:function(a){a=m(a);a.showAttachmentThrobber()},hideAttachmentThrobber:function(a){a=m(a);a.hideAttachmentThrobber()},logEventForElement:function(a,c){if(!b("Parent").bySelector(b("$")(a),"._119"))return;b("Event").listen(a,"click",function(){var d=o.getComposerID(a);b("ComposerXMarauderLogger").logEvent(c,d)})},getComposerID:function(a){return m(a).getID()},destroyComposer:function(a){if(!(a in k))return;k[a].destroy();delete k[a];delete i[a];n(a)}};b("ComposerXAttachmentBootstrap").bootstrap=function(a){o.getAttachment(a,a.getAttribute("data-endpoint"))};b("Arbiter").subscribe("page_transition",function(){for(var a in k)b("ge")(a)||o.destroyComposer(a)});e.exports=o}),null);
__d("ComposerXTokenizer",["CSS","CurrentUser","DOM","DOMQuery","Token","Tokenizer"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c,d){b=a.call(this,b,c,d)||this;b._loadingIndicatorText="";return b}var d=c.prototype;d.createDecorativeToken=function(a,c){var d=new(b("Token"))(a,this.paramName);c=d.createElement(!1,c);d.setElement(c);b("CurrentUser").getID()==a.uid&&b("DOMQuery").scry(c,'input[type="hidden"]').forEach(b("DOM").remove);return d};d.setLoadingIndicatorText=function(a){this._loadingIndicatorText=a};d.addLoadingIndicator=function(){if(this._loadingIndicator)return;this._loadingIndicator=this.createDecorativeToken({text:this._loadingIndicatorText},"loadingIndicator");b("DOM").appendContent(this.tokenarea,this._loadingIndicator.element);this.updateTokenarea()};d.removeToken=function(b){b===this._loadingIndicator?(this.removeLoadingIndicator(),this.inform("removeLoadingIndicator")):a.prototype.removeToken.call(this,b)};d.removeLoadingIndicator=function(){if(!this._loadingIndicator)return;b("DOM").remove(this._loadingIndicator.element);this._loadingIndicator=null;this.updateTokenarea()};d.updateTokenareaVisibility=function(){b("CSS").conditionShow(this.tokenarea,this.tokens.length!==0||this._loadingIndicator)};d.findToken=function(a){a=this._tokenKey(a);return a in this.unique?this.unique[a]:null};d.replaceToken=function(a){var c=this.findToken(a.getInfo());if(c){var d=c.getElement();c.setElement(a.getElement());b("DOM").replace(d,a.getElement());return!0}else{this.addToken(a);return!1}};return c}(b("Tokenizer"));e.exports=a}),null);
__d("ComposerXImplicitLocation",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,b,c,d){this._citySharer=a,this._placeTagger=b,this._hiddenInput=c,this._subscriptions=[],this._subscribeChangeCity(),this._subscribeSelect(),this._subscribeUnselect()}var b=a.prototype;b.cleanup=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe()};b.disable=function(){this._placeTagger.getCore().getValue()||(this._disableImplicit=!0,this._citySharer.saveCityInfo(),this._citySharer.clearCity()),this._placeTagger.getData().setBootstrapEndpoint("/ajax/places/typeahead")};b.enable=function(){this._placeTagger.getCore().getValue()||(this._citySharer.restoreCityInfo(),this._disableImplicit=!1),this._placeTagger.getData().resetBootstrapEndpoint()};b.selectPlace=function(a){a.place_type=="city"&&(this._citySharer.changeCity(a.text,a.uid,a.city_id),this._placeTagger.getCore().setCity(a.city_id,!0)),a.city_id?!this._disableImplicit?this._citySharer.changeCity(a.city_name,a.city_page_id,a.city_id):this._citySharer.setCityData(a.city_name,a.city_page_id,a.city_id):this._citySharer.clearCity(),this._citySharer.addPlace(a)};b.unselectPlace=function(){this._hiddenInput.value=this._citySharer.getValue(),this._citySharer.clearPlace(),this._disableImplicit&&this.disable()};b._subscribeChangeCity=function(){var a=this;this._subscriptions.push(this._citySharer.subscribe("change",function(b,c){a._placeTagger.getCore().getHiddenValue()||(a._hiddenInput.value=a._citySharer.getValue()),c&&c.city_id&&a._placeTagger.getCore().setCity(c.city_id,!0)}))};b._subscribeSelect=function(){var a=this;this._subscriptions.push(this._placeTagger.subscribe("select",function(b,c){a.selectPlace(c.selected)}))};b._subscribeUnselect=function(){this._subscriptions.push(this._placeTagger.subscribe("unselect",this.unselectPlace.bind(this)))};return a}();e.exports=a}),null);
__d("PlaceUtils",[],(function(a,b,c,d,e,f){a={placesClose:function(a,b,c,d){a=a||0;b=b||0;c=c||0;d=d||0;return Math.abs(a-c)<1e-5&&Math.abs(b-d)<1e-5},isNonSpecificPlace:function(a){return a=="city"||a=="state_province"||a=="country"||a=="geo_entity"}};e.exports=a}),null);
__d("ComposerXStandardTagger",["cx","Arbiter","ArbiterMixin","AsyncRequest","CSS","ComposerXImplicitLocation","CurrentUser","DOM","Event","Focus","Input","Keys","Parent","PlaceUtils","StickyPlaceholderInput","WeakToken","getOrCreateDOMID","isEmpty","mixin"],(function(a,b,c,d,e,f,g){var h;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._listeners=[];c._subscriptions=[];c._onCleanup=[];c._config=b||{};c._taggers={};c._taggerIcons={};c._onTaggerShowCallbacks={};c._onTaggerHideCallbacks={};c._currentTagger=null;c._sponsorRelationshipSelector=null;c._sharedToSponsorCheckbox=null;c._taggerSideElements={};c._socialTextSelectors={};return c}var d=c.prototype;d.init=function(a){var c=this;this._mentionsInput=a.getComponent("maininput");this._withTagger=a.getComponent("withtagger");this._withTaggerIcon=a.getComponent("withtaggericon");this._placeTagger=a.getComponent("placetagger");this._hiddenExplicitPlace=a.getComponent("explicitplaceinput");this._citySharerIcon=a.getComponent("citysharericon");this._hiddenPlaceInput=a.getComponent("hiddenplaceinput");this._placeNameInput=a.getComponent("placenameinput");this._sessionID=a.getComponent("hiddensessionid");this._editParams=a.getComponent("editparams");this._interestTagger=a.getComponent("interesttagger");this._interestTaggerIcon=a.getComponent("pagestargetingicon");this._hasMentionsInput()&&(this._input=b("DOM").scry(this._mentionsInput.element,"textarea.input")[0],b("Arbiter").subscribe("composer/ogCustomIconSelected",function(){b("Focus").set(c._input)}));this._withTagger&&this.initAndRegisterWithTagger();this._placeTagger&&this.initAndRegisterPlaceTagger();this._placeTagger&&this.registerAutoEventSuggestion();this.initAndRegisterInterestTagger();this._hasMentionsInput()&&this._listeners.push(b("Event").listen(this._mentionsInput.element,"mousedown",this._onMentionsInputClicked.bind(this)))};d.registerAutoEventSuggestion=function(){var a=this;this._subscriptions.push(b("Arbiter").subscribe("Events/autoSuggestionConfirmed",function(c,d){a._toggleTagger("place"),b("Arbiter").inform("Events/autoSuggestionSelected",d),b("Focus").set(a._input)}))};d.initAndRegisterPlaceTagger=function(){this.registerTagger("place",this._placeTagger,this._citySharerIcon),this.initTaggerInput("place",this._placeTagger.instance.getCore().getElement()),this._initCitySharer(),this._initPlaceTagger()};d.initAndRegisterWithTagger=function(){this.registerTagger("with",this._withTagger,this._withTaggerIcon),this.initTaggerInput("with",this._withTagger.instance.getInput()),this._initWithTagger(),this.isEditComposer()&&this._updateWithTaggerUI()};d.initAndRegisterInterestTagger=function(){if(!this._interestTagger||!this._interestTaggerIcon)return;this.registerTagger("interest",this._interestTagger,this._interestTaggerIcon);this.initTaggerInput("interest",this._interestTagger.instance.getInput());this._subscriptions.push(this._interestTagger.instance.subscribe(["addToken","removeToken","init"],this._updateInterestTaggerUI.bind(this)))};d.cleanup=function(){this.hideTaggers(),this._listeners.forEach(function(a){a.remove()}),this._listeners=[],this._subscriptions.forEach(function(a){a.unsubscribe()}),this._subscriptions=[],this._onCleanup.forEach(function(a){a()}),this._onCleanup=[],this._citySharerIcon&&this._implicitLocation.cleanup(),this._brComposerUpsell=null};d.reset=function(){this._socialTextRequest&&this._socialTextRequest.abort()};d.registerTagger=function(a,c,d){this._taggers[a]=c,this.hasIcons()&&(this._taggerIcons[a]=d,this._listeners.push(b("Event").listen(this._taggerIcons[a].element,"click",this._toggleTagger.bind(this,a))))};d.registerTaggerSideElement=function(a,b,c){a in this._taggerSideElements||(this._taggerSideElements[a]={}),b in this._taggerSideElements[a]||(this._taggerSideElements[a][b]=c)};d.hideTaggerIcons=function(){for(var a in this._taggers)b("CSS").hide(this._taggerIcons[a].element)};d.showTaggerIcons=function(){for(var a in this._taggers)b("CSS").show(this._taggerIcons[a].element)};d.initTaggerInput=function(a,c){var d=this,e=this._config.placeholders||{};e[a]&&b("StickyPlaceholderInput").setPlaceholderText(c,e[a]);this._onTaggerShowCallbacks[a]=b("Focus").set.bind(null,c);this._listeners.push(b("Event").listen(c,"keydown",function(a){b("Event").getKeyCode(a)==b("Keys").RETURN&&!b("Input").getValue(a.getTarget())&&(d.hideTaggers(),setTimeout(b("Focus").set.bind(null,d._input),0))}))};d.setTaggerCallback=function(a,b){this._onTaggerShowCallbacks[a]=b};d.setTaggerHideCallback=function(a,b){this._onTaggerHideCallbacks[a]=b};d._initCitySharer=function(){this._implicitLocation=new(b("ComposerXImplicitLocation"))(this._citySharerIcon.instance,this._placeTagger.instance,this._hiddenPlaceInput.element),this._config.disableImplicitCity?this._implicitLocation.disable():this._implicitLocation.enable()};d.switchTaggerInResponseToClick=function(a){a=a.getTarget();b("Parent").byClass(a,"withToken")?this.switchToTagger("with"):b("Parent").byClass(a,"placeToken")?this.switchToTagger("place"):b("Parent").byClass(a,"og_composer_object")?this.switchToTagger("ogtagger"):this._hideTaggersFromMentionsInputClick()};d._onMentionsInputClicked=function(a){this.switchTaggerInResponseToClick(a)};d._hideTaggersFromMentionsInputClick=function(){this.hideTaggers()};d._initWithTagger=function(){this._subscriptions.push(this._withTagger.instance.subscribe(["addToken","removeToken","init"],this._updateWithTaggerUI.bind(this))),this.refreshWithTaggerPlaceholder()};d.getWithTaggerPlaceholder=function(){return this._config.placeholders?this._config.placeholders["with"]:null};d.getCitySharerIcon=function(){return this._citySharerIcon};d.refreshWithTaggerPlaceholder=function(){var a=this.getWithTaggerPlaceholder();a&&this._withTagger.instance.setPlaceholder(a)};d._initPlaceTagger=function(){var a=this;this._subscriptions.push(this._placeTagger.instance.subscribe("select",function(c,d){a._hiddenPlaceInput.element.value=d.selected.uid,a._placeNameInput.element.value=d.selected.text,a._hiddenExplicitPlace.element.value=!0,a._placeType=d.selected.place_type,a.updateTaggedText(),a.hideTaggers(),b("Focus").set(a._input)}));this._subscriptions.push(this._placeTagger.instance.subscribe("unselect",function(b,c){a._hiddenExplicitPlace.element.value=!1,a._placeNameInput.element.value="",a._placeType=null,a.updateTaggedText()}))};d.addSubscription=function(a){this._subscriptions.push(a)};d.addListener=function(a){this._listeners.push(a)};d.hasIcons=function(){return!0};d._showTagger=function(a){b("Arbiter").inform("showTagger");this._currentTagger=a;b("CSS").show(this._taggers[a].element);this.hasIcons()&&b("CSS").addClass(this._taggerIcons[a].element,"_509o");a==="with"&&new(b("AsyncRequest"))().setURI("/ajax/fof/user_education.php").setData({increment:1}).send();this._onTaggerShowCallbacks[a]&&this._onTaggerShowCallbacks[a]();if(a in this._taggerSideElements)for(var c in this._taggerSideElements[a])b("CSS").show(this._taggerSideElements[a][c].element)};d._hideTagger=function(a){b("CSS").hide(this._taggers[a].element);this.hasIcons()&&b("CSS").removeClass(this._taggerIcons[a].element,"_509o");this._onTaggerHideCallbacks[a]&&this._onTaggerHideCallbacks[a]();this._currentTagger===a&&(this._currentTagger=null);if(a in this._taggerSideElements)for(var c in this._taggerSideElements[a])b("CSS").hide(this._taggerSideElements[a][c].element)};d.hideTaggers=function(){for(var a in this._taggers)this._hideTagger(a);this._currentTagger=null;this.inform("hidetaggers")};d.isAnyTaggerShown=function(){return!!this._currentTagger};d.switchToTagger=function(a){this.hideTaggers(),this._showTagger(a)};d._toggleTagger=function(a){b("CSS").shown(this._taggers[a].element)?this.hideTaggers():this.switchToTagger(a)};d._getTaggedTextData=function(){if(this._hasPlaceTagger())var a=this._placeTagger.instance.getCore(),c=a.getHiddenValue(),d=c&&a.getValue();a=(this._withTagger&&this._withTagger.instance.getTokens()||[]).filter(function(a){return a.info.uid!=b("CurrentUser").getID()});return!a.length&&!d?{}:{people:a.map(function(a){return a.info.uid}),weakReferences:a.filter(function(a,c,d){return a instanceof b("WeakToken")}).map(function(a){return a.info.uid}),place:d,placeID:c,isNonSpecificPlace:b("PlaceUtils").isNonSpecificPlace(this._placeType)}};d.updateTaggedText=function(){if(this._hasMentionsInput()){var a=this._getTaggedTextData();this.getExtraTaggedTextData&&(a=Object.assign(a,this.getExtraTaggedTextData()));++this._requestID;if((h||(h=b("isEmpty")))(a)){this._mentionsInput.instance.setAuxContent(null);b("Arbiter").inform("reflow");return}a.requestID=this._requestID;a.sessionID=this._sessionID.element.value;this._socialTextRequest=new(b("AsyncRequest"))();this._socialTextRequest.setURI("/ajax/metacomposer/social_text.php").setData(a).setHandler(this._handleSocialText.bind(this)).send()}};d._updateWithTaggerUI=function(){if(!this._withTagger||!this._withTaggerIcon)return;setTimeout(b("StickyPlaceholderInput").update.bind(null,this._withTagger.instance.getInput()),0);b("CSS").conditionClass(this._withTaggerIcon.element,"_1dsa",this._withTagger.instance.getTokens().length>0);this.updateTaggedText()};d._updateInterestTaggerUI=function(){b("CSS").conditionClass(this._interestTaggerIcon.element,"_21yl",this._interestTagger.instance.getTokens().length>0)};d._handleSocialText=function(a){if(a.payload.requestID===this._requestID){var c=this._mentionsInput.instance;c.setAuxContent(a.payload.rendered);a=c.getAuxContentRoot();a&&this._input.setAttribute("aria-labelledby",b("getOrCreateDOMID")(a));b("Arbiter").inform("reflow")}};d._hasMentionsInput=function(){return this._mentionsInput!==void 0};d._hasPlaceTagger=function(){return this._placeTagger!==void 0};d.isEditComposer=function(){return!!this._editParams};return c}(b("mixin")(b("ArbiterMixin")));Object.assign(a.prototype,{_placeType:null,_requestID:0,_socialTextRequest:null});e.exports=a}),null);
__d("OGComposerConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({EditAttachmentURI:"/ajax/composerx/attachment/edit/",ExercisesTypeID:718343998201893,TransitivityStateIntransitive:2});f["default"]=a}),66);
__d("ComposerXOGTaggerBehavior",["csx","cx","Arbiter","CSS","ComposerXController","DOM","DOMQuery","MinutiaeVerbs","OGComposerConstants","URI"],(function(a,b,c,d,e,f,g,h){var i,j=null;a={initOGTagger:function(a){var c=this;this._attachmentRoot=a.getRoot();this._showPreview=a.allowOGTagPreview();this._ogTagger=a.getComponent("ogtagger");this._ogIcon=a.getComponent("ogtaggericon");this._removeUrl=a._config&&a._config.remove_url||"/ajax/composerx/attachment/status/";j=this._ogTagger.instance;this.registerTagger("ogtagger",this._ogTagger,this._ogIcon);this.setTaggerCallback("ogtagger",this._ogTagger.instance.showTagger.bind(this._ogTagger.instance));this.setTaggerHideCallback("ogtagger",this._ogTagger.instance.hideTagger.bind(this._ogTagger.instance));this.addSubscription(this._ogTagger.instance.subscribe("changed",this._handleOGActionChanged.bind(this)));this.addSubscription(this._ogTagger.instance.subscribe("unselect",this._handleOGActionRemoved.bind(this)));this._placeTagger&&this.addSubscription(this._placeTagger.instance.subscribe(["select","unselect"],this._handlePlaceChanged.bind(this)));this.addSubscription(b("Arbiter").subscribe("composer/initializedAttachment",function(){c._ogTagger.instance.isSet()&&b("Arbiter").inform("composer/deactivateDragdrop")}));this.addSubscription(b("Arbiter").subscribe("composer/ogCustomIconSelected",function(a,b){if(typeof b!=="object"){c._ogTagger.instance.setCustomIconID(b);return}c._ogTagger.instance.setCustomIconID(b.icon_id)}));this.addSubscription(b("Arbiter").subscribe("composer/ogIconPickerOpened",function(a,b){if(typeof b!=="object"){c._ogTagger.instance.markIconPickerOpened();return}c._ogTagger.instance.markIconPickerOpened()}));this.addSubscription(b("Arbiter").subscribe("composer/updateViewerLocationEstimate",function(a,b){return c._handleViewerLocationChanged(b)}));this.subscribe("hidetaggers",this.hideTypeaheadView.bind(this));this._updateOGIconState();this._updateWithTaggerUI();if(!this._config.preventUnfinishedPostAlert){var d=a.getComposerID();a=a.getRoot();while(a!=null){a=a.parentNode;if(a.id==d)break}b("ComposerXController").registerConditionForComposerCancel(a,function(){return j&&j.hasChanges&&j.hasChanges()})}},_handleOGActionChanged:function(){this._ogTagger.instance.setCustomIconID("");this.updateTaggedText();this._updateOGIconState();if(this._showPreview&&this._ogTagger.instance.isSet()){b("Arbiter").inform("composer/deactivateDragdrop");var a=this._ogTagger.instance.getObjectID();if(a){var c=this._ogTagger.instance.getActionTypeID(),d=b("DOM").find(this._attachmentRoot,'input[name="hide_object_attachment"]');d.value=0;this._config.objectPreviewID==a&&this._showAttachmentPreview();if(this._config.hasShareScrape)return;this.isEditComposer()?d=new(i||(i=b("URI")))(b("OGComposerConstants").EditAttachmentURI):d=new(i||(i=b("URI")))(this._removeUrl);d.addQueryData({override_preview_object_id:!0,preview_object_id:a,preview_action_type_id:c,og_action_changed:!0});b("ComposerXController").getAttachment(this._attachmentRoot,d.toString());c==b("MinutiaeVerbs").COMPOSER_ATTENDS&&b("Arbiter").inform("composer/attendingMinutiaeAdded",{info:{original_id:a}})}}else b("Arbiter").inform("composer/reactivateDragdrop"),this._hideAttachmentPreview()},_handleOGActionRemoved:function(){b("Arbiter").inform("composer/attendingMinutiaeRemoved",{info:{}})},_updateOGIconState:function(){b("CSS").conditionClass(this._ogIcon.element,"_4-jh",this._ogTagger.instance.isSet()),this._ogTagger.instance.isSet()?(this._ogIcon.element.setAttribute("aria-selected","true"),this._ogIcon.element.removeAttribute("role"),this._hideTagger("ogtagger")):(this._ogIcon.element.setAttribute("aria-selected","false"),this._ogIcon.element.setAttribute("role","button"))},_handleViewerLocationChanged:function(a){if(!a.latitude||!a.longitude)return;this._ogTagger.instance.setViewerCoords&&this._ogTagger.instance.setViewerCoords(a)},_handlePlaceChanged:function(a,b){a=b.selected?b.selected.uid:0;this._ogTagger.instance.setPlaceID(a)},_showAttachmentPreview:function(){var a=b("DOM").scry(this._attachmentRoot,"div.fbComposerOGAttachmentPreview");a[0]&&b("CSS").show(a[0])},_hideAttachmentPreview:function(){var a=b("DOM").scry(this._attachmentRoot,"div.fbComposerOGAttachmentPreview");a[0]&&b("CSS").hide(a[0])},cleanupOGTagger:function(){this._showAttachmentPreview(),j=null},getExtraTaggedTextData:function(){var a={};this.getMoreExtraTaggedTextData&&(a=this.getMoreExtraTaggedTextData());if(!this._ogTagger||!this._ogTagger.instance.isSet())return a;a=Object.assign(a,{actionID:this._ogTagger.instance.getActionTypeID(),objectID:this._ogTagger.instance.getObjectID(),objectStr:this._ogTagger.instance.getObjectStr(),objectQuery:this._ogTagger.instance.getObjectQuery(),actionIconID:this._ogTagger.instance.getCustomIconID(),iconPickerOpened:this._ogTagger.instance.getIconPickerOpened()});return a},isOGTaggerSet:function(){return this._ogTagger&&this._ogTagger.instance.isSet()},hideTypeaheadView:function(){this._ogTagger.instance.getNounTypeahead().getView().hide()},updateSuggestion:function(a,c){if(!a)return;var d=b("DOMQuery").find(this._ogIcon.element,"._5xlw");if(!d)return;var e=parseInt(d.innerText,10)||0;b("DOM").setContent(d,a+e);this._ogTagger.instance.suggestIconShown()||this._ogTagger.instance.showSuggestCount(d);c||(c="");this._ogTagger.instance.getVerbTypeahead().getData().bootstrapData.user_input=c},saveSuggestion:function(a,b){var c=this._ogTagger.instance.getVerbTypeahead().getData().bootstrapData.saved_suggestions||{};c[b]=a;this._ogTagger.instance.getVerbTypeahead().getData().bootstrapData.saved_suggestions=c}};e.exports=a}),null);
__d("ComposerXStandardTaggerWithOG",["ComposerXOGTaggerBehavior","ComposerXStandardTagger","classWithMixins","mixin"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.init=function(b){a.prototype.init.call(this,b),this.initOGTagger(b)};c.cleanup=function(){a.prototype.cleanup.call(this),this.cleanupOGTagger()};return b}(c("classWithMixins")(c("ComposerXStandardTagger"),c("mixin")(d("ComposerXOGTaggerBehavior"))));g["default"]=a}),98);
__d("OGComposerTagger",["csx","Arbiter","ArbiterMixin","CSS","DOM","Event","Input","RTLKeys","StickyPlaceholderInput","areEqual","mixin","tidyEvent"],(function(a,b,c,d,e,f,g){var h;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h,i,j,k,l,m){var n;n=a.call(this)||this;n._verbTypeahead=c;n._nounTypeahead=d;n._hiddenObjectStr=e;n._suggestionMechanismInput=f;n._suggestionLoggingDataInput=j;n._nounTypeaheadDatasources=k;n._defaultNounTypeaheadDatasource=n._nounTypeahead.getData();n._customIconInput=g;n._objectQuery=null;n._suggestIconElement=null;n._suggestIconShown=!1;n._nounTypeaheadMetrics=i;n._iconPickerOpened=!1;n._placeSpecificVerbList=l;n._enableVerbPrefetching=m;n._initialObjectStr=n.getObjectStr();n._initialObjectID=n.getObjectID();h&&(b("DOM").setContent(n._getVerbSpan(),h),b("CSS").show(n._getVerbSpan()));n._prefetchVerbs();c.getCore().preventFocusChangeOnTab=!0;d.getCore().preventFocusChangeOnTab=!0;d.getCore().keepFocused=!1;n._watchCloseButton(d);e=d.getCore().getElement();f=c.getCore().getElement();b("tidyEvent")([c.subscribe("select",function(a,b){return n._handleVerbChange(b.selected)}),d.subscribe("select",function(a,b){return n._handleNounChange(b.selected)}),d.subscribe("unselect",function(){return n._handleNounUnselect()}),b("Event").listen(f,"keydown",function(a){(b("Event").getKeyCode(a)==b("RTLKeys").SPACE||b("Event").getKeyCode(a)==b("RTLKeys").getRight())&&(c.getView().select(!1),a.kill())}),b("Event").listen(e,"keydown",function(a){(b("Event").getKeyCode(a)==b("RTLKeys").BACKSPACE||b("Event").getKeyCode(a)==b("RTLKeys").getLeft())&&b("Input").isEmpty(n._getNounInput())&&n._showVerbTypeahead()}),b("Arbiter").subscribe("structuredSuggestion/add",function(a,b){n._handleVerbChange(b)}),b("Arbiter").subscribe("ogComposer/asyncSuggest",function(a,c){a=JSON.parse(c);if(!n.isSet()){n.setVerbandNoun(a.verb,a.noun);b("Arbiter").inform("ogComposer/asyncSuggest/display",c);var d=!1;n.subscribe("changed",function(a){d||(d=!0,b("Arbiter").inform("ogComposer/asyncSuggest/xout",c))})}}),b("Arbiter").subscribe("highConfSuggestion/saved",function(){n._verbTypeahead.getData().dirty(),n._verbTypeahead.getData().bootstrap()})]);return n}var d=c.prototype;d._prefetchVerbs=function(a){if(this._enableVerbPrefetching){a=this._verbTypeahead.getData();a.bootstrapData.is_prefetching=!0;a.bootstrap();a.bootstrapData.is_prefetching=!1}};d._prefetchNouns=function(a,b){for(var c in this._nounTypeaheadDatasources)if(Object.prototype.hasOwnProperty.call(this._nounTypeaheadDatasources,c)){var d=this._nounTypeaheadDatasources[c];d.init();d.dirty();a!=null&&(d.bootstrapData[a]=b,d.queryData[a]=b);d.queryData.at_id=c;d.bootstrapData.at_id=c;d.bootstrapData.is_prefetching=!0;d.bootstrap();d.bootstrapData.is_prefetching=!1}};d._updateNounTypeahead=function(a,c){var d=this._defaultNounTypeaheadDatasource;if((h||(h=b("areEqual")))(c,d.bootstrapData[a]))return;this._prefetchNouns(a,c);d.bootstrapData[a]=c;d.queryData[a]=c;d.bootstrapData.at_id&&(this._nounTypeaheadMetrics.init(this._nounTypeahead),d.dirty(),d.bootstrap())};d.showTagger=function(){b("Arbiter").inform("showOGTagger"),this._nounTypeahead.getCore().setEnabled(!0),this._suggestionMechanismInput.value==="gk_based_production_prompt_classifier"&&(this._suggestion_logging_data&&(this._suggestion_logging_data.prompt_removed=!0,this._suggestionLoggingDataInput.value=JSON.stringify(this._suggestion_logging_data))),this.isSet()&&!this._suggestionMechanismInput.value?this._showNounTypeahead():this.isSet()?(this._verbTypeahead.getCore().reset(),this._nounTypeahead.getCore().reset(),this.inform("changed"),this._showVerbTypeahead()):this._showVerbTypeahead(),this._suggestIconElement&&(b("CSS").hide(this._suggestIconElement),this._suggestIconShown=!1,this._badgeClicked=!0),this._prefetchNouns()};d.hideTagger=function(){this._nounTypeahead.getCore().setEnabled(!1)};d.isSet=function(){return!!(this.getObjectID()||this.getObjectStr())};d.hasChanges=function(){return this.getObjectID()!==this._initialObjectID||this.getObjectStr()!==this._initialObjectStr};d.reset=function(){this._nounTypeahead.getCore().reset(),this._verbTypeahead.getCore().reset(),this._hiddenObjectStr.value="",this._objectQuery=null,this.setPlaceID(0),this.setCustomIconID(""),this._iconPickerOpened=!1};d.setVerbandNoun=function(a,b){this._verbTypeahead.getCore().select(a),this._handleVerbChange(a),this._nounTypeahead.getCore().select(b),this._handleNounChange(b)};d.getActionTypeID=function(){return this._verbTypeahead.getCore().getHiddenValue()};d.getObjectID=function(){return this._nounTypeahead.getCore().getHiddenValue()};d.setViewerCoords=function(a){a=JSON.stringify(a);this._updateNounTypeahead("coords",a)};d.setPlaceID=function(a){this._updateNounTypeahead("place_id",a);var b=this._verbTypeahead.getData();this._placeSpecificVerbList&&a!=b.bootstrapData.place_id&&(b.bootstrapData.place_id=a,b.queryData!==void 0&&(b.queryData.place_id=a),b.dirty(),this._prefetchVerbs())};d.getObjectStr=function(){return this._hiddenObjectStr.value};d.getObjectQuery=function(){return this._objectQuery};d.getVerbTypeahead=function(){return this._verbTypeahead};d.getNounTypeahead=function(){return this._nounTypeahead};d._handleVerbChange=function(a){this._suggestionMechanismInput.value=a.suggestion_mechanism;a.suggestion_config?(this._suggestion_logging_data=a.suggestion_config,this._suggestionLoggingDataInput.value=JSON.stringify(this._suggestion_logging_data)):this._suggestion_logging_data&&(this._suggestion_logging_data.erased=!0,this._suggestionLoggingDataInput.value=JSON.stringify(this._suggestion_logging_data));if(a.type==="page"){this._nounTypeahead.getCore().setHiddenValue(a.uid);this._verbTypeahead.getCore().setHiddenValue(a.at_id);this.inform("changed");return}var c=null;Object.prototype.hasOwnProperty.call(this._nounTypeaheadDatasources,a.uid)?c=this._nounTypeaheadDatasources[a.uid]:(c=this._defaultNounTypeaheadDatasource,c.dirty(),c.queryData.at_id=a.uid,c.bootstrapData.at_id=a.uid);c!==this._nounTypeahead.getData()&&this._nounTypeahead.swapData(c);this._nounTypeaheadMetrics.resetWithData(this._nounTypeahead);c.bootstrap(!0);this._nounTypeahead.getView().setContext(a);b("StickyPlaceholderInput").setPlaceholderText(this._nounTypeahead.getCore().getElement(),a.prompt);a.prompt_text?(b("CSS").show(this._getVerbSpan()),b("DOM").setContent(this._getVerbSpan(),a.prompt_text)):b("CSS").hide(this._getVerbSpan());this._showNounTypeahead()};d._handleNounUnselect=function(){this._hiddenObjectStr.value="",this.inform("changed"),this.inform("unselect")};d._handleNounChange=function(a){this._suggestionMechanismInput.value="",a.uid?this._hiddenObjectStr.value="":(this._nounTypeahead.getCore().setHiddenValue(""),this._hiddenObjectStr.value=a.text.trim()),this._objectQuery=a.query,this.inform("changed")};d._getVerbSpan=function(){var a=this;this._verbSpan||(this._verbSpan=b("DOM").create("span",{className:"verbText"}),b("DOM").prependContent(this._nounTypeahead.getElement(),this._verbSpan),b("tidyEvent")(b("Event").listen(this._verbSpan,"click",function(){a._showVerbTypeahead();return!1})));return this._verbSpan};d._getNounInput=function(){return this._nounTypeahead.getCore().getElement()};d._showVerbTypeahead=function(){b("CSS").show(this._verbTypeahead.getElement());b("CSS").hide(this._nounTypeahead.getElement());this._verbTypeahead.getCore().reset();this._nounTypeahead.getCore().reset();this._verbTypeahead.getCore().getElement().focus();var a=this._verbTypeahead.getData();this._enableVerbPrefetching&&this._placeSpecificVerbList?a.bootstrap(!0):a.bootstrap()};d._showNounTypeahead=function(){b("CSS").hide(this._verbTypeahead.getElement()),b("CSS").show(this._nounTypeahead.getElement()),this._nounTypeahead.getCore().getElement().focus()};d._watchCloseButton=function(a){var c=this,d=b("DOM").scry(a.getElement(),".uiCloseButton")[0];d||(d=b("DOM").scry(a.getElement(),"._50zy")[0]);b("tidyEvent")(b("Event").listen(d,"click",function(){c._showVerbTypeahead();return!1}))};d.suggestIconShown=function(){return this._suggestIconShown};d.showSuggestCount=function(a){if(this._badgeClicked)return;this._suggestIconShown=!0;this._suggestIconElement=a;b("CSS").show(a)};d.setCustomIconID=function(a){this._customIconInput.value=a};d.getCustomIconID=function(){return this._customIconInput.value};d.markIconPickerOpened=function(){this._iconPickerOpened=!0};d.getIconPickerOpened=function(){return this._iconPickerOpened};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a;e.exports.asyncSuggest=function(a,c,d){var e=JSON.stringify(a);b("Arbiter").subscribe("ogComposer/asyncSuggest/display",function(a,b){e==b&&c()});b("Arbiter").subscribe("ogComposer/asyncSuggest/xout",function(a,b){e==b&&d()});b("Arbiter").inform("ogComposer/asyncSuggest",e)}}),null);
__d("OGComposerTaggerNounTypeaheadView",[],(function(a,b,c,d,e,f){a=function(a){"use strict"};e.exports=a}),null);
__d("PlacesCitySharerX",["csx","cx","fbt","ArbiterMixin","AsyncRequest","CSS","DOM","Event","Parent","mixin"],(function(a,b,c,d,e,f,g,h,i){var j={};a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h,i,j,k,l,m,n,o){o=a.call(this)||this;o._root=b;o.setShareSetting(k);o.init(c,d,e,f,g,l,n);i&&o.setDefaultCity(h,i,j);o._shareDefaultCity&&o.useDefaultCity();m&&o.toggleSelect();return o}var d=c.prototype;d.init=function(a,c,d,e,f,g,h){var i=this;this._cityLink=a;this._closeButton=c;this._input=d;this._disableShareInput=e;this._options=f;this._targetId=g||0;this._cityName=b("DOM").find(this._cityLink,"._y8");this._data={};this._resetTempInfo();b("Event").listen(this._closeButton,"click",function(){i._resetTempInfo(),i._defaultCityData={},i.clearCity(),i._disableShareInput.value="true"});j[this._root]=this;this.inform("init",null,"persistent");this._implicitLocationConfig=h};d.toggleSelect=function(){this._placeSelected=!0,b("CSS").addClass(this._cityLink,"_1dsf"),b("CSS").addClass(this._root,"_1fa"),b("CSS").hide(this._closeButton)};d.addPlace=function(a){this.toggleSelect(),this._resetTempInfo()};d.changeCity=function(a,b,c){this.setCity(a,b,c),this.toggleLocationSharing(a,b,c,!1)};d.clearCity=function(){this._data={};this._input.value="";b("DOM").empty(this._cityName);var a=i._("Check In");this._cityLink.setAttribute("data-tooltip-content",a);(a=b("CSS")).removeClass(this._root,"_y7");a.hide(this._closeButton);a.removeClass(this._cityLink,"_1dsf");a.removeClass(this._root,"_1fa");this.inform("change",null,"persistent")};d.clearPlace=function(){this._placeSelected=!1,b("CSS").removeClass(this._cityLink,"_1dsf"),b("CSS").removeClass(this._root,"_1fa"),b("CSS").conditionShow(this._closeButton,this.getValue()),this._implicitLocationConfig.enable_implicit_location?this.setDefaultCity(this._data.city_name,this._data.city_page_id,this._data.city_id):this.clearCity()};d.getIcon=function(){return this._root};d.getValue=function(){return this._input.value};d.restoreCityInfo=function(){(this._placeSelected||this._shareDefaultCity)&&(this.changeCity(this._tempCityName,this._tempCityPid,this._tempCityId),this._resetTempInfo())};d.saveCityInfo=function(){this._defaultCityData&&(this._tempCityName=this._defaultCityData.city_name,this._tempCityPid=this._defaultCityData.city_page_id,this._tempCityId=this._defaultCityData.city_id)};d.setCity=function(a,b,c){b&&(this.setCityData(a,b,c),this._input.value=b,this.inform("change",this._data,"persistent"))};d.setCityData=function(a,c,d){if(c){this._data={city_name:a,city_page_id:c,city_id:d};c=a.lastIndexOf(",");c!=-1&&(a=a.substring(0,c));a?d=i._("Currently in {city-name}. Check in",[i._param("city-name",a)]):d=i._("Check In");b("DOM").setContent(this._cityName,a);this._cityLink.setAttribute("aria-label",d);b("CSS").addClass(this._root,"_y7");b("CSS").conditionShow(this._closeButton,!this._placeSelected)}};d.setDefaultCity=function(a,b,c){this._defaultCityData={city_id:c,city_page_id:b,city_name:a}};d.setSessionID=function(a){this._options.session_id=a};d.setShareSetting=function(a){this._shareDefaultCity=a};d.toggleLocationSharing=function(a,c,d,e){c&&new(b("AsyncRequest"))().setURI("/ajax/places/toggle_location_sharing").setData({city_id:d,city_page_id:c,city_name:a,is_default:e,session_id:this._options.session_id}).send()};d.useDefaultCity=function(){this._defaultCityData&&(this.setCity(this._defaultCityData.city_name,this._defaultCityData.city_page_id,this._defaultCityData.city_id),b("CSS").show(this._closeButton),this.toggleLocationSharing(this._defaultCityData.city_name,this._defaultCityData.city_page_id,this._defaultCityData.city_id,!0))};d._resetTempInfo=function(){this._tempCityName=null,this._tempCityPid=null,this._tempCityId=null};c.getInstance=function(a){a=b("Parent").byClass(a,"ComposerCitySharer");return a&&j[a]};d.getTargetID=function(){return this._targetId};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("FBStoriesProductionTypes",["immutable"],(function(a,b,c,d,e,f,g){"use strict";a={CAMERA_ERROR:"CAMERA_ERROR",FILE_SIZE_EXCEED:"FILE_SIZE_EXCEED",LEAVING:"LEAVING"};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("immutable").Record({hasImage:void 0,hasMediaStream:void 0,isCameraMediaOpen:void 0,imageSource:void 0,mediaNode:void 0,mediaStream:void 0,privacySettingsCustomParticipants:void 0,privacySettingsMode:void 0,videoSource:void 0}));d={CAMERA_1:"CAMERA_1",CAMERA_2:"CAMERA_2",NULL_STATE:"NULL_STATE",UPLOAD_1:"UPLOAD_1"};e={UNSET:"UNSET",PUBLIC:"PUBLIC",FRIENDS_AND_CONNECTIONS:"FRIENDS_AND_CONNECTIONS",FRIENDS:"FRIENDS",CUSTOM:"CUSTOM"};g.FBStoriesCameraPopupDialogTypes=a;g.FBStoriesCameraState=b;g.FBStoriesProductionFlowStageTypes=d;g.UnifiedStoriesAudienceModeTypes=e}),98);
__d("ScrollableTypeaheadBehavior",["cx","CSS","DOM","Parent","Scroll","ScrollableArea","Style"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this._typeahead=a}var c=a.prototype;c.enable=function(){this._scrollableElems=b("ScrollableArea").renderDOM(),b("CSS").addClass(this._scrollableElems.root,"_ml"),b("DOM").appendContent(this._typeahead.getView().element,this._scrollableElems.root),this._typeahead.getView().content=this._scrollableElems.content,this._scrollableArea=b("ScrollableArea").fromNative(this._scrollableElems.root,{fade:!1}),this._subscriptions=[this._typeahead.getView().subscribe("reset",this._reset.bind(this)),this._typeahead.getView().subscribe("render",this._render.bind(this)),this._typeahead.getView().subscribe("beforeRender",this._beforeRender.bind(this)),this._typeahead.getView().subscribe("next",this._scrollHelper.bind(this)),this._typeahead.getView().subscribe("prev",this._scrollHelper.bind(this))],b("CSS").hide(this._scrollableElems.root),b("CSS").removeClass(this._scrollableElems.root,"_mm")};c.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null};c._reset=function(){b("CSS").hide(this._scrollableElems.root),b("CSS").removeClass(this._scrollableElems.root,"_mm"),this._scrollableArea.scrollToTop()};c._render=function(){this._scrollableArea.poke(),this._showScrollbar?this._scrollableArea.showScrollbar({hideAfterDelay:!1}):this._scrollableArea.hideScrollbar({hideAfterDelay:!1,shouldFade:!1}),b("CSS").addClass(this._scrollableElems.root,"_mm")};c._beforeRender=function(a,c){a=5;this._typeahead.getView().maxResults<10&&(a=3);b("CSS").show(this._scrollableElems.root);b("Style").set(this._scrollableElems.body,"width",this._scrollableElems.wrap.offsetWidth+"px");c.results.length<a?(b("Style").set(this._scrollableElems.wrap,"height",38*c.results.length+4+"px"),this._showScrollbar=!1):(this._scrollableArea.showScrollbar({hideAfterDelay:!1}),b("Style").set(this._scrollableElems.wrap,"height",38*a+4+"px"),this._showScrollbar=!0)};c._scrollHelper=function(a,c){if(!b("Parent").byClass(c,"uiScrollableArea"))return;this._typeahead.getView().ignoreMouseover=!0;a=b("Parent").byClass(c,"uiScrollableAreaWrap");var d=c.offsetTop-a.offsetTop;if(d<b("Scroll").getTop(a)){b("Scroll").setTop(a,d);return}d=d+c.offsetHeight;d>b("Scroll").getTop(a)+a.offsetHeight&&b("Scroll").setTop(a,d-a.offsetHeight)};return a}();Object.assign(a.prototype,{_subscriptions:null,_scrollableElems:null,_scrollableArea:null,_showScrollbar:null});e.exports=a}),null);
__d("legacy:LegacyScrollableTypeaheadBehavior",["ScrollableTypeaheadBehavior"],(function(a,b,c,d,e,f){a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.scrollArea=function(a){a.enableBehavior(b("ScrollableTypeaheadBehavior"))}}),3);
__d("PlacesDataSource",["DataSource"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b._origBootstrapEndpoint=b.bootstrapEndpoint;return b}var c=b.prototype;c.shouldFetchMoreResults=function(b){if(this.queryData.new_js_ranking)return!0;else return a.prototype.shouldFetchMoreResults.call(this,b)};c.mergeUids=function(b,c,d,e){if(this.queryData.new_js_ranking){this._checkExtendedMatch(e,b);return this.deduplicateByKey(d.concat(c,b))}else return a.prototype.mergeUids.call(this,b,c,d,e)};c.resetBootstrapEndpoint=function(a){this.setBootstrapEndpoint(this._origBootstrapEndpoint,a);return this};c.setBootstrapEndpoint=function(a,b){this.bootstrapEndpoint!==a&&(this.bootstrapEndpoint=a,(this._bootstrapped||this._bootstrapping)&&(b=!0));b&&this.dirty().bootstrap();return this};c.getQueryEndpoint=function(){return this.queryEndpoint};c.getBootstrapData=function(){return this.bootstrapData};return b}(b("DataSource"));e.exports=a}),null);
__d("PlacesTypeaheadCore",["Arbiter","CSS","Focus","Run","StickyPlaceholderInput","Style","TypeaheadCore"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.init=function(c,d,e){var f=this;a.prototype.init.call(this,c,d,e);this.arbiterTokens=[b("Arbiter").subscribe("Places/PlaceCreationCancel"+this.callbackID,function(b,a){f.view.allowPlaceCreation=!1,f.view.allowFreeformOption=!0,f.view.reset(),f.focusElement()})];b("Run").onLeave(function(){f.arbiterTokens.forEach(b("Arbiter").unsubscribe)});this._typeaheadID=e.id;this._citySet=!1;this.data.subscribe("fetchComplete",this.update.bind(this))};d.initToggle=function(){var a=this.root.parentNode,c=b("Style").get(a,"position")!="static"?a:this.root,d=this.view,e="PlacesTypeaheadFocused";this.subscribe("focus",function(){d.show(),b("CSS").addClass(c,e)});this.subscribe("blur",function(){d.hide(),b("CSS").removeClass(c,e)})};d.focusElement=function(){b("Focus").set(this.element),this.value="",this.checkValue()};d.setValue=function(c){a.prototype.setValue.call(this,c),b("StickyPlaceholderInput").update(this.element)};d.updateDataSource=function(a){this.data.setQueryData({city_id:this._cityId,city_set:this._citySet}),this.data.setBootstrapData({city_id:this._cityId}),a&&(this.data.dirty(),this.data.bootstrap())};d.setCity=function(a,b){this._citySet=b,this._cityId!==a&&(this._cityId=a,this.updateDataSource(b))};d.update=function(a,b){a=b.response;if(!a)return;b=a.getPayload();b.cityId&&(this._citySet||this.setCity(b.cityId,!1))};d.setLocation=function(a){if(!a||!a.latitude||!a.longitude)return;this.data.setQueryData({latitude:a.latitude,longitude:a.longitude,want_checkin_places:!0});this.data.setBootstrapData({latitude:a.latitude,longitude:a.longitude,want_checkin_places:!0});this.data.resetBootstrapEndpoint(!0)};return c}(b("TypeaheadCore"));Object.assign(a.prototype,{resetOnKeyup:!1});e.exports=a}),null);
__d("PlacesTypeaheadView",["fbt","Arbiter","CSS","DOM","Dialog","Parent","Run","Scroll","ScrollableArea","Style","TypeaheadView"],(function(a,b,c,d,e,f,g){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.init=function(){var c=this;this.content=b("DOM").find(this.element,"div.PlacesTypeaheadViewList");a.prototype.init.call(this);this.subscribe(["render","reset"],this.renderBorders.bind(this));this.arbiterTokens=[b("Arbiter").subscribe("Places/PlaceCreated"+this.callbackID,function(a,b){a={text:b.name,rawtext:b.name,uid:b.fbid,city_id:b.city_id,city_name:b.city_name,city_page_id:b.city_page_id};c.inform("select",{index:-1,clicked:!0,selected:a});c.inform("afterSelect")})];this.arbiterTokens.push(b("Arbiter").subscribe("Events/autoSuggestionSelected",function(a,b){c.inform("select",{index:-1,clicked:!0,selected:{text:b.event_name,rawtext:b.event_name,uid:b.event_fbid}}),c.inform("afterSelect")}));this.arbiterTokens.push(b("Arbiter").subscribe("Prompt/PrefillCheckin",function(a,b){c.inform("select",{index:-1,clicked:!0,selected:b}),c.inform("afterSelect")}));b("Run").onLeave(function(){c.arbiterTokens.forEach(b("Arbiter").unsubscribe)})};d.renderBorders=function(){b("CSS").conditionClass(this.element,"PlacesTypeaheadViewPopulated",this.items.length)};d.show=function(){a.prototype.show.call(this),(!this.results||!this.results.length)&&b("Style").set(this.element,"height",0)};d.render=function(c,d,e){d.forEach(function(a){a.value=c});if(this.allowFreeformOption&&c&&(!d||d.length===0||d[d.length-1].type!="freeform")){var f=g._("Just use \"{custom_location}\"",[g._param("custom_location",c)]);d.push({uid:"0",rawtext:c,text:f,type:"freeform"})}if(this.allowPlaceCreation&&c&&(!d||d.length===0||d[d.length-1].type!="placecreate")){f=g._("Add place \"{custom_location}\"",[g._param("custom_location",c)]);d.push({uid:"0",rawtext:c,text:f,type:"placecreate"})}a.prototype.render.call(this,c,d,e);this.element.style.visibility="hidden";this.visible&&this.results&&this.results.length&&b("Style").set(this.element,"height","");f=b("ScrollableArea").getInstance(this.content);f&&f.adjustGripper();this.inform("afterRender",d);this.element.style.visibility=""};d.select=function(c){var d=this.index;d=this.results[d];if(d){if(d.type==="placecreate"){b("Dialog").bootstrap("/ajax/places/create/dialog.php",{name:d.rawtext,callback_id:this.callbackID});return}d.type==="freeform"&&(d.text=d.rawtext);a.prototype.select.call(this,c)}};d.next=function(){a.prototype.next.call(this),this._scrollIntoView(this.selected)};d.prev=function(){a.prototype.prev.call(this),this._scrollIntoView(this.selected)};d._scrollIntoView=function(a){if(!b("Parent").byClass(a,"uiScrollableArea"))return;this.ignoreNextMouseover=!0;var c=b("Parent").byClass(a,"uiScrollableAreaWrap"),d=a.offsetTop-c.offsetTop;if(d<b("Scroll").getTop(c)){b("Scroll").setTop(c,d);return}d=d+a.offsetHeight;d>b("Scroll").getTop(c)+c.offsetHeight&&b("Scroll").setTop(c,d-c.offsetHeight)};d.mouseover=function(b){this.ignoreNextMouseover||a.prototype.mouseover.call(this,b),this.ignoreNextMouseover=!1};d.highlight=function(b){a.prototype.highlight.call(this,b,!0)};return c}(b("TypeaheadView"));Object.assign(a.prototype,{ignoreNextMouseover:!1});e.exports=a}),null);
__d("PlacesTypeaheadRendererUtil",[],(function(a,b,c,d,e,f){var g=/[.,+*?$|#{}()\^\-\[\]\\\/!@%\"~=<>_:;]/g;function h(a,b){return a.end>b.end||a.start<b.start}function a(a,b){if(!a)return[];var c=[];a=a.replace(g," ");a=a.split(" ");for(var d=0;d<a.length;d++){if(!a[d])continue;var e=a[d];d<a.length-1&&(e=e+"[ ,]");e=new RegExp(" "+e,"i");e=e.exec(" "+b+" ");if(e){e={start:e.index,end:e.index+a[d].length};c.every(h.bind(null,e))&&c.push(e)}else return[]}c.sort(function(a,b){return a.start-b.start});return c}b={match_positions:a};e.exports=b}),null);
__d("PlacesTypeaheadRenderer",["DOM","PlacesTypeaheadRendererUtil"],(function(a,b,c,d,e,f){function a(a,c){c=[];var d=a.photo;d&&c.push(b("DOM").create("img",{alt:"",src:d}));if(a.text){d=b("DOM").create("span",{className:"text"},"");var e=a.text;a.address&&(e=e+" \xb7 "+a.address);var f=[];a.value&&(f=b("PlacesTypeaheadRendererUtil").match_positions(a.value,e));if(f.length>0){var g=0;for(var h=0;h<f.length;h++){var i=f[h].start,j=f[h].end;b("DOM").appendContent(d,e.substr(g,i-g));b("DOM").appendContent(d,b("DOM").create("span",{className:"bold"},e.substr(i,j-i)));g=j}b("DOM").appendContent(d,e.substr(g))}else b("DOM").appendContent(d,b("DOM").create("span",{className:"bold"},a.text)),a.address&&b("DOM").appendContent(d," \xb7 "+a.address);c.push(b("DOM").create("span",{},d))}i=a.subtext;j=a.category;if(i||j){h=[];i&&h.push(i);j&&h.push(j);c.push(b("DOM").create("span",{className:"subtext"},h.join(" \xb7 ")))}return b("DOM").create("li",{className:a.type||""},c)}a.className="places";e.exports=a}),null);
__d("ComposerXComponents",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.getComponents=function(){return this.$1};return a}();f["default"]=a}),66);
__d("OpenGraphDialog",["ComposerXStandardTaggerWithOG","DOM","Focus"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,e,f,g){this.$1=a;this.$2=babelHelpers["extends"]({},b.getComponents(),e.getComponents(),f.getComponents(),g.getComponents());this.$3=new(c("ComposerXStandardTaggerWithOG"))({preventUnfinishedPostAlert:!0});this.$3.init(this);a=this.getComponent("maininput").element;a=c("DOM").scry(a,"textarea")[0];d("Focus").set(a)}var b=a.prototype;b.allowOGTagPreview=function(){return!1};b.getRoot=function(){return this.$1};b.getComponent=function(a){return this.$2[a]};b.getComposerID=function(){return""};return a}();g["default"]=a}),98);
__d("OpenGraphTypeaheadBehavior",["ContextualLayerAutoFlip","DOMVector"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=a.getView(),this.$2=this.$1.element}var c=a.prototype;c.enable=function(){this.$1.layer?(this.$1.layer.setPosition("above"),this.$1.layer.disableBehavior(b("ContextualLayerAutoFlip"))):this.$3=this.$1.subscribe("afterRender",this.$4.bind(this))};c.disable=function(){this.listener&&(this.$3.remove(),this.$3=null)};c.$4=function(){var a=b("DOMVector").getElementDimensions(this.$2).y;a&&(this.$2.style.marginTop=-(a+28)+"px")};return a}();e.exports=a}),null);
__d("ExternalWebShareDialogObserver",["cx","Arbiter","CSS","DOM"],(function(a,b,c,d,e,f,g,h){function a(a){c("Arbiter").inform("setHidePrivacy",a,"state")}function b(a){c("Arbiter").subscribe("setHidePrivacy",function(b,c){c.hide?d("CSS").hide(a):d("CSS").show(a)})}function e(a){c("Arbiter").inform("setHideComposerTaggers",a,"state")}function f(a){c("Arbiter").subscribe("setHideComposerTaggers",function(b,c){c.hide?d("CSS").hide(a):d("CSS").show(a)})}function h(a){c("Arbiter").inform("setSubmitButtonActionText",a,"state")}function i(a){c("Arbiter").subscribe("setSubmitButtonActionText",function(b,d){d.actionText&&c("DOM").setContent(a,d.actionText)})}function j(a){c("Arbiter").inform("setDisableSubmitButton",a,"state")}function k(a){c("Arbiter").subscribe("setDisableSubmitButton",function(b,c){a.disabled=c.disable})}function l(a){c("Arbiter").inform("setUserInfoVisibility",a,"state")}function m(a,b){c("Arbiter").subscribe("setUserInfoVisibility",function(c,e){e.hide?(a!=null&&d("CSS").hide(a),d("CSS").hide(b)):(a!=null&&d("CSS").show(a),d("CSS").show(b))})}function n(a){c("Arbiter").inform("setDisableFeedCheckBox",a,"state")}function o(a){c("Arbiter").subscribe("setDisableFeedCheckBox",function(b,c){a.disabled=c.disable,a.checked=!c.disable})}function p(a){c("Arbiter").inform("setDisableStoryCheckBox",a,"state")}function q(a){c("Arbiter").subscribe("setDisableStoryCheckBox",function(b,c){a.disabled=c.disable,a.checked=!1})}function r(a){c("Arbiter").inform("setDisableDestinationRow",a,"state")}function s(a){c("Arbiter").subscribe("setDisableDestinationRow",function(b,c){c.disable?d("CSS").addClass(a,"_3560"):d("CSS").removeClass(a,"_3560")})}g.setHidePrivacy=a;g.listenToHidePrivacy=b;g.setHideComposerTaggers=e;g.listenToHideComposerTaggers=f;g.setSubmitButtonActionText=h;g.listenToChangeSubmitButtonActionText=i;g.setDisableSubmitButton=j;g.listenToDisableSubmitButton=k;g.setUserInfoVisibility=l;g.listenToSetUserInfoVisibility=m;g.setDisableFeedCheckBox=n;g.listenToDisableFeedCheckBox=o;g.setDisableStoryCheckBox=p;g.listenToDisableStoryCheckBox=q;g.setDisableDestinationRow=r;g.listenToDisableDestinationRow=s}),98);
__d("ReactComposerContextTypes",["ComposerEntryPointRef","getObjectValues","prop-types"],(function(a,b,c,d,e,f,g){a=c("prop-types").oneOf(c("getObjectValues")(c("ComposerEntryPointRef"))).isRequired;g.accessToken=c("prop-types").string;g.actorID=c("prop-types").string.isRequired;g.appID=c("prop-types").string;g.composerID=c("prop-types").string.isRequired;g.composerType=a;g.extraConfig=c("prop-types").object;g.gks=c("prop-types").object.isRequired;g.targetID=c("prop-types").string.isRequired;g.jsModules=c("prop-types").object;g.jsResources=c("prop-types").object}),98);
__d("ReactComposerContextProviderMixin",["invariant","ReactComposerContextTypes"],(function(a,b,c,d,e,f,g,h){a={childContextTypes:d("ReactComposerContextTypes"),staticGetChildContext:function(a){return{actorID:a.contextConfig.actorID,composerID:a.contextConfig.composerID,composerType:a.contextConfig.composerType,extraConfig:a.contextConfig.extraConfig,gks:a.contextConfig.gks||{},targetID:a.contextConfig.targetID,jsModules:a.contextConfig.jsModules,jsResources:a.contextConfig.jsResources}},getChildContext:function(){return this.staticGetChildContext(this.props)},UNSAFE_componentWillMount:function(){this.props.contextConfig.actorID||h(0,4393),this.props.contextConfig.composerID||h(0,4394),this.props.contextConfig.composerType||h(0,4395),this.props.contextConfig.targetID||h(0,4396)}};g["default"]=a}),98);
__d("ShareDialogAudienceTypes",["getObjectValues"],(function(a,b,c,d,e,f,g){a=Object.freeze({OWN:"self",PERSON:"friend",GROUP:"group",EVENT:"event",PAGE:"page",FUNDRAISER:"fundraiser",MESSAGE:"message",STORY:"story"});var h=c("getObjectValues")(a);b=Object.freeze(babelHelpers["extends"]({},a,{ALL:h}));function i(a){return h.some(function(b){return b===a})}d=babelHelpers["extends"]({},b,{isValid:i,propType:function(a,b){if(!i(a[b]))throw new Error("Invalid audience "+a[b])}});e=d;g["default"]=e}),98);
__d("ShareDialogDataSources",["getObjectValues"],(function(a,b,c,d,e,f,g){a={ACTION:"actionSource",EVENT:"event",FUNDRAISER:"fundraiserSource",GROUP:"groupSource",MENTIONS:"mentionsSource",MESSAGE:"messageSource",OBJECT:"objectSource",PAGE:"pageSource",PERSON:"personSource",PERSON_WALL:"personWallSource",PLACE:"placeSource",STORY:"storySource"};var h=c("getObjectValues")(a);b=function(){function a(){this.$1={},this.$1={}}var b=a.prototype;b.addSource=function(a,b){h.some(function(b){return a===b})&&(this.$1[a]=b);return this};b.getSource=function(a){return this.$1[a]};return a}();b.TYPES=a;g["default"]=b}),98);
__d("ShareDialogAudience.react",["cx","Bootloader","MercuryConfig","ReactComposerContextTypes","ShareDialogAudienceTypes","ShareDialogDataSources","SubscriptionsHandler","createReactClass_DEPRECATED","emptyFunction","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react"),j=b("ShareDialogDataSources").TYPES,k,l,m,n,o,p,q;a=b("createReactClass_DEPRECATED")({displayName:"ShareDialogAudience",_subscriptionsHandler:b("SubscriptionsHandler"),contextTypes:b("ReactComposerContextTypes"),propTypes:{},getDefaultProps:function(){return{customModules:{},dataSources:new(b("ShareDialogDataSources"))(),onClear:b("emptyFunction"),onChange:b("emptyFunction")}},getInitialState:function(){return{bootloaded:!1,bootloading:!1}},componentDidMount:function(){var a=this;this._subscriptionsHandler=new(b("SubscriptionsHandler"))();if(!this.state.bootloading&&!this.state.bootloaded){this.setState({bootloading:!0});var c=b("Bootloader").loadModules(["ShareDialogMessageAudience.react","ShareDialogGroupAudience.react","ShareDialogGroupAudienceV2.react","ShareDialogEventAudience.react","ShareDialogPersonAudience.react","ShareDialogPageAudience.react","ShareDialogFundraiserAudience.react"],function(b,c,d,e,f,g,h){k=b,l=c,m=d,n=e,o=f,p=g,q=h,a.setState({bootloading:!1,bootloaded:!0})},"ShareDialogAudience.react");this._subscriptionsHandler.addSubscriptions(c)}},componentWillUnmount:function(){this._subscriptionsHandler&&this._subscriptionsHandler.release(),delete this._subscriptionsHandler},render:function(){if(this.state.bootloaded){var a=this.props.dataSources;if(a.getSource(j.MESSAGE)&&this.props.activeAudience===b("ShareDialogAudienceTypes").MESSAGE)return i.jsx(k,{userId:this.props.userId,onClear:this.props.onClear,onChange:this.props.onChange,onPost:this.props.onPost,ref:this.props.ref,messageTargets:this.props.messageTargets,lockMessageTargets:this.props.lockMessageTargets,sentEntryID:this.props.sentEntryID,errorEntryID:this.props.errorEntryID,isOldForwardFlow:this.props.isOldForwardFlow,hideShareDialog:this.props.hideShareDialog,setSectionName:this.props.setSectionName,maybeLogEvent:this.props.maybeLogEvent});if(a.getSource(j.PERSON_WALL)&&this.props.activeAudience===b("ShareDialogAudienceTypes").PERSON)return i.jsx(o,{userId:this.props.userId,onClear:this.props.onClear,onChange:this.props.onChange,preselectedID:this.props.preselectedID,preselectedTitle:this.props.preselectedTitle,ref:this.props.ref,searchSource:a.getSource(j.PERSON_WALL),lockPersonTargets:this.props.lockPersonTargets});if(a.getSource(j.GROUP)&&this.props.activeAudience===b("ShareDialogAudienceTypes").GROUP){var c=this.props.customModules?this.props.customModules.groupsAudience:null;return this.props.showGroupVoiceSwitcherFirst?i.jsx(m,{defaultActorID:this.props.userId,onChange:this.props.onChange}):i.jsx(l,{customModules:c,onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,searchSource:a.getSource(j.GROUP),pagesSource:a.getSource(j.PAGE),defaultGroupID:this.props.defaultGroupTargetID,userId:this.props.userId,enableGroupVoiceSwitcher:this.props.enableGroupVoiceSwitcher,showGroupVoiceSwitcherFirst:this.props.showGroupVoiceSwitcherFirst})}if(a.getSource(j.EVENT)&&this.props.activeAudience===b("ShareDialogAudienceTypes").EVENT)return i.jsx(n,{defaultEventID:this.props.defaultEventTargetID,onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,searchSource:a.getSource(j.EVENT)});if(a.getSource(j.PAGE)&&this.props.activeAudience===b("ShareDialogAudienceTypes").PAGE)return i.jsx(p,{disabled:this.props.pageAudienceSelectorDisabled,onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,pagesSource:a.getSource(j.PAGE),defaultPageID:this.props.defaultPageTargetID,defaultActorID:this.props.defaultPageActorID,hidePostingAs:this.props.hidePagePostingAs});if(a.getSource(j.FUNDRAISER)&&this.props.activeAudience===b("ShareDialogAudienceTypes").FUNDRAISER)return i.jsx(q,{defaultFundraiserID:this.props.defaultFundraiserTargetID,onChange:this.props.onChange,ref:this.props.ref,source:a.getSource(j.FUNDRAISER)})}return this.props.activeAudience===b("ShareDialogAudienceTypes").MESSAGE&&b("MercuryConfig").MNNSS?i.jsx("div",{className:"_6waq"}):i.jsx("noscript",{})}});e.exports=a;e.exports.TYPES=b("ShareDialogAudienceTypes")}),null);
__d("ShareDialogAudienceText.react",["fbt","ShareDialogAudienceTypes","ShareDialogConfig","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){switch(this.props.audience){case b("ShareDialogAudienceTypes").STORY:return g._("Share to your story");case b("ShareDialogAudienceTypes").OWN:return this.props.enableShareSheet?g._("Share to News Feed or story"):g._("Share on your timeline");case b("ShareDialogAudienceTypes").PERSON:return g._("Share on a friend's timeline");case b("ShareDialogAudienceTypes").GROUP:return g._("Share in a group");case b("ShareDialogAudienceTypes").EVENT:return g._("Share in an event");case b("ShareDialogAudienceTypes").PAGE:return g._("Share on a Page you manage");case b("ShareDialogAudienceTypes").FUNDRAISER:return g._("Share on your fundraiser");case b("ShareDialogAudienceTypes").MESSAGE:if(b("ShareDialogConfig").share_in_separate_messages)return g._("Share in separate messages");else return g._("Share in a private message");default:return i.jsx("noscript",{})}};d.render=function(){return i.jsx("span",babelHelpers["extends"]({},this.props,{children:this.$1()}))};return c}(i.Component);a.propTypes={};a.defaultProps={audience:b("ShareDialogAudienceTypes").OWN,enableShareSheet:!1};e.exports=a}),null);
__d("ShareDialogAudienceSelector.react",["cx","ShareDialogAudienceText.react","ShareDialogAudienceTypes","XUIMenuSeparator.react","XUISelector.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react"),j=b("XUISelector.react").Option;a="react_share_dialog_audience_selector";c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={activeAudience:c.props.activeAudience},c.onChange=function(a){c.setState({activeAudience:a.value}),c.props.onAudienceSelect(a.value)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.setState({activeAudience:a.activeAudience})};d.render=function(){var a=this.props.allowedAudiences,c=[];if(a.length==1)return i.jsx("div",{className:"_94t _1nb1",children:i.jsx("div",{className:"_42ym _41kd",children:i.jsx(b("ShareDialogAudienceText.react"),{audience:this.props.activeAudience,shareType:this.props.shareType})})});a.includes(b("ShareDialogAudienceTypes").STORY)&&c.push(i.jsx(j,{className:"_42ym _7l_8",value:b("ShareDialogAudienceTypes").STORY,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").STORY,enableShareSheet:this.props.enableShareSheet})},b("ShareDialogAudienceTypes").STORY));a.includes(b("ShareDialogAudienceTypes").OWN)&&c.push(i.jsx(j,{className:"_42ym _42yn",value:b("ShareDialogAudienceTypes").OWN,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").OWN,"data-testid":void 0,enableShareSheet:this.props.enableShareSheet})},b("ShareDialogAudienceTypes").OWN));a.includes(b("ShareDialogAudienceTypes").PERSON)&&c.push(i.jsx(j,{className:"_42ym _42yp",value:b("ShareDialogAudienceTypes").PERSON,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").PERSON,"data-testid":void 0})},b("ShareDialogAudienceTypes").PERSON));a.includes(b("ShareDialogAudienceTypes").GROUP)&&c.push(i.jsx(j,{className:"_42ym _2n3i",value:b("ShareDialogAudienceTypes").GROUP,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").GROUP,"data-testid":void 0})},b("ShareDialogAudienceTypes").GROUP));a.includes(b("ShareDialogAudienceTypes").EVENT)&&c.push(i.jsx(j,{className:"_42ym _18sr",value:b("ShareDialogAudienceTypes").EVENT,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").EVENT,"data-testid":void 0})},b("ShareDialogAudienceTypes").EVENT));a.includes(b("ShareDialogAudienceTypes").PAGE)&&c.push(i.jsx(j,{className:"_42ym _42y_",value:b("ShareDialogAudienceTypes").PAGE,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").PAGE,"data-testid":void 0})},b("ShareDialogAudienceTypes").PAGE));a.includes(b("ShareDialogAudienceTypes").FUNDRAISER)&&c.push(i.jsx(j,{className:"_42ym _1a7k",value:b("ShareDialogAudienceTypes").FUNDRAISER,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").FUNDRAISER,"data-testid":void 0})},b("ShareDialogAudienceTypes").FUNDRAISER));a.includes(b("ShareDialogAudienceTypes").MESSAGE)&&(c.length>0&&c.push(i.jsx(b("XUIMenuSeparator.react"),{},"separator")),c.push(i.jsx(j,{className:"_42ym _42z0",value:b("ShareDialogAudienceTypes").MESSAGE,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").MESSAGE,shareType:this.props.shareType,"data-testid":void 0})},b("ShareDialogAudienceTypes").MESSAGE)));a="_94t"+(this.state.activeAudience===b("ShareDialogAudienceTypes").OWN?" _47xt":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").PERSON?" _47xu":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").GROUP?" _47xv":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").EVENT?" _18ss":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").PAGE?" _47xw":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").FUNDRAISER?" _2afb":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").MESSAGE?" _47xx":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").STORY?" _7l_9":"");return i.jsx(b("XUISelector.react"),{maxwidth:400,className:a,defaultValue:this.state.activeAudience,name:"mode",onChange:this.onChange,"data-testid":void 0,children:c})};return c}(i.Component);c.propTypes={};c.defaultProps={onAudienceSelect:b("emptyFunction"),activeAudience:b("ShareDialogAudienceTypes").OWN,allowedAudiences:b("ShareDialogAudienceTypes").ALL,enableShareSheet:!1};e.exports=c}),null);
__d("ExternalWebShareDialogAudienceHeader.react",["cx","fbt","Arbiter","CurrentUser","ExternalWebShareDialogObserver","ReactComposerContextProviderMixin","ShareDialogAudience.react","ShareDialogAudienceSelector.react","ShareDialogAudienceTypes","ShareDialogDataSources","createReactClass_DEPRECATED","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||b("react");a=b("createReactClass_DEPRECATED")({displayName:"ExternalWebShareDialogAudienceHeader",mixins:[b("ReactComposerContextProviderMixin")],propTypes:{},getDefaultProps:function(){return{audience:b("CurrentUser").isWorkUser()?b("ShareDialogAudienceTypes").GROUP:b("ShareDialogAudienceTypes").OWN,disableMessage:!1}},getInitialState:function(){var a,c=this.props.dataSources,d=this.props.contextConfig.actorID,e=this.props.contextConfig.targetID;a={audience:this.props.audience,audienceDataSources:new(a=b("ShareDialogDataSources"))().addSource(a.TYPES.PERSON_WALL,c.friend).addSource(a.TYPES.GROUP,c.group).addSource(a.TYPES.EVENT,c.event).addSource(a.TYPES.PAGE,c.page).addSource(a.TYPES.FUNDRAISER,c.fundraiser).addSource(a.TYPES.MESSAGE,c.friend||c.message),disableMessage:this.props.disableMessage,hideTaggers:this.props.hideTaggers};d&&this.props.audience===b("ShareDialogAudienceTypes").PAGE?(a.audienceTargets=[d],a.actorId=d):e&&(a.audienceTargets=[e],a.targetTitle=this.props.targetTitle);return a},getCurrentAudience:function(){var a=this.state.audienceTargets;a||(a=[this.props.contextConfig.actorID]);return{audience:this.state.audience,audienceTargets:a,actorId:this.state.actorId}},UNSAFE_componentWillMount:function(){var a=this;b("Arbiter").subscribe("isQuoteSet",function(b,c){a.setState({disableMessage:c})})},_onAudienceSelect:function(a){b("ExternalWebShareDialogObserver").setUserInfoVisibility({hide:a===b("ShareDialogAudienceTypes").PAGE}),this.setState({audience:a,audienceTargets:null,actorId:null,targetTitle:null}),this.props.onAudienceSelect&&this.props.onAudienceSelect(a)},_onChangeAudienceTargets:function(a){this.state.audience===b("ShareDialogAudienceTypes").PAGE?this.setState({audienceTargets:[a[0].pageId],actorId:a[0].actorId}):this.setState({audienceTargets:a,actorId:null});if(this.props.onChange){a||(a=[this.props.contextConfig.actorID]);a={audience:this.state.audience,audienceTargets:a,actorId:this.state.actorId};this.props.onChange(a)}},_onClearAudienceTargets:function(){this.setState({audienceTargets:null})},render:function(){var a,c;(a=b("ExternalWebShareDialogObserver")).setHidePrivacy({hide:this.state.audience!==(c=b("ShareDialogAudienceTypes")).OWN});a.setDisableFeedCheckBox({disable:this.state.audience!==c.OWN});a.setDisableStoryCheckBox({disable:this.state.audience!==c.OWN});a.setDisableDestinationRow({disable:this.state.audience!==c.OWN});if(this.state.audience===b("ShareDialogAudienceTypes").OWN)a=null;else{c=null;var d=null,e=null,f=null;this.state.audience===b("ShareDialogAudienceTypes").PAGE?this.props.defaultPageTargetID?c=this.props.defaultPageTargetID:this.state.audienceTargets&&(c=this.state.audienceTargets[0]):this.state.audience===b("ShareDialogAudienceTypes").EVENT?this.props.defaultEventTargetID?d=this.props.defaultEventTargetID:this.state.audienceTargets&&(d=this.state.audienceTargets[0]):this.state.audience===b("ShareDialogAudienceTypes").GROUP?this.props.defaultGroupTargetID?e=this.props.defaultGroupTargetID:this.state.audienceTargets&&(e=this.state.audienceTargets[0]):this.state.audienceTargets&&this.state.targetTitle&&(f=this.state.audienceTargets[0]);a=j.jsx("div",{children:j.jsx(b("ShareDialogAudience.react"),{activeAudience:this.state.audience,dataSources:this.state.audienceDataSources,onChange:this._onChangeAudienceTargets,onClear:this._onClearAudienceTargets,defaultPageTargetID:c,defaultPageActorID:this.props.defaultPageActorID,defaultEventTargetID:d,defaultGroupTargetID:e,defaultFundraiserTargetID:this.props.defaultFundraiserTargetID,preselectedID:f,preselectedTitle:this.state.targetTitle,userId:this.props.contextConfig.actorID,hidePagePostingAs:this.props.hidePagePostingAs,isOldForwardFlow:!0})})}if(this.state.audience===b("ShareDialogAudienceTypes").MESSAGE)b("ExternalWebShareDialogObserver").setHideComposerTaggers({hide:!0}),b("ExternalWebShareDialogObserver").setSubmitButtonActionText({actionText:h._("Send Message")});else{b("ExternalWebShareDialogObserver").setHideComposerTaggers({hide:!1});c=b("CurrentUser").isWorkUser()?h._("Post to Workplace"):h._("Post to Facebook");b("ExternalWebShareDialogObserver").setSubmitButtonActionText({actionText:c})}this.state.hideTaggers&&b("ExternalWebShareDialogObserver").setHideComposerTaggers({hide:!0});b("ExternalWebShareDialogObserver").setDisableSubmitButton({disable:this.state.audience!==b("ShareDialogAudienceTypes").OWN&&(!Array.isArray(this.state.audienceTargets)||this.state.audienceTargets.length===0)});d=[b("ShareDialogAudienceTypes").OWN,b("ShareDialogAudienceTypes").GROUP];this.props.dataSources.friend&&d.push(b("ShareDialogAudienceTypes").PERSON);this.props.dataSources.page&&d.push(b("ShareDialogAudienceTypes").PAGE);this.props.dataSources.fundraiser&&d.push(b("ShareDialogAudienceTypes").FUNDRAISER);this.props.dataSources.event&&d.push(b("ShareDialogAudienceTypes").EVENT);this.state.disableMessage||d.push(b("ShareDialogAudienceTypes").MESSAGE);return j.jsxs("div",{"data-testid":void 0,children:[j.jsx("div",{className:"_kz1"+(this.props.hidePagePostingAs?"":" _125y"),children:j.jsx(b("ShareDialogAudienceSelector.react"),{activeAudience:this.state.audience,onAudienceSelect:this._onAudienceSelect,allowedAudiences:d,enableShareSheet:this.props.enableShareSheet})}),a,j.jsx("input",{type:"hidden",name:"audience_targets",value:this.state.audienceTargets}),j.jsx("input",{type:"hidden",name:"av",value:this.state.actorId})]})}});e.exports=a}),null);
__d("PlatformSharingWebFunnelAnalysisLogging",["PlatformSharingWebFunnelAnalysisTypedLogger","SessionBoundaryBasedFunnelData"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=new(c("SessionBoundaryBasedFunnelData"))("dialog_client_loaded");a.markSessionEnd();new(c("PlatformSharingWebFunnelAnalysisTypedLogger"))().setFunnelLoggingInputData(a).log()}g.logLoad=a}),98);
__d("PlatformShareDialogFunnelLogger",["FunnelLogger","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h="PLATFORM_SHARE_DIALOG_FUNNEL",i=!1,j=null;function a(a,b,e,f,g,j,k){d("FunnelLogger").startFunnel(h),d("FunnelLogger").addFunnelTag(h,"domain:"+a),d("FunnelLogger").addFunnelTag(h,"browser:"+b),d("FunnelLogger").addFunnelTag(h,"req_dialog:"+e),d("FunnelLogger").addFunnelTag(h,"dialog:"+f),d("FunnelLogger").addFunnelTag(h,"controller:"+g),d("FunnelLogger").addFunnelTag(h,"req_display:"+j),d("FunnelLogger").addFunnelTag(h,"display:"+k),i=!0,c("QPLUserFlow").start(c("qpl")._(51452317,"8148"),{annotations:{string:{"domain:":a,"browser:":b,"req_dialog:":e,"dialog:":f,"controller:":g,"req_display:":j,"display:":k}}})}function b(){d("FunnelLogger").endFunnel(h),c("QPLUserFlow").endSuccess(c("qpl")._(51452317,"8148"))}function k(a,b){if(!b)return;i&&n(b)?m(a+":visible"):setTimeout(function(){return k(a,b)},1e3)}function e(a,b){if(!b||!b.addEventListener)return;b.addEventListener("input",function(b){b=b.target;if(b instanceof HTMLInputElement||b instanceof HTMLTextAreaElement){m(a+":input");b=b.value;/(^|\s+)#\w\s/.test(b)&&m(a+":hash_intended");/(^|\s+)@\w/.test(b)&&m(a+":mention_intended")}})}function l(a,b){if(!b)return;var c=["click","touchstart","mousedown"],d=function(){m(a+":click")};b.addEventListener?c.forEach(function(a){b&&b.addEventListener(a,d)}):b.attachEvent&&b.attachEvent("onclick",d)}function f(a,b){b&&(k(a,b),l(a,b))}function m(a){d("FunnelLogger").appendActionIfNew(h,a);if(j==a)return;j=a;c("QPLUserFlow").addPoint(c("qpl")._(51452317,"8148"),a)}function n(a){if(!a)return!1;var b=a.getBoundingClientRect(),c=window.innerHeight||document.documentElement.clientHeight,d=window.innerWidth||document.documentElement.clientWidth;a=a.contains(document.elementFromPoint((b.left+b.right)/2,(b.top+b.bottom)/2));return!a?!1:b.top>=0&&b.bottom<=c&&b.left>=0&&b.right<=d}g.startFunnel=a;g.endFunnel=b;g.registerListenerForVisibility=k;g.registerListenerForUserKeyInput=e;g.registerListenerForUserClick=l;g.registerListenerForUserClickAndVisibility=f;g.appendUserActionIfNew=m;g.isElementVisible=n}),98);
__d("ShareDialogUnifiedComposerFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744366");b=d("FalcoLoggerInternal").create("share_dialog_unified_composer",a);e=b;g["default"]=e}),98);
__d("PlatformWebShareDialogCloseConfirmation",["Event","PlatformDialog","PlatformShareDialogFunnelLogger","Run","ShareDialogUnifiedComposerFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g){var h=this;this._cancelWasClicked=!1;this._confirmOnClose=a;this._confirmOnCancel=b;d("Run").onBeforeUnload(function(){h._logToUnifiedComposer(e,f,g);var a=h._shouldShowConfirm()?c:void 0;h._cancelWasClicked=!1;return a});d("Run").onAfterUnload(function(){d("PlatformShareDialogFunnelLogger").endFunnel()})}function b(a){var b=this;c("Event").listen(a,"click",function(a){b._cancelWasClicked=!0,window.opener&&b._confirmOnCancel&&(a.kill(),window.close())})}function e(){if(c("PlatformDialog").getInstance().hasBeenSubmitted())return!1;return this._cancelWasClicked?this._confirmOnCancel:this._confirmOnClose}function f(a,b,d){var e="composer_post";(this._cancelWasClicked||!c("PlatformDialog").getInstance().hasBeenSubmitted())&&(e="composer_cancel");c("ShareDialogUnifiedComposerFalcoEvent").log(function(){return{action:e,session_id:d,app_id:a,is_reshare:b}})}g.init=a;g.setCancelButton=b;g._shouldShowConfirm=e;g._logToUnifiedComposer=f}),98);
__d("OGComposerActionTypeTypeaheadRenderer",["cx","CSS","CompactTypeaheadRenderer","DOM"],(function(a,b,c,d,e,f,g){function a(a,c){c=b("CompactTypeaheadRenderer")(a,c);b("DOM").prependContent(c,a.icon);if(a.type=="action_type"){a=b("DOM").create("i",{className:"arrowRight"});b("DOM").prependContent(c,a)}a=b("DOM").scry(c,"span");a.length==1&&b("CSS").addClass(a[0],"_5lpy");return c}a.className="compact _47i9";e.exports=a}),null);
__d("QueriesHistory",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=a,this.reset()}var b=a.prototype;b.getQueries=function(){return this.$2};b.getCurrentLength=function(){return this.$3};b.add=function(a){this.$2.push(a);this.$3+=a.length;while(this.$2.length!==0&&this.$3>this.$1){a=this.$2.shift();this.$3-=a.length}};b.reset=function(){this.$3=0,this.$2=[]};return a}();e.exports=a}),null);
__d("TypeaheadMetrics",["AsyncRequest","Event","QueriesHistory","emptyFunction"],(function(a,b,c,d,e,f){var g=1e3;a=function(){"use strict";function a(a){this.extraData={},Object.assign(this,a)}var c=a.prototype;c.init=function(a){this.init=b("emptyFunction"),this._initImpl(a)};c._initImpl=function(a){this.core=a.getCore(),this.view=a.getView(),this.data=a.getData(),this.queriesHistory=new(b("QueriesHistory"))(g),this.stats={},this.sessionActive=!1,this._sessionStartEvents=[],this._sessionEndEvents=[],this._reset(),this.initEvents()};c._reset=function(){this.log=[],this.stats={},this.avgStats={},this.sessionActive=!1,this._setSid(Math.floor(Date.now()*Math.random())),this.request_ids=[],this.lastNotBackspacedQuery="",this.queriesHistory.reset(),this._logEvent("session_started",{})};c._logEvent=function(a,b){a={type:a,data:b,time:Date.now()};this.log.push(a)};c._setSid=function(a){this.sid=a,typeof this.data.queryData==="object"&&this.data.queryData!==null?this.data.queryData.sid=this.sid:this.data.setQueryData({sid:this.sid}),typeof this.data.bootstrapData==="object"&&this.data.bootstrapData!==null?this.data.bootstrapData.sid=this.sid:this.data.setBootstrapData({sid:this.sid})};c.resetWithData=function(a){this.init=b("emptyFunction"),this._initImpl(a)};c.resetWithDataBeforeSessionEnd=function(a){var c=this.sessionActive;this.init=b("emptyFunction");this._initImpl(a);this.sessionActive=c};c.recordSelect=function(a){var b=a.selected;b.uid==null?this.recordStat("selected_id","SELECT_NULL"):this.recordStat("selected_id",b.uid);this.recordStat("selected_type",b.type);this.recordStat("selected_score",b.score);this.recordStat("selected_original_id",b.original_id);this.recordStat("place_id",b.place_id);this.recordStat("client_time",b.client_time);this.recordStat("selected_position",a.index);this.recordStat("selected_with_mouse",a.clicked?1:0);this.recordStat("selected_query",a.query);this._sessionEnd()};c.bindSessionStart=function(a,b,c){var d=this;if(c)for(c=0;c<this._sessionStartEvents.length;++c){var e=this._sessionStartEvents[c];e.obj.unsubscribe(e.token)}this._sessionStartEvents.push({obj:a,token:a.subscribe(b,function(a,b){d._sessionStart()})})};c.bindSessionEnd=function(a,b,c){var d=this;if(c)for(c=0;c<this._sessionEndEvents.length;++c){var e=this._sessionEndEvents[c];e.obj.unsubscribe(e.token)}this._sessionEndEvents.push({obj:a,token:a.subscribe(b,function(a,b){d._sessionEnd()})})};c.dataSubscribe=function(a,b){var c=this.data,d=this.data.subscribe(a,b);this._dataSubscriptions.push(function(){c.unsubscribe(d)})};c.initEvents=function(){var a=this;this._dataSubscriptions=this._dataSubscriptions||[];this._dataSubscriptions.forEach(function(a){a()});this._dataSubscriptions=[];this.bindSessionStart(this.core,"focus",!1);this.bindSessionEnd(this.core,"blur",!1);this.view.subscribe("select",function(b,c){a.recordSelect(c)});this.bindSessionEnd(this.view,"select",!1);this.view.subscribe("render",function(b,c){a.results=c});this.dataSubscribe("beforeQuery",function(b,c){a._logEvent("user_typed",{query:c.value});if(!c.value)return;a.query=c.value;a.queriesHistory.add(a.query);a.lastNotBackspacedQuery.indexOf(a.query)!==0&&(a.lastNotBackspacedQuery=a.query);a.recordCountStat("num_queries")});this.dataSubscribe("beforeFetch",function(b,c){c.fetch_context.bootstrap?a.bootstrapBegin=Date.now():c.fetch_context.queryBegin=Date.now(),a._logEvent("async_query_started",{query:c.fetch_context.value,request_id:c.fetch_context.request_id})});this.dataSubscribe("fetchComplete",function(b,c){a._logEvent("async_query_completed",{query:c.fetch_context.value,request_id:c.fetch_context.request_id});if(c.fetch_context.bootstrap){a.recordAvgStat("bootstrap_latency",Date.now()-a.bootstrapBegin);var d={};c.response.payload.entries.forEach(function(a){!d[a.type]?d[a.type]=1:d[a.type]++});a.recordStat("bootstrap_response_types",d);a.bootstrapped=!0}else"filtered_count"in c.response.payload&&a.recordStat("filtered_count",c.response.payload.filtered_count),a.recordAvgStat("avg_query_latency",Date.now()-c.fetch_context.queryBegin)});this.dataSubscribe("respond",function(b,c){a._logEvent("respond",{query:c.value,num_results:c.results.length});b=a.data.tokenizeBackend(c.value||"").flatValue;c=a.data.findBestPreviousQuery(b,a.data.getQueryIDs())||"";b=a.data.getQueryIDs()[c];a.normalized_backend_query=c;a.request_id=b;a.request_ids.push(b)});this.dataSubscribe("dirty",function(b,c){a.bootstrapped=!1})};c._sessionStart=function(){if(this.sessionActive)return;this.sessionActive=!0};c._sessionEnd=function(){if(!this.sessionActive)return;this.sessionActive=!1;this.submit();this._reset()};c.recordStat=function(a,b){this.stats[a]=b};c.recordCountStat=function(a){var b=this.stats[a];this.stats[a]=b?b+1:1};c.recordAvgStat=function(a,b){this.avgStats[a]?(this.avgStats[a][0]+=b,++this.avgStats[a][1]):this.avgStats[a]=[b,1]};c.hasStats=function(){return!!Object.keys(this.stats).length};c.submit=function(){if("log_all_sessions"in this.extraData||this.hasStats()){Object.assign(this.stats,this.extraData);if(this.results){var a=this.results.map(function(a,b){return a.uid});this.recordStat("candidate_results",JSON.stringify(a))}this.query&&this.recordStat("query",this.query);this.lastNotBackspacedQuery&&this.recordStat("last_not_backspaced_query",this.lastNotBackspacedQuery);this.recordStat("queries_history",JSON.stringify(this.queriesHistory.getQueries()));this.normalized_backend_query&&this.recordStat("normalized_backend_query",this.normalized_backend_query);this.request_id&&this.recordStat("request_id",this.request_id);this.request_ids.length&&this.recordStat("request_ids",this.request_ids);this.sid&&this.recordStat("sid",this.sid);this.bootstrapped&&this.recordStat("bootstrapped",1);for(a in this.avgStats){var c=this.avgStats[a];this.stats[a]=c[0]/c[1]}this.recordStat("log",JSON.stringify(this.log));new(b("AsyncRequest"))().setURI(this.endPoint).setMethod("POST").setData({stats:this.stats}).setErrorHandler(b("emptyFunction")).send();this._reset()}};a.register=function(a,c,d){if(document.activeElement===a)c.init(d);else var e=b("Event").listen(a,"focus",function(){c.init(d),e.remove()})};return a}();Object.assign(a.prototype,{endPoint:"/ajax/typeahead/record_basic_metrics.php"});e.exports=a}),null);
__d("OGComposerNounTypeaheadMetrics",["TypeaheadMetrics"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.submit=function(){("log_all_sessions"in this.extraData||this.hasStats())&&(this.stats.at_id=this.data.queryData.at_id),a.prototype.submit.call(this)};return b}(c("TypeaheadMetrics"));g["default"]=a}),98);
__d("OGComposerObjectDataSource",["DataSource","createArrayFromMixed"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.addEntries=function(a,c){a=this.processEntries(b("createArrayFromMixed")(a||[]),c);if(c){var d=this.getQueryCache();c=this.tokenizeCache(c).flatValue;d[c]=a}};return c}(b("DataSource"));e.exports=a}),null);
__d("HubsTypeaheadView",["fbt","ContextualTypeaheadView"],(function(a,b,c,d,e,f,g,h){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){return a.call(this,b,c)||this}var c=b.prototype;c.hide=function(){return this.canHide?a.prototype.hide.call(this):null};c.reset=function(){return this.canHide?a.prototype.reset.call(this):null};c._createFreeFormNode=function(a){var b=a;this.showCreatePrompt?b=h._("Add \"{partial_name}\"",[h._param("partial_name",a)]):this.showAltCreatePrompt&&(b=h._("Create \"{partial_name}\"",[h._param("partial_name",a)]));return{text:b,orig_text:a,type:"addnew calltoaction",uid:"0"}};c.validateQuery=function(a){return this.minQueryLength?a.length>=this.minQueryLength:!0};c.render=function(b,c,d){var e=[],f=Math.max(1,Math.floor(c.length/10));for(f=f;f<c.length;f++)c[f].already_added&&(e.push(c[f]),c.splice(f,1),f--);c=c.concat(e);if(this.alwaysRender&&b!=="")if(this.allowFreeformEntry)this.validateQuery(b)&&c.push(this._createFreeFormNode(b));else{f=b.toLowerCase().trim();e=!1;for(var g=0;g<c.length;g++)if(typeof c[g].text==="string"&&f===c[g].text.toLowerCase().trim()){e=!0;break}!e&&this.validateQuery(b)&&c.push(this._createFreeFormNode(b))}return a.prototype.render.call(this,b,c,d)};return b}(c("ContextualTypeaheadView"));Object.assign(a.prototype,{canHide:!0,hasHiddenDupes:!1});g["default"]=a}),98);
__d("OGNounTypeaheadView",["csx","cx","fbt","CSS","DOM","HubsTypeaheadView","ScrollableArea","throttle","tidyEvent"],(function(a,b,c,d,e,f,g,h,i){var j;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d._bindScrollListener=function(){this._getScrollableArea()&&b("tidyEvent")(j.subscribe("scroll",b("throttle")(this._checkScroll.bind(this))))};d._checkScroll=function(){var a=this._getLastItemID();j.isScrolledToBottom()&&this._lastItemID!==a&&(this._lastItemID=a,this.inform("scrolledtobottom",{scrollableArea:j}))};d._createFreeFormNode=function(a){return{orig_text:a,icon:this.defaultIcon,text:a,type:"calltoaction"}};d._getScrollableArea=function(){this._scrollableArea||(this._scrollableArea=b("ScrollableArea").getInstance(this.content));return j=this._scrollableArea};d._getLastItemID=function(){var a=this.items[this.items.length-1];return a&&a.getAttribute("aria-label")};d.init=function(){this.content=b("DOM").find(this.element,"div._52yd"),a.prototype.init.call(this),b("tidyEvent")([this.subscribe(["render","reset"],this._updateView.bind(this)),this.subscribe("highlight",this._scrollIntoView.bind(this)),this.subscribeOnce("render",this._bindScrollListener.bind(this))])};d._scrollIntoView=function(a,b){this._getScrollableArea()&&(this.ignoreMouseover=!0,j.scrollIntoView(b.element,!1))};d.validateQuery=function(a){return!this.actionTypeID?!1:this.minQueryLength?a.length>=this.minQueryLength:!0};d.setContext=function(a){this.defaultIcon=a.default_icon;this.actionTypeID=a.uid;this.actionTypeID.indexOf(":")>-1&&(this.actionTypeID=a.action_type_id);a=(!this.actionTypeIDsWithNoFreeform||!this.actionTypeIDsWithNoFreeform[this.actionTypeID])&&this.actionTypeID!=="";this.alwaysRender=a;this.allowFreeform=a;this.allowFreeformEntry=a};d._updateView=function(){this._lastItemID=null,b("CSS").conditionClass(this.element,"_52yc",this.items.length)};d._createCustomAddNode=function(){return{text:String(i._("Add your own...")),type:"calltoaction customadd",icon:this.defaultIcon}};d._containCustomAddNode=function(a){for(var b=0;b<a.length;b++)if(a[b].type==="calltoaction customadd")return!0;return!1};d._removeCustomAddNode=function(a){for(var b=0;b<a.length;b++)a[b].type==="calltoaction customadd"&&a.splice(b,1)};d.render=function(b,c,d){this.allowFreeform&&c.length&&b===""&&!this._containCustomAddNode(c)?c.push(this._createCustomAddNode()):this._removeCustomAddNode(c);return a.prototype.render.call(this,b,c,d)};d.select=function(b){var c=this,d=this.results[this.index];if(d&&d.type.match("customadd")){this.causalElement.focus();setTimeout(function(){return c.layer.hide()},0);return}d&&(d.actionTypeID=this.actionTypeID);return a.prototype.select.call(this,b)};return c}(b("HubsTypeaheadView"));e.exports=a}),null);
__d("PrivacySelectorSelectableItem",["csx","cx","CSS","DOM","DOMQuery","MenuSelectableItem","react"],(function(a,b,c,d,e,f,g,h,i){var j=d("react"),k="._o00",l="._o01",m="._po2";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){if(b.icon){var d="_392n _1rwt";b.children?b.icon=j.jsx("div",{className:d,children:b.icon}):b.icon=c("DOM").create("div",{className:d},b.icon)}return a.call(this,b)||this}var e=b.prototype;e.render=function(){var b=a.prototype.render.call(this),c=d("DOMQuery").find(b,"._54nh");d("CSS").addClass(c,"_4chm");c=c.parentNode;d("CSS").addClass(c,"_4chl");var e=d("DOMQuery").scry(b,"._392n")[0];e||d("CSS").addClass(c,"_4857");return b};e.isMoreButton=function(){return d("CSS").matchesSelector(this.getRoot(),k)};e.isMoreOptionsButton=function(){return d("CSS").matchesSelector(this.getRoot(),m)};e.isSeeAllButton=function(){return d("CSS").matchesSelector(this.getRoot(),l)};return b}(c("MenuSelectableItem"));g["default"]=a}),98);
__d("PrivacySelectorOptionNew",["csx","cx","fbt","CSS","DOM","DOMQuery","JSXDOM","PrivacyConst","PrivacySelectorSelectableItem"],(function(a,b,c,d,e,f,g,h,i,j){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b._origLabel=b.getLabel();b._origTriggerLabel=b.getTriggerLabel();return b}var e=b.prototype;e._getData=function(){return this._data};e.getTooltip=function(){return this._getData().tooltip};e.getPostParam=function(){return this._getData().postParam.toString()};e.setPostParam=function(a){this._getData().postParam=a;return this};e.getSubtitles=function(){return this._data.optionSubtitles};e.setSubtitles=function(a){this._data.optionSubtitles!=null&&(this._data.optionSubtitles=a);return this};e.getTriggerIcon=function(){return this._getData().triggerIcon};e.getTriggerLabel=function(){return this._getData().triggerLabel};e.getIconType=function(){return this._getData().iconType};e.isPublic=function(){return this.getPostParam()===c("PrivacyConst").PostParam.EVERYONE.toString()};e.isFriendsOfFriends=function(){return this.getPostParam()===c("PrivacyConst").PostParam.FRIENDS_OF_FRIENDS.toString()};e.isFriends=function(){return this.getPostParam()===c("PrivacyConst").PostParam.FRIENDS.toString()};e.isFriendsExceptAcquaintances=function(){return this.getPostParam()===c("PrivacyConst").PostParam.FRIENDS_MINUS_ACQUAINTANCES.toString()};e.isOnlyMe=function(){return this.getPostParam()===c("PrivacyConst").PostParam.ONLY_ME.toString()};e.isFBOnly=function(){return this.getPostParam()===c("PrivacyConst").PostParam.FB_ONLY.toString()};e.isFriendlist=function(){return this._data.isFriendlist};e.isBasicOption=function(){return!0};e.isCustomOption=function(){return!1};e.isSavedCustomOption=function(){return!1};e.isPrivateSharingDisabledOption=function(){return!1};e.getSavedCustomPrivacyType=function(){return null};e.getTagExpansionBehavior=function(){return this._getData().tagExpansionBehavior};e.getBaseValue=function(){return this._getData().baseValue};e.getIndex=function(){return this._getData().value};e.getLoggingEventName=function(){if(this.isPublic())return"SELECT_EVERYONE";else if(this.isFriendsOfFriends())return"SELECT_FRIENDS_OF_FRIENDS";else if(this.isFriends())return"SELECT_FRIENDS";else if(this.isFriendsExceptAcquaintances())return"SELECT_FRIENDS_EXCEPT_ACQUAINTANCES";else if(this.isOnlyMe())return"SELECT_ONLY_ME";else if(this.isFBOnly())return"SELECT_FB_ONLY";else if(this.isFriendlist())return"SELECT_FRIENDLIST";else return"SELECT_OTHER"};e.updateAfterTagExpansion=function(a){var b=this._origLabel,c=this._origTriggerLabel;a&&this._getData().showPlusOnTagExpansion&&(b=j._("{privacyLabel} (+)",[j._param("privacyLabel",b)]),c=j._("{privacyLabel} (+)",[j._param("privacyLabel",c)]));this._setLabel(b);this._getData().triggerLabel=c;b=this._getExpansionType(a);c=this._getData().optionSubtitles||{};this._setSubtitle(c[b])};e.isBelowSoftFold=function(){return d("CSS").matchesSelector(this.getRoot(),"._4mwj")};e.isBelowFold=function(){return d("CSS").matchesSelector(this.getRoot(),"._3ey_")};e.removeOnBootload=function(){return!!this._getData().removeOnBootload};e._setLabel=function(a){if(!a)return;var b=d("DOMQuery").find(this.getRoot(),"._54nh");b&&c("DOM").setContent(b,a);this._getData().label=a};e._setSubtitle=function(a){if(!a)return;var b=d("DOMQuery").scry(this.getRoot(),"._48u1");b&&b[0]&&c("DOM").setContent(b[0],a)};e._getExpansionType=function(a){return a?c("PrivacyConst").ExpansionType.TAGS_ONLY:c("PrivacyConst").ExpansionType.NONE};e.render=function(){var b=a.prototype.render.call(this);if(!this._getData().isPrimaryOption)return b;var e=d("DOMQuery").find(b,"._54nc");e&&d("CSS").addClass(e,"_48t_");var f=d("DOMQuery").scry(b,"._392n")[0];!f&&e&&d("CSS").addClass(e,"_4zfs");f=c("DOM").find(b,"._54nh");f&&d("CSS").addClass(f,"_48u0");f=c("JSXDOM").div({className:"_48u1"},this._getData().optionSubtitle);c("DOM").appendContent(e,f);return b};return b}(c("PrivacySelectorSelectableItem"));g["default"]=a}),98);
__d("XPrivacySelectorLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/selector/log/",{event:{type:"Enum",required:!0,enumType:1},render_location:{type:"Enum",required:!0,enumType:1},content_type:{type:"String",required:!0},privacy_fbid:{type:"String"},saved_custom_opt_in:{type:"Bool",defaultValue:!1}})}),null);
__d("PrivacySelectorCustomOption",["invariant","AsyncDialog","AsyncRequest","DataStore","PrivacySelectorOptionNew","XPrivacyCustomDialogController","XPrivacySelectorLoggingController"],(function(a,b,c,d,e,f,g,h){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c._subtitlesWhenNotSelected=b.optionSubtitlesWhenNotSelected;return c}var e=b.prototype;e.isBasicOption=function(){return!1};e.isCustomOption=function(){return!0};e.getSelector=function(){return this._selector};e.getLoggingEventName=function(){return"SELECT_CUSTOM"};e.setSubtitlesToNonSelected=function(){this.setSubtitles(this._subtitlesWhenNotSelected)};e.openDialog=function(a){var b=this;this._selector==null&&(this._selector=a);d("DataStore").set(this._data.id,"PrivacySelectorCustomOption",this);var e=c("XPrivacyCustomDialogController").getURIBuilder().setString("option_id",this._data.id).setString("id",this._data.privacyfbid.toString()).setString("post_param",a.getPostParam()).setString("content_type",a.getContentType()).setEnum("render_location_enum",a.getRenderLocation()).setIntVector("tags",a.getTags()).setBool("autosave",this._data.autosave).setBool("limit_community",this._data.limitcommunity).setBool("limit_fof",this._data.limitfof).setBool("limit_tagexpand",this._data.limittagexpand).setBool("is_new_privacy_selector",!0).setBool("saved_custom_opt_in",a.getSavedCustomOptIn()).getURI();e=new(c("AsyncRequest"))(e);e.setRelativeTo(a.getTriggerButtonElement());d("AsyncDialog").send(e,function(d){var e=function(a){var d=document.getElementsByName("render_location")[0];d instanceof HTMLInputElement||h(0,706);var e=document.getElementsByName("content_type")[0];e instanceof HTMLInputElement||h(0,706);a=c("XPrivacySelectorLoggingController").getURIBuilder().setEnum("event",a).setString("privacy_fbid",b._data.privacyfbid!=null?String(b._data.privacyfbid):null).setEnum("render_location",d.value).setString("content_type",e.value).getURI();new(c("AsyncRequest"))().setURI(a).send()};d.subscribe("hide",function(){a.inform("custom/hide"),a.inform("selectorFinished")});d.subscribe("success",function(){a.inform("custom/success"),e("CUSTOM_SAVE")});d.subscribe("cancel",function(){a.inform("custom/cancel"),e("CUSTOM_CANCEL")})})};b.customPrivacySave=function(a,b,c,e){e===void 0&&(e={});var f=d("DataStore").get(a,"PrivacySelectorCustomOption");d("DataStore").remove(a,"PrivacySelectorCustomOption");if(!(f==null))if(!(f.getSelector==null)){a=f.getSelector();c!==null?a.updateSavedCustomOption(c,b,e):a.updateCustomOption(e);a.selectOption(b);a.finishAnimatingSavedCustomSave()}};return b}(c("PrivacySelectorOptionNew"));g["default"]=a}),98);
__d("XPrivacySelectorAsyncMoreController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/selector/async_more/",{id:{type:"String",required:!0},next_value:{type:"Int",required:!0},render_location_enum:{type:"Enum",required:!0,enumType:1}})}),null);
__d("PrivacySelectableMenu",["cx","Arbiter","AsyncRequest","CSS","DataStore","Ease","Event","Keys","PrivacySelectorCustomOption","PrivacySelectorOptionNew","PrivacySelectorSelectableItem","SelectableMenu","SelectableMenuUtils","XPrivacySelectorAsyncMoreController","XPrivacySelectorLoggingController"],(function(a,b,c,d,e,f,g,h){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e){b=a.call(this,b,e)||this;d("DataStore").set("PrivacySelectableMenu",e.id,babelHelpers.assertThisInitialized(b));b._needsBootload=!!e.needsbootload;b.collapseMenu();b.updateOptionsAfterTagExpansion(!!e.hasTags);b._subscriptions.addSubscriptions(c("Event").listen(b._ul,"keydown",b._handleEscape.bind(babelHelpers.assertThisInitialized(b))));return b}var e=b.prototype;e._handleEscape=function(a){a.which===c("Keys").ESC&&(this.done(),a.stopPropagation())};e.cleanup=function(){d("DataStore").remove("PrivacySelectableMenu",this._config.id)};e.getItemForIndex=function(a){return this.findOption(function(b){return b.getIndex()==a})};e.findItem=function(a){for(var b=this._items,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;if(f instanceof c("PrivacySelectorSelectableItem")&&a(f))return f}return null};e.findOption=function(a){return this.findItem(function(b){return b instanceof c("PrivacySelectorOptionNew")&&a(b)})};e.getSelectedOption=function(){return this.findOption(function(a){return a.isSelected()})};e.selectOption=function(a){var b=this,d=null,e=!1,f=!1;for(var g=this._items,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;if(!(j instanceof c("PrivacySelectorSelectableItem")))continue;if(j instanceof c("PrivacySelectorCustomOption")){d=j;continue}if(j.isMoreButton()){this.expandMenuWithMore();continue}if(j.isMoreOptionsButton()||j.isSeeAllButton()){this._needsBootload?e=!0:this.expandMenu();continue}if(!e&&j instanceof c("PrivacySelectorOptionNew")&&j.getPostParam()==a){this.setValue(j.getIndex());f=!0;break}}!f&&d&&(d.setPostParam(a),this.setValue(d.getIndex()));e?(this.subscribeOnce("expandMenu",function(){b.selectOption(a)}),this.expandMenu()):this.inform("selectOption");return!e};e._handleItemClick=function(b,e){if(!d("SelectableMenuUtils").doesItemSupportSelect(b))return a.prototype._handleItemClick.call(this,b,e);if(b.isMoreButton()){this._logMoreButtonClick();this.expandMenuWithMore();return void 0}if(b.isMoreOptionsButton()||b.isSeeAllButton()){this._logMoreOptionsOrSeeAllButtonClick();this.expandMenu();return void 0}if(!(b instanceof c("PrivacySelectorOptionNew")))return void 0;this._logOptionClick(b);e=this.inform("itemclick",{item:b,event:e});if(e)return void 0;!d("SelectableMenuUtils").isSelected(b)&&!b.isCustomOption()&&!b.isSavedCustomOption()&&b.select()!==!1&&(this._items.forEach(function(a){d("SelectableMenuUtils").isSelected(a)&&a!==b&&a.deselect()}),this.inform("change",this.getSelection()));c("Arbiter").inform("composerprivacy/aborteducation");this.done();return b.handleClick()};e._logMoreButtonClick=function(){var a=c("XPrivacySelectorLoggingController").getURIBuilder().setString("content_type",this._config.contenttype).setEnum("event","MORE").setString("privacy_fbid",this._config.privacyfbid!=null?String(this._config.privacyfbid):null).setEnum("render_location",this._config.renderlocation).setBool("saved_custom_opt_in",this._config.savedCustomOptIn).getURI();new(c("AsyncRequest"))().setURI(a).send()};e._logMoreOptionsOrSeeAllButtonClick=function(){var a=this._config.hasSavedCustom?"SEE_ALL":"MORE_OPTIONS";a=c("XPrivacySelectorLoggingController").getURIBuilder().setString("content_type",this._config.contenttype).setEnum("event",a).setString("privacy_fbid",this._config.privacyfbid!=null?String(this._config.privacyfbid):null).setEnum("render_location",this._config.renderlocation).setBool("saved_custom_opt_in",this._config.savedCustomOptIn).getURI();new(c("AsyncRequest"))().setURI(a).send()};e._logOptionClick=function(a){a=c("XPrivacySelectorLoggingController").getURIBuilder().setString("content_type",this._config.contenttype).setEnum("event",a.getLoggingEventName()).setString("privacy_fbid",this._config.privacyfbid!=null?String(this._config.privacyfbid):null).setEnum("render_location",this._config.renderlocation).setBool("saved_custom_opt_in",this._config.savedCustomOptIn).getURI();new(c("AsyncRequest"))().setURI(a).send()};e._getMoreOptionsOrSeeAllButton=function(){return this.findItem(function(a){return a.isMoreOptionsButton()||a.isSeeAllButton()})};e.getCustomItem=function(){return this.findOption(function(a){return a instanceof c("PrivacySelectorCustomOption")})};e._setMenuState=function(a){var b=this.getRoot();d("CSS").conditionClass(b,"_po3",a!=="expanded");d("CSS").conditionClass(b,"_po4",a==="expanded");this._config.hasSavedCustom&&(d("CSS").conditionClass(b,"_n_v",a==="collapsed"),d("CSS").conditionClass(b,"_n__",a!=="collapsed"));this._expanded=a==="expanded"};e.expandMenuWithMore=function(){this._setMenuState("withMore"),this.inform("expandMenuWithMore")};e.expandMenu=function(){var a=this;if(this._expanded)return;this._setMenuState("withMore");this._expanded=!0;if(!this._needsBootload){this.expandMenuAfterLoaded();return}this._needsBootload=!1;var b=this._getMoreOptionsOrSeeAllButton();b&&(this._moreOptionsIcon=b.getIcon(),b.setIcon(this._config.morespinner),this._scrollToOption(b));var d=Date.now(),e=c("XPrivacySelectorAsyncMoreController").getURIBuilder().setString("id",this._config.id).setInt("next_value",this._config.nextvalue).setEnum("render_location_enum",this._config.renderlocation).getURI();new(c("AsyncRequest"))().setURI(e).setRelativeTo(this.getRoot()).setErrorHandler(function(c){c=1250-(Date.now()-d);window.setTimeout(function(){b&&b.setIcon(a._moreOptionsIcon),a._needsBootload=!0,a._expanded=!1},c>0&&b?c:0)}).send()};e.expandMenuAfterLoaded=function(){this._setMenuState("expanded");if(this._moreOptionsIcon){var a=this._getMoreOptionsOrSeeAllButton();a&&a.setIcon(this._moreOptionsIcon);this._moreOptionsIcon=void 0}this.inform("expandMenu")};e.collapseMenu=function(){this._setMenuState("collapsed")};e.updateOptionsAfterTagExpansion=function(a){this._lastHasTagsUpdate=a,this.forEachItem(function(b){b instanceof c("PrivacySelectorOptionNew")&&b.updateAfterTagExpansion(a)})};e.refreshTagExpansionLabels=function(){this.updateOptionsAfterTagExpansion(!!this._lastHasTagsUpdate)};e.updateTagExpansionLabelAfterBootload=function(){this.refreshTagExpansionLabels()};e.onPopoverOpen=function(a){var b=this;a&&a.isBelowFold()?(this._needsBootload&&this.subscribeOnce("expandMenu",function(){var a=b.getSelectedOption();a&&b._scrollToOption(a)}),this.expandMenu(),this._needsBootload||this._scrollToOption(a)):a&&a.isBelowSoftFold()?(this.expandMenuWithMore(),this._scrollToOption(a)):this.collapseMenu()};e._scrollToOption=function(a){if(!this._scrollableArea)return;a=a.getRoot();if(a===null)return;var b=12,d=this._scrollableArea.getScrollTop(),e=d+this._scrollableArea.getClientHeight();a=a.offsetTop+a.offsetHeight;a+b>e&&this._scrollableArea.setScrollTop(d+a+b-e,!0,{duration:Math.min(1e3,(a+b-e)*10),ease:c("Ease").sineOut})};return b}(c("SelectableMenu"));g["default"]=a}),98);
__d("PopoverButton",["csx","DOM","DOMQuery","isTextNode"],(function(a,b,c,d,e,f,g){a={setLabel:function(a,c){a=b("DOMQuery").find(a,"._55pe");var d=a.childNodes;for(var e=0;e<d.length;e++)if(b("isTextNode")(d[e])){b("DOM").replace(d[e],c);return}b("DOM").appendContent(a,c)}};e.exports=a}),null);
__d("PrivacySelectorDataStore",["ArbiterMixin","KeyedCallbackManager","PrivacySelectorNewDispatcher"],(function(a,b,c,d,e,f,g){var h=new(c("KeyedCallbackManager"))(),i=babelHelpers["extends"]({},c("ArbiterMixin"),{get:function(a,b){h.executeOrEnqueue(a,b)},hasValueChanged:function(a){return!!h.getResource(a)}});c("PrivacySelectorNewDispatcher").register(function(a){a.saved_custom_privacy_type!=null&&(h.addResourcesAndExecute({saved_custom_update:{postParam:a.post_param,savedCustomPrivacyType:a.saved_custom_privacy_type,sourceSelectorID:a.unique_id,subtitles:a.subtitles}}),i.inform("saved_custom_update"));if(a.selector_type){var b;a=(b={},b[a.selector_type]={post_param:a.post_param,unique_id:a.unique_id,reload:a.reload,is_error:a.is_error,is_custom:a.is_custom,selector_type:a.selector_type,subtitles:a.subtitles},b);h.addResourcesAndExecute(a);i.inform("change")}});a=i;g["default"]=a}),98);
__d("XPrivacySpecificAudienceSelectorDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/specific_audience_selector_dialog/",{autosave:{type:"Bool",defaultValue:!1},content_type:{type:"String"},fbid:{type:"String",required:!0},option_id:{type:"String"},post_param:{type:"String"},privacy_type:{type:"Enum",required:!0,enumType:1},render_location:{type:"Enum",required:!0,enumType:1},return_uri:{type:"String"},cancel_uri:{type:"String"},is_default_privacy_user:{type:"Bool",defaultValue:!1}})}),null);
__d("PrivacySelectorSavedCustomOption",["AsyncDialog","AsyncRequest","DataStore","PrivacySelectorOptionNew","XPrivacySpecificAudienceSelectorDialogController"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b)||this}var e=b.prototype;e.getSelector=function(){return this._selector};e.isBasicOption=function(){return!1};e.isSavedCustomOption=function(){return!0};e.getSavedCustomPrivacyType=function(){return this._data.savedCustomPrivacyType};e.getLoggingEventName=function(){switch(this._data.savedCustomPrivacyType){case"friends_except":return"SELECT_FRIENDS_EXCEPT";case"specific_friends":return"SELECT_SPECIFIC_FRIENDS";default:return"SELECT_OTHER"}};e.openDialog=function(a){this._selector=a;d("DataStore").set(this._data.id,"PrivacySelectorCustomOption",this);var b=c("XPrivacySpecificAudienceSelectorDialogController").getURIBuilder().setBool("autosave",this._data.autosave).setString("content_type",a.getContentType()).setString("fbid",this._data.privacyFBID).setString("option_id",this._data.id).setString("post_param",this.getPostParam()).setEnum("privacy_type",this._data.savedCustomPrivacyType).setEnum("render_location",a.getRenderLocation()).getURI();b=new(c("AsyncRequest"))().setURI(b).setRelativeTo(a.getTriggerButtonElement());d("AsyncDialog").send(b)};b.informSave=function(a){a=d("DataStore").get(a,"PrivacySelectorCustomOption");if(a instanceof b){a=a.getSelector();a&&a.animateSavedCustomSave()}};b.informSaveError=function(a){a=d("DataStore").get(a,"PrivacySelectorCustomOption");if(a instanceof b){a=a.getSelector();a&&a.finishAnimatingSavedCustomSaveOnError()}};return b}(c("PrivacySelectorOptionNew"));g["default"]=a}),98);
__d("XPrivacySelectorSavedCustomUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/selector/update/saved_custom/",{})}),null);
__d("XPrivacySelectorUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/selector/update/",{privacy_mutation_token:{type:"String"},privacy_fbid:{type:"String"},post_param:{type:"String"},tags:{type:"IntVector"},render_location_enum:{type:"Enum",enumType:1},is_saved_on_select:{type:"Bool",defaultValue:!1},should_return_tooltip:{type:"Bool",defaultValue:!1},replace_on_select:{type:"Bool",defaultValue:!1},prefix_tooltip_with_app_privacy:{type:"Bool",defaultValue:!1},ent_id:{type:"String"},reload_selector:{type:"Bool",defaultValue:!1},user_id:{type:"FBID"}})}),null);
__d("PrivacySelectorBase",["cx","fbt","$","Animation","Arbiter","ArbiterMixin","AsyncRequest","Button","CSS","CurrentUser","DOM","DataStore","Focus","Input","MenuStaticItem","PopoverButton","PopoverLoadingMenu","PrivacyConst","PrivacySelectableMenu","PrivacySelectorCustomOption","PrivacySelectorDataStore","PrivacySelectorNewDispatcher","PrivacySelectorSavedCustomOption","Promise","QPLUserFlow","Run","SubscriptionsHandler","TooltipData","XPrivacySelectorLoggingController","XPrivacySelectorSavedCustomUpdateController","XPrivacySelectorUpdateController","XUIError","asyncToGeneratorRuntime","bind","debounce","ge","mixin","nullthrows","promiseDone","qpl","setTimeout"],(function(a,b,c,d,e,f,g,h,i){var j=this,k,l=1,m=function(e){babelHelpers.inheritsLoose(a,e);function a(a,b,f,g,h,i){var j;j=e.call(this)||this;j._hasBeenCleanedUp=!1;j._syncUpdateQueue=[];j._isWaitingForSavedCustom=!1;j._config=a;d("DataStore").set(j._config.rootID,"selector",babelHelpers.assertThisInitialized(j));j._isSavedOnSelect=a.isSavedOnSelect;j._tags=a.taggedUIDs;j._receivingUpdate=!1;j._previousParam=null;j._listeners=new(c("SubscriptionsHandler"))();j._spinnerCount=0;j._postParam=a.postParam;b=a.hasSavedCustomPrivacy;f=a.selectorSyncKey;g=a.useAsyncMenu;g?j._listeners.addSubscriptions(j.getPopoverMenu().subscribe("setMenu",function(){j._menu=j.getPopoverMenu().getMenu();if(!(j._menu instanceof c("PrivacySelectableMenu")))return;j._onMenuLoad();j._onPopoverOpen();j.inform("asyncMenuLoaded")})):j._onMenuLoad();(f||b)&&j._initSelectorSync();d("Run").onLeave(j._cleanup.bind(babelHelpers.assertThisInitialized(j)));return j}var f=a.prototype;f._cleanup=function(){if(this._config.skipCleanup)return;var a=this.getSelectableMenu();a instanceof c("PrivacySelectableMenu")&&a.cleanup();this._hasBeenCleanedUp=!0;this._syncUpdateQueue=[];this._syncUpdatePromise=null;this._listeners&&this._listeners.release();this._listeners=null};f._initSelectorSync=function(){var a=this,b=this._config,d=b.hasSavedCustomPrivacy,e=b.selectorSyncKey;e!=null&&(this._listeners&&this._listeners.addSubscriptions(c("PrivacySelectorDataStore").subscribe("change",function(){c("PrivacySelectorDataStore").get(e,function(b){a._enqueueAndExecuteSyncUpdate({type:"regular_update",payload:b})})})));d&&(this._listeners&&this._listeners.addSubscriptions(c("PrivacySelectorDataStore").subscribe("saved_custom_update",function(){c("PrivacySelectorDataStore").get("saved_custom_update",function(b){a._enqueueAndExecuteSyncUpdate({type:"saved_custom_update",payload:b})})})))};f._enqueueAndExecuteSyncUpdate=function(a){this._syncUpdateQueue.push(a);if(this._syncUpdatePromise)return;this._syncUpdatePromise=this._startSyncUpdates();c("promiseDone")(this._syncUpdatePromise,this._resetSyncUpdatePromise.bind(this),this._resetSyncUpdatePromise.bind(this))};f._resetSyncUpdatePromise=function(){this._syncUpdatePromise=null};f._startSyncUpdates=function(){var a=this;return new(k||(k=b("Promise")))(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){yield a._waitUntilSelectorInDOM();if(a._hasBeenCleanedUp){c();return}while(a._syncUpdateQueue.length){c=a._syncUpdateQueue.shift();a._executeSyncUpdate(c)}b()});return function(a,b){return c.apply(this,arguments)}}())};f._executeSyncUpdate=function(b){var e=this;if(b.type==="tags_changed"){this._executeTagsChangedUpdate(b.tags);return}var f=b.payload,g=this.getSelectableMenu();if(f.unique_id===g._config.id)return;this._receivingUpdate=!0;switch(b.type){case"regular_update":d("XUIError").clear(this.getTriggerButtonElement());f.post_param&&this.selectOption(f.post_param,function(){f.is_custom&&f.subtitles&&e.updateCustomOption(f.subtitles)});f.reload&&this.reloadSelector();f.is_error&&this._displayErrorWithoutFocus();f.post_param||(this._receivingUpdate=!1);break;case"saved_custom_update":g instanceof c("PrivacySelectableMenu")&&f.savedCustomPrivacyType!=null&&f.postParam!=null&&f.subtitles!=null&&this.updateSavedCustomOption(f.savedCustomPrivacyType,f.postParam,f.subtitles);if(!this.shouldTryToUpdateSavedCustom())return;a._savedCustomSelectorsToUpdate.push(this);a._sendSavedCustomUpdateRequest();f.postParam||(this._receivingUpdate=!1);break}};f._executeTagsChangedUpdate=function(a){var b=this._tags;this._tags=a;var d=b.length>0,e=a.length>0;d!==e&&(this.getSelectableMenu().updateOptionsAfterTagExpansion(this._showTagExpansion()),this._updateTriggerButtonLabelAndIcon());(b.length!==a.length||a.some(function(a){return!b.includes(a)}))&&(this._updateTooltip(),c("Arbiter").inform("PrivacySelectorBase/changed",this._getChangedData()))};f.shouldTryToUpdateSavedCustom=function(){if(this.getSelectableMenu()instanceof c("PrivacySelectableMenu"))return this.getIsCustomOptionSelected()||this.getIsSavedCustomOptionSelected();for(var a of Object.keys(c("PrivacyConst").PostParam))if(this._postParam===c("PrivacyConst").PostParam[a].toString())return!1;return!0};f._broadcastUpdate=function(){this._broadcastUpdateImpl(!1)};f._broadcastError=function(){this._broadcastUpdateImpl(!0)};f._broadcastUpdateImpl=function(a){if(!this._receivingUpdate){var b={selector_type:this._config.selectorSyncKey,unique_id:this.getSelectableMenu()._config.id};if(a)b.is_error=a;else{a=this._getSelectedOption();if(!a)return;b.post_param=a.getPostParam();b.subtitles=a.getSubtitles();b.is_custom=a.isCustomOption();b.saved_custom_privacy_type=a.getSavedCustomPrivacyType()}c("PrivacySelectorNewDispatcher").handleUpdateFromSelector(b)}};f.disable=function(){var a=this.getTriggerButtonElement();c("Button").setEnabled(a,!1);this.getPopover().disable();d("CSS").addClass(a,"_4swv");return this};f.enable=function(){var a=this.getTriggerButtonElement();c("Button").setEnabled(a,!0);this.getPopover().enable();d("CSS").removeClass(a,"_4swv");return this};f.shouldReplaceOnPost=function(){return this._config.replaceOnPost};f.getSelectedTriggerIcon=function(){return this._selectedOption&&this._selectedOption.getTriggerIcon()};f.getSelectedTriggerLabel=function(){return this._selectedOption&&this._selectedOption.getTriggerLabel()};f.getSelectedIconType=function(){return this._selectedOption&&this._selectedOption.getIconType()};f.getIsPublicSelected=function(){return this._selectedOption&&this._selectedOption.isPublic()};f.getIsFBOnlySelected=function(){return this._selectedOption&&this._selectedOption.isFBOnly()};f.getIsFriendsSelected=function(){return this._selectedOption&&this._selectedOption.isFriends()};f.getIsFriendsOfFriendsSelected=function(){return this._selectedOption&&this._selectedOption.isFriendsOfFriends()};f.getIsOnlyMeSelected=function(){return this._selectedOption&&this._selectedOption.isOnlyMe()};f.getSelectedBaseValue=function(){return this._selectedOption&&this._selectedOption.getBaseValue()};f.getSelectedLabelString=function(){return this._selectedOption&&this._selectedOption.getLabel()};f.getSelectedPostParam=function(){return this._selectedOption&&this._selectedOption.getPostParam()};f.getIsCustomOptionSelected=function(){return this._selectedOption&&this._selectedOption.isCustomOption()};f.getIsSavedCustomOptionSelected=function(){return this._selectedOption&&this._selectedOption.isSavedCustomOption()};f.getIsSavedOnSelect=function(){return this._isSavedOnSelect};f.getPrivacyFBID=function(){return this._config.privacyFBID};f.setValue=function(a){this.getSelectableMenu().setValue(a)};f.setIsSavedOnSelect=function(a){this._isSavedOnSelect=a};f.getSavedCustomOptIn=function(){return this._config.savedCustomOptIn};f.openSelectorExpanded=function(a){var b=this;this.openSelector(function(){b.getSelectableMenu().expandMenu(),a&&a()})};f.openSelector=function(a){this.getSelectableMenu()instanceof c("PopoverLoadingMenu")?(this.subscribeOnce("asyncMenuLoaded",function(){a&&a()}),this.getPopover().showLayer()):(this.getPopover().showLayer(),a&&a())};f.closeSelector=function(){this.getPopover().hideLayer()};f.getSelectableMenu=function(){this._menu||(this._menu=this._config.getMenu());return this._menu};f.getPopover=function(){this._popover||(this._popover=this.getPopoverMenu().getPopover());return this._popover};f.getPopoverMenu=function(){this._popoverMenu||(this._popoverMenu=this._config.getPopoverMenu());return this._popoverMenu};f.getTriggerButtonElement=function(){this._button||(this._button=c("$")(this._config.buttonID));return this._button};f.isSelectorInDOM=function(){return!!c("ge")(this._config.rootID)};f._waitUntilSelectorInDOM=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){while(!this._hasBeenCleanedUp&&!this.isSelectorInDOM())yield new(k||(k=b("Promise")))(function(a){return c("setTimeout")(a,1e3)})});function a(){return a.apply(this,arguments)}return a}();f.getRoot=function(){this._root||(this._root=c("$")(this._config.rootID));return this._root};f.getInput=function(){this._input||(this._input=c("$")(this._config.inputID));return this._input};f.getSpinner=function(){this._spinner||(this._spinner=c("$")(c("nullthrows")(this._config.spinnerID)));return this._spinner};f.getCheckmark=function(){this._checkmark||(this._checkmark=c("$")(c("nullthrows")(this._config.checkmarkID)));return this._checkmark};f.getErrorIcon=function(){this._errorIcon||(this._errorIcon=c("$")(c("nullthrows")(this._config.errorIconID)));return this._errorIcon};f.getMenuElement=function(){return this.getSelectableMenu().getRoot()};f.selectOption=function(a,b){if(!a)return;var d=this.getSelectableMenu();d instanceof c("PopoverLoadingMenu")?(this.subscribeOnce("asyncMenuLoaded",this._selectOptionImpl.bind(this,a,b)),this._fetchAsyncMenu()):this._selectOptionImpl(a,b)};f._selectOptionImpl=function(a,b){var c=this,d=this.getSelectableMenu();a=d.selectOption(a);!a?(d.subscribeOnce("selectOption",function(){var a=c.getIsSavedOnSelect();c.setIsSavedOnSelect(!1);c._updateMenu();c.setIsSavedOnSelect(a);c._finishSpinnerSuccess();b&&b()}),this._showSpinner()):b&&b();this._updateMenu()};f._updateMenu=function(){this._selectedOption=this._getSelectedOption();if(!this._selectedOption)return;this.updateDataForItemIndex(this._selectedOption.getIndex(),this._selectedOption.getPostParam())};f._fetchAsyncMenu=function(){this._config.useAsyncMenu&&this.getPopoverMenu().fetchMenu()};f._getSelectedOption=function(){var a=this.getSelectableMenu();return a instanceof c("PrivacySelectableMenu")?a.getSelectedOption():null};f._onItemClick=function(a,b){a=b.item;if(a instanceof c("MenuStaticItem"))return;a.isPrivateSharingDisabledOption()?a.openDialog(this):a.isBasicOption()?this.updateDataForItemIndex(a.getIndex(),a.getPostParam()):(a.isCustomOption()||a.isSavedCustomOption())&&(this._closeForCustom=!0,a.openDialog(this));this.inform("click",{customSelected:a.isCustomOption()})};f.getContentType=function(){return this._config.contentType};f.getRenderLocation=function(){return this._config.renderLocation};f.getPostParam=function(){return this._postParam};f.getTags=function(){return this._tags};f.updateCustomOption=function(a){var b=this.getSelectableMenu(),d=b.findOption(function(a){return a instanceof c("PrivacySelectorCustomOption")});if(d==null)return;d.setSubtitles(a);b.refreshTagExpansionLabels()};f.updateSavedCustomOption=function(a,b,d){var e=this.getSelectableMenu(),f=e.findOption(function(b){return b instanceof c("PrivacySelectorSavedCustomOption")&&b.getSavedCustomPrivacyType()===a});if(f==null)return;f.setPostParam(b).setSubtitles(d);e.refreshTagExpansionLabels()};f.updateDataForItemIndex=function(a,b){var e=this.getSelectableMenu();a=e.getItemForIndex(String(a));if(!a)return;(a.isCustomOption()||a.isSavedCustomOption())&&a.setPostParam(b);if(!a.isCustomOption()){var f=e.findOption(function(a){return a instanceof c("PrivacySelectorCustomOption")});f!=null&&(f.setSubtitlesToNonSelected(),e.refreshTagExpansionLabels())}this._selectedOption=a;this._previousParam=this._postParam;this._postParam=b;d("Input").setValue(this.getInput(),b);this._updateTriggerButtonLabelAndIcon();this._updateTooltipAndSavePrivacyIfNeeded();this.inform("changed",{post_param:this._postParam,base_value:this.getSelectedBaseValue()});c("Arbiter").inform("PrivacySelectorBase/changed",this._getChangedData())};f._shouldUpdateTooltips=function(){var a=this._config,b=a.shouldPrefixTooltipApps;a=a.supportsTagExpansion;return b||a&&this._hasTags()||this.getIsCustomOptionSelected()||this.getIsSavedCustomOptionSelected()};f._updateTooltip=function(){this._updateTooltipAndSavePrivacyIfNeededImpl(!1)};f._updateTooltipAndSavePrivacyIfNeeded=function(){this._updateTooltipAndSavePrivacyIfNeededImpl(!0)};f._updateTooltipAndSavePrivacyIfNeededImpl=function(a){this._shouldUpdateTooltips()&&this._updateTooltipToLoading(),this._sendUpdateRequest(a),this._shouldUpdateTooltips()||this._setTooltipValue(this._selectedOption.getTooltip())};f.reloadSelector=function(){this._cleanup();var a=this._config,b=a.entID,d=a.privacyFBID,e=a.renderLocation;a=a.userID;d=c("XPrivacySelectorUpdateController").getURIBuilder().setString("privacy_fbid",d).setString("post_param",this._postParam).setEnum("render_location_enum",e).setBool("reload_selector",!0).setString("ent_id",b).setFBID("user_id",a).getURI();new(c("AsyncRequest"))().setRelativeTo(this.getRoot()).setHandler(this.inform.bind(this,"reloaded")).setURI(d).send()};f._sendUpdateRequest=function(a){var b=this,d={instanceKey:l++};c("QPLUserFlow").start(c("qpl")._(917557,"7784"),d);a=a&&this.getIsSavedOnSelect()&&!this._receivingUpdate;var e=this._shouldUpdateTooltips();if(!a&&!e){this._receivingUpdate=!1;return}a&&this._showSpinner();var f=this._config,g=f.entID,h=f.privacyFBID,i=f.renderLocation,j=f.shouldPrefixTooltipApps;f=f.userID;h=c("XPrivacySelectorUpdateController").getURIBuilder().setString("privacy_fbid",h).setString("post_param",this._postParam).setIntVector("tags",this._tags).setEnum("render_location_enum",i).setBool("is_saved_on_select",a).setBool("should_return_tooltip",e).setBool("prefix_tooltip_with_app_privacy",j).setString("ent_id",g).setFBID("user_id",f).getURI();this._updateRequest&&this._updateRequest.abandon();this._updateRequest=new(c("AsyncRequest"))(h).setRelativeTo(this.getRoot()).setHandler(function(e){a&&(b._finishSpinnerSuccess(),b._broadcastUpdate());e=e==null?void 0:(e=e.payload)==null?void 0:e.tooltip;e!=null&&(b._tooltipForSavedCustomErrorRecovery=e,b._setTooltipValue(e));b.inform("selector_updated");c("QPLUserFlow").endSuccess(c("qpl")._(917557,"7784"),d)}).setFinallyHandler(function(a){b._receivingUpdate=!1,b._updateRequest=null});a&&this._updateRequest.setErrorHandler(c("bind")(this,function(a){if(this._receivingUpdate){this._displayErrorWithoutFocus();return}this.getSelectableMenu().selectOption(this._previousParam);this._postParam=this._previousParam;this._displayError();this._broadcastError();c("QPLUserFlow").endFailure(c("qpl")._(917557,"7784"),"unknown_error",d)}));this._updateRequest.send()};f.animateSavedCustomSave=function(){if(this._isWaitingForSavedCustom)return;this._showSpinner();this._updateTooltipToLoading();this._config.shouldDisplayLabel&&this._updateTriggerToLoading();this._isWaitingForSavedCustom=!0};f.finishAnimatingSavedCustomSave=function(){if(!this._isWaitingForSavedCustom)return;this._finishSpinnerSuccess();this._isWaitingForSavedCustom=!1};f.finishAnimatingSavedCustomSaveOnError=function(){if(!this._isWaitingForSavedCustom)return;this._isWaitingForSavedCustom=!1;this._finishSpinnerSuccess(!1);this._tooltipForSavedCustomErrorRecovery!=null&&this._setTooltipValue(this._tooltipForSavedCustomErrorRecovery)};f._showSpinner=function(){if(!this._shouldDisplaySuccessAndFailure())return;if(!this.getIsSavedOnSelect())return;if(this._spinnerCount===0){var a=this.getTriggerButtonElement(),b=this.getSpinner();d("XUIError").clear(a);c("Button").setIcon(a,b);d("CSS").show(b);d("CSS").hide(this.getCheckmark())}this._spinnerCount++};f._finishSpinnerSuccess=function(a){var b=this;a===void 0&&(a=!0);if(!this._shouldDisplaySuccessAndFailure())return;if(!this.getIsSavedOnSelect())return;this._spinnerCount--;if(this._spinnerCount===0){d("CSS").hide(this.getSpinner());this._updateTriggerButtonLabelAndIcon();if(a){a=this.getCheckmark();if(a){var e=this.getTriggerButtonElement(),f=c("Button").getIcon(e);c("Button").setIcon(e,a);d("CSS").hide(f);new(c("Animation"))(a).show().from("opacity",0).to("opacity",1).duration(400).checkpoint().duration(200).checkpoint().from("opacity",1).to("opacity",0).duration(400).hide().ondone(function(){b._updateTriggerButtonLabelAndIcon(),new(c("Animation"))(f).show().from("opacity",0).to("opacity",1).duration(300).go()}).go()}}}};f._displayError=function(){if(!this._shouldDisplaySuccessAndFailure())return;this._spinnerCount--;this._displayErrorImpl(!0)};f._displayErrorWithoutFocus=function(){this._displayErrorImpl(!1)};f._displayErrorImpl=function(a){if(!this._shouldDisplaySuccessAndFailure())return;var b=this.getTriggerButtonElement(),e=this.getErrorIcon();d("PopoverButton").setLabel(b,i._("Select audience"));c("Button").setIcon(b,e);d("CSS").show(e);d("TooltipData").remove(b);a&&d("Focus").setWithoutOutline(b);d("XUIError").set({target:b,message:i._("Your selection might not have been saved. We recommend trying again later.")})};f.informTagsChanged=function(a){a=this._getTags(a);this.informTagsChangedWithIDs(a)};f.informTagsChangedWithIDs=function(a){this._enqueueAndExecuteSyncUpdate({type:"tags_changed",tags:a})};f._getChangedData=function(){return{tags:this._tags,privacy:this.getSelectedBaseValue()}};f._showTagExpansion=function(){return this._hasTags()};f._getTags=function(a){var b=[],d=c("CurrentUser").getID();if(a.withTags)for(var e=0;e<a.withTags.length;e++){var f=a.withTags[e].info;f.uid!=d&&b.push(f.uid.toString())}if(a.mention)for(f in a.mention)a.mention[f].type=="user"&&a.mention[f].uid!=d&&b.push(a.mention[f].uid.toString());return b};f._updateTriggerButtonLabelAndIcon=function(){var a=this._config,b=a.shouldDisplayLabel;a=a.triggerNoIcon;if(this._shouldDisplaySuccessAndFailure()&&this._spinnerCount===0){var e=this.getTriggerButtonElement(),f=this._selectedOption.getTriggerIcon();a&&d("CSS").hide(f);c("Button").setIcon(e,f.cloneNode());d("CSS").conditionClass(c("Button").getIcon(e),"_21or",this.getSelectedIconType()==="everyone")}b&&!this._isWaitingForSavedCustom&&d("PopoverButton").setLabel(this.getTriggerButtonElement(),this._selectedOption.getTriggerLabel())};f._getLoadingText=function(){return i._("Loading...")};f._updateTooltipToLoading=function(){this._setTooltipValue(this._getLoadingText())};f._updateTriggerToLoading=function(){d("PopoverButton").setLabel(this.getTriggerButtonElement(),this._getLoadingText())};f._setTooltipValue=function(a){var b=this.getTriggerButtonElement();a&&d("TooltipData").set(b,a);a=i._("Shared with {audience}",[i._param("audience",a)]);b.setAttribute("aria-label",a.toString())};f._onPopoverClose=function(){if(!this._getSelectedOption())return;this._logInteraction("CLOSE_MENU");this._closeForCustom?this._closeForCustom=!1:this.inform("selectorFinished");this.inform("close");c("Arbiter").inform("PrivacySelectorBase/close")};f._onPopoverOpen=function(){var a=this.getSelectableMenu();if(!(a instanceof c("PrivacySelectableMenu")))return;c("Arbiter").inform("composerprivacy/aborteducation");a.onPopoverOpen(this._getSelectedOption());this._logInteraction("OPEN_MENU");this.inform("open");c("Arbiter").inform("PrivacySelectorBase/open")};f._onMenuLoad=function(){var a=this,b=this.getSelectableMenu();this._listeners&&this._listeners.addSubscriptions(b.subscribe("itemclick",this._onItemClick.bind(this)),this.getPopover().subscribe("hide",this._onPopoverClose.bind(this)),this.getPopover().subscribe("show",this._onPopoverOpen.bind(this)));this._listeners&&this._listeners.addSubscriptions(b.subscribe(["expandMenu","expandMenuWithMore"],function(){a.getPopover()&&a.getPopover().getLayer()&&a.getPopover().getLayer().updatePosition(),a._selectedOption=a._getSelectedOption()}));this._selectedOption=this._getSelectedOption();this._selectedOption&&(this._postParam=this._selectedOption.getPostParam().toString(),this._previousParam=this._postParam,this._hasAudienceExpansion()&&this._updateTriggerButtonLabelAndIcon())};f._hasTags=function(){return this._tags.length>0};f._hasAudienceExpansion=function(){return this._hasTags()};f._shouldDisplaySuccessAndFailure=function(){var a=this._config,b=a.spinnerID,c=a.checkmarkID;a=a.errorIconID;return b!=null&&c!=null&&a!=null};f._logInteraction=function(a){var b=this._config,d=b.contentType,e=b.privacyFBID,f=b.renderLocation;b=b.savedCustomOptIn;d=c("XPrivacySelectorLoggingController").getURIBuilder().setString("content_type",d).setEnum("event",a).setString("privacy_fbid",e).setEnum("render_location",f).setBool("saved_custom_opt_in",b).getURI();new(c("AsyncRequest"))().setURI(d).send()};return a}(c("mixin")(c("ArbiterMixin")));m._savedCustomSelectorsToUpdate=[];m._sendSavedCustomUpdateRequest=c("debounce")(function(){var a=m._savedCustomSelectorsToUpdate;m._savedCustomSelectorsToUpdate=[];var b={},e={},f=!1;for(var g of a)b[g._postParam]=!0,e[g._config.triggerStyle]=!0,f=f||g._menu instanceof c("PopoverLoadingMenu");j._savedCustomUpdateRequest&&j._savedCustomUpdateRequest.abandon();j._savedCustomUpdateRequest=new(c("AsyncRequest"))(c("XPrivacySelectorSavedCustomUpdateController").getURIBuilder().getURI()).setData({has_async_menu:f,post_params:Object.keys(b),trigger_icon_styles:Object.keys(e)}).setHandler(function(b){b=b.payload||{};var e=b.post_param_map||{};b=b.data||{};var f=c("DOM").create("div",{className:"hidden_elem"});for(var g of a){var h=e[g._postParam];if(!h)continue;if(g._menu instanceof c("PopoverLoadingMenu")){var i=b[h]||{};g._postParam=h;var j=g._config,k=j.shouldDisplayLabel,l=j.triggerNoIcon;j=j.triggerStyle;if(!l){l=i.icons[j];if(l!=null){c("DOM").setContent(f,l);j=f.firstChild;c("Button").setIcon(g._button,j)}}if(k){l=i.label;l!=null&&d("PopoverButton").setLabel(g._button,l)}}else g._menu instanceof c("PrivacySelectableMenu")&&(g._receivingUpdate=!0,g.selectOption(h),g._receivingUpdate=!1)}c("DOM").remove(f)}).setFinallyHandler(function(){j._savedCustomUpdateRequest=null});j._savedCustomUpdateRequest.send()},10,this);g["default"]=m}),98);
__d("FBStoriesPrivacyHelper",["fbt","FBStoriesGating","FBStoriesProductionTypes"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=(a=a)!=null?(a=a.unified_stories_setting)!=null?a.audience_mode:a:a;a===d("FBStoriesProductionTypes").UnifiedStoriesAudienceModeTypes.FRIENDS_AND_CONNECTIONS&&d("FBStoriesGating").isFriendsAndConnectionsOptionDeprecated()&&(a=d("FBStoriesProductionTypes").UnifiedStoriesAudienceModeTypes.FRIENDS);return a}function b(a){a=((a=a)!=null?(a=a.stories_data)!=null?a.audience_mode_list:a:a)||[];d("FBStoriesGating").isFriendsAndConnectionsOptionDeprecated()&&(a=a.filter(function(a){return a.unified_stories_audience_mode!==d("FBStoriesProductionTypes").UnifiedStoriesAudienceModeTypes.FRIENDS_AND_CONNECTIONS}));return a}function c(a){return((a=a)!=null?(a=a.unified_stories_setting)!=null?(a=a.custom_participants)!=null?a.nodes:a:a:a)||[]}function e(a){return((a=a)!=null?(a=a.unified_stories_setting)!=null?(a=a.blocked_participants)!=null?a.nodes:a:a:a)||[]}function f(a){var b=a.length;a=a.map(function(a){return(a=a)!=null?(a=a.actor)!=null?a.name:a:a});switch(b){case 0:return h._("No one can see your story");case 1:return h._("{name_of_friend_connection} can see your story",[h._param("name_of_friend_connection",a[0])]);case 2:return h._("{name_of_first_friend_connection} and {name_of_second_friend_connection} can see your story",[h._param("name_of_first_friend_connection",a[0]),h._param("name_of_second_friend_connection",a[1])]);case 3:return h._("{names_of_first_two_friends_connections} and {name_of_third_friend_connection} can see your story",[h._param("names_of_first_two_friends_connections",a.slice(0,2).join(", ")),h._param("name_of_third_friend_connection",a[2])]);default:return h._({"*":"{names_of_first_three_friends_connections} and {number} others can see your story","_1":"{names_of_first_three_friends_connections} and 1 other can see your story"},[h._plural(b-3,"number"),h._param("names_of_first_three_friends_connections",a.slice(0,3).join(", "))])}}g.getSelectedAudienceMode=a;g.getEligibleAudienceModesList=b;g.getCustomParticipants=c;g.getBlockedParticipants=e;g.getCustomMenuText=f}),98);
__d("FBStoriesPrivacySelectorGraphQLSubscriptionHandler",["Button","DOM","FBStoriesGraphQLAPI","FBStoriesPrivacyHelper","Run","SubscriptionsHandler","TooltipData"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.button,e=a.buttonLabel,f=a.audienceModeIcons,g=new(c("SubscriptionsHandler"))();g.addSubscriptions(d("FBStoriesGraphQLAPI").subscribeToPrivacyChanges(function(a){h(a,b,e,f)}));d("Run").onBeforeUnload(function(){g.release()})}function h(a,b,e,f){a=(a=a)!=null?(a=a.unified_stories_privacy_change_subscribe)!=null?a.viewer:a:a;if(!a)return;var g=d("FBStoriesPrivacyHelper").getSelectedAudienceMode(a);a=d("FBStoriesPrivacyHelper").getEligibleAudienceModesList(a);if(!g||!a)return;a=a.find(function(a){return a.unified_stories_audience_mode===g});if(!a)return;c("DOM").setContent(e,a.header);e=f[g];e&&c("Button").setIcon(b,e.cloneNode());d("TooltipData").set(b,a.header)}g.registerForSubscriptionUpdates=a;g._updateSelectorAfterGraphqlSubscription=h}),98);
__d("XFamilyMentionsNUXDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/family_mentions/nux_dialog/",{__asyncDialog:{type:"Int"}})}),null);
__d("FamilyRelationshipMentions",["AsyncDialog","AsyncRequest","FamilyMentionsData","XFamilyMentionsNUXDialogController"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={},c=!1;a.shouldShowNUX=function(a){if(b("FamilyMentionsData").hasAcceptedNUX||c)return!1;var d=a.family_names;if(d==null)return!1;for(var e=0;e<d.length;e++)if(d[e]==a.text)return!0;return!1};a.showNUX=function(a,d){var e=b("XFamilyMentionsNUXDialogController").getURIBuilder().getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(e),function(e){e.subscribe("cancel",function(){a.text=a.default_name,new(b("AsyncRequest"))().setURI("/ajax/family_mentions/deny_nux").send(),d(a)}),e.subscribe("confirm",function(){c=!0,new(b("AsyncRequest"))().setURI("/ajax/family_mentions/confirm_nux").send(),d(a),e.finishHide()})})};return a}();e.exports=a}),null);
__d("TypeaheadBestName",["FamilyMentionsData","TokenizeUtil"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this._typeahead=a}var c=a.prototype;c.enable=function(){var a=this,b=this._typeahead.getView(),c=this._getAvailableAlternateNameFields();this._subscription=b.subscribe("beforeRender",function(b,d){b=d.value;for(var e=0;e<d.results.length;++e){var f=d.results[e],g=a._getNameToDisplay(f,b,c);g!==null&&(f.text=g,Object.prototype.hasOwnProperty.call(f,"default_name")&&f.text!==f.default_name?f.subtext=f.default_name:f.subtext=null)}})};c.disable=function(){this._typeahead.getView().unsubscribe(this._subscription),this._subscription=null};c._getNameToDisplay=function(a,c,d){if(Object.prototype.hasOwnProperty.call(a,"default_name")&&b("TokenizeUtil").isQueryMatch(c,a.default_name))return a.default_name;for(var e=0;e<d.length;e++){var f=a[d[e]];if(f==null)continue;for(var g=0;g<f.length;g++){var h=f[g];if(b("TokenizeUtil").isQueryMatch(c,h))return h}}return Object.prototype.hasOwnProperty.call(a,"default_name")?a.default_name:null};c._getAvailableAlternateNameFields=function(){var a=["alternate_names"];b("FamilyMentionsData").allowFamilyNames&&a.push("family_names");return a};return a}();Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("legacy:BestNameTypeaheadBehavior",["TypeaheadBestName"],(function(a,b,c,d,e,f){"use strict";a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.buildBestAvailableNames=function(a){a.enableBehavior(b("TypeaheadBestName"))}}),3);
__d("MentionsInputMatchers",[],(function(a,b,c,d,e,f){a=["@","\\uff20"].join("");var g=["#","\\uFF03"].join("");b=".,+*?$|#{}()\\^\\-\\[\\]\\\\/!%'\"~=<>_:;\n\r";c=b.replace("#","")+"&";var h="\u200b";d=function(){"use strict";function a(a,b){this.$1=a,this.$2=b,this.$3()}var b=a.prototype;b.$3=function(){var a=this.$4(this.$2),b=this.$5(this.$1,this.$2);b=this.$6(this.$1,b);var c=this.$7(a,b);a=this.$8(a);this.$9=new RegExp("["+this.$1+"]$");this.$10=new RegExp(b+"$");this.$11=new RegExp(a+"$");this.$12=new RegExp(c+"$");this.$13=new RegExp("["+g+"]")};b.$4=function(a){return"\\b[A-Z][^ A-Z"+a+h+"]"};b.$5=function(a,b){return"(?:[^"+a+b+"]|["+b+"][^ "+b+"])"};b.$6=function(a,b){return"(?:^|\\s)(["+a+"]("+b+"{0,20}))"};b.$7=function(a,b){return"(?:(?:^|[^#])("+a+"+)|"+b+")"};b.$8=function(a){return"(?:"+a+"{4,})"};b.getMainMatcher=function(){return this.$10};b.getTriggerMatcher=function(){return this.$9};b.getAutoMatcher=function(){return this.$12};b.getHashtagMatcher=function(){return this.$13};return a}();f="\\b[A-Z][^ A-Z"+b+"]";a={mentionsMatchers:new d(a,b),hashtagMatchers:new d(g,c),userMatcher:new RegExp("(?:"+f+"{4,})$")};e.exports=a}),null);
__d("MentionsInput",["cx","Arbiter","ArbiterMixin","Bootloader","CSS","DOM","DataStore","Event","FbtResultBase","FlipDirection","Input","InputSelection","Keys","MentionsInputMatchers","Parent","Style","TokenizeUtil","UserAgent_DEPRECATED","htmlize","mixin","removeFromArray"],(function(a,b,c,d,e,f,g){var h="\u200b",i=new RegExp(h,"g"),j=function(a){return a+h},k=function(a){return a.replace(/(@+)(\[[0-9]+\:([^\]]|\\\])*\]+)/g,"$1 $2")},l=/[\\\]:]/g,m={MENTIONS:"mentions",HASHTAGS:"hashtags"};function n(a,b){return a.replace(b," ".repeat(b.length))}function o(a,b){return a.substring(0,b)+a.substring(b+1)}function p(a){var b=a.lastIndexOf(">");if(b>=0){b=a.indexOf(" ",b);return b>=0?a.substr(0,b+1):a}else return""}function q(a,b,c){a=c.lastIndexOf("<",b)>c.lastIndexOf(">",b);return a?" ":"&nbsp;<wbr />"}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h){var i;i=a.call(this)||this;b("DataStore").set(c,"MentionsInput",babelHelpers.assertThisInitialized(i));i._root=c;i._typeahead=d;i._input=e;i._offsets=[];c=null;var j=i.init.bind(babelHelpers.assertThisInitialized(i),f,g,h);try{c=document.activeElement===i._input}catch(a){}if(c)setTimeout(j,0);else var k=b("Event").listen(i._input,"focus",function(){setTimeout(j,0),k.remove()});i._hasHashtags=f.hashtags;i._mentionsDataSource=i._typeahead.getData();i._currentDataSource=i._mentionsDataSource;i._autoSuggestPages=f.autosuggest_pages;i._lastHighlighterHTML="";i._hashtags=[];i._matchers=b("MentionsInputMatchers").mentionsMatchers;i._matchersMode=m.MENTIONS;return i}var d=c.prototype;d.init=function(a,c,d){if(this._initialized)return;this._initValue=c?c.value:"";this._highlighter=b("DOM").find(this._root,".highlighter");this._highlighterInner=this._highlighter.firstChild;this._highlighterContent=b("DOM").find(this._root,".highlighterContent");this._hiddenInput=b("DOM").find(this._root,".mentionsHidden");this._placeholder=this._input.getAttribute("placeholder")||"";this._metrics=d;if(!this._hiddenInput.name){a=this._input.name;this._input.name=a+"_text";this._hiddenInput.name=a}this._initEvents();this._initTypeahead();c===null?this._setup():this.reset(c);this.inform("init",null,"state");this._initialized=!0};d._setup=function(){this._mentioned={},this._orderedUIDs=[],this._numMentioned=0,this._filterData=null,this._highlighterContent&&b("DOM").empty(this._highlighterContent),this._highlighterAuxContent&&b("DOM").remove(this._highlighterAuxContent),this._highlighterAuxContent=null,b("Input").setPlaceholder(this._input,this._placeholder),b("Style").set(this._typeahead.getElement(),"height","auto")};d.reset=function(a){this._setup();var c=a&&a.value||"";this._value=c;this._hiddenInput&&(this._hiddenInput.value=c);this._input&&a&&b("Input").setValue(this._input,a.value);a=a&&a.mentions;if(a&&a.length){var d=[];a.forEach(function(a){d.push(a.offset+a.length),delete a.offset,delete a.length,this._addToken(a)},this);d.reverse().forEach(function(a){c=c.substring(0,a)+h+c.substring(a)})}b("Input").setValue(this._input,c);this._value===""&&b("FlipDirection").setDirection(this._input);this._update()};d.getValue=function(){return b("Input").getValue(this._input).replace(i,"")};d._getMarkedValue=function(){return b("Input").getValueRaw(this._input)};d.getRawValue=function(){this._update();return b("Input").getValue(this._hiddenInput)};d.checkValue=function(){var a=this._typeahead.getCore().getValue();(this._matchers.getTriggerMatcher().exec(a)||a==="")&&this.inform("sessionEnd",{})};d.getTypeahead=function(){return this._typeahead};d.hasChanges=function(){return!b("Input").isEmpty(this._input)&&this._input.value!==this._initValue&&this._initialized};d.focus=function(){this._input.focus()};d._initEvents=function(){var a=this,c=this._update.bind(this);b("Event").listen(this._input,{input:c,keyup:c,change:c,blur:this._handleBlur.bind(this),focus:this._handleFocus.bind(this),keydown:this._handleKeydown.bind(this)});this._metrics&&(this._metrics.init(this._typeahead),this._metrics._reset(),this._metrics.bindSessionStart(this._typeahead,"render",!0),this._metrics.bindSessionEnd(this._typeahead.getView(),"select",!0),this._metrics.bindSessionEnd(this,"sessionEnd",!1),b("Event").listen(this._input,"keyup",function(b){setTimeout(a.checkValue.bind(a),0)}))};d._initTypeahead=function(){var a=this;this._typeahead.subscribe("select",function(b,c){b=c.selected;a._addToken({uid:b.uid,text:b.text,type:b.type,weakreference:b.weak_reference});a.updateValue()});var c=this._input,d=null;function e(){d===null&&(d=b("Input").getSubmitOnEnter(c),b("Input").setSubmitOnEnter(c,!1))}function f(){d!==null&&(b("Input").setSubmitOnEnter(c,d),d=null)}this._typeahead.subscribe("reset",f);this._typeahead.subscribe("render",e);this._typeahead.subscribe("highlight",function(a,b){b.index>=0?e():f()});this._typeahead.subscribe("query",function(){a._filterData=null});var g=this._typeahead.getCore();g.suffix=h;this._handleFocus()};d._handleBlur=function(){this._filterToken&&(this._filterToken.remove(),this._filterToken=null)};d._handleFocus=function(){this._filterToken||(this._filterToken=this._typeahead.getData().addFilter(this._filterResults.bind(this))),this._updateWidth()};d._handleKeydown=function(a){var c=a.keyCode;(c==b("Keys").BACKSPACE||c==b("Keys").DELETE)&&this._handleBackspaceAndDelete(a,c);(c==b("Keys").LEFT||c==b("Keys").RIGHT)&&setTimeout(this._handleLeftAndRight.bind(this,c),10)};d._handleLeftAndRight=function(a){var c=this._getMarkedValue(),d=b("InputSelection").get(this._input),e=d.start;d=d.end;var f=a==b("Keys").LEFT;a=a==b("Keys").RIGHT;if(e==d){var g=f?-1:1;c.charAt(e)==h&&b("InputSelection").set(this._input,e+g)}else f&&c.charAt(e)==h?b("InputSelection").set(this._input,e-1,d):f&&c.charAt(d)==h?b("InputSelection").set(this._input,e,d-1):a&&c.charAt(d)==h?b("InputSelection").set(this._input,e,d+1):a&&c.charAt(e)==h&&b("InputSelection").set(this._input,e+1,d)};d._handleBackspaceAndDelete=function(a,c){var d=b("InputSelection").get(this._input),e=!1;if(d.start!==d.end)if(this._offsetIsInsideMention(d.start+1)&&this._offsetIsInsideMention(d.end))e=c===b("Keys").BACKSPACE;else return;c=c===b("Keys").DELETE?1:-1;c=c+(e?d.end:d.start);e=this._getMarkedValue();d=e;for(var f=0;f<this._orderedUIDs.length;++f){var g=this._mentioned[this._orderedUIDs[f]],h=g.text,i=j(h),k=d.indexOf(i),l=k+i.length;if(c<k||c>=l){d=n(d,i);continue}var m,o;g.type!="user"?(m=0,o=[h]):(m=i.substring(0,c-k).split(" ").length-1,o=h.split(" "));i=o.splice(m,1)[0];h=o.join(" ");o=m===0?k:l-i.length-1;h?(g.text=h,h=j(h)):this._removeToken(g.uid);m=e.substring(0,k)+h+e.substring(l);b("Input").setValue(this._input,m);b("InputSelection").set(this._input,o);this._update();a.kill();break}};d._offsetIsInsideMention=function(a){for(var b=0;b<this._offsets.length;b++)if(a>this._offsets[b][0]&&a<=this._offsets[b][1])return!0;return!1};d._filterResults=function(a){if(this._filterData===null){var c=b("InputSelection").get(this._input).start;if(this._offsetIsInsideMention(c)){this._filterData={caretIsInsideMention:!0};return!1}c=this._typeahead.getCore();this._filterData={value:c.getValue(),rawValue:c.getRawValue()}}if(this._filterData.caretIsInsideMention)return!1;if(this._matchers.getMainMatcher().test(this._filterData.rawValue))return!0;if(a.type!="user"&&!a.connected_page)return!1;if(a.disable_autosuggest)return!1;return this._matchersMode===m.MENTIONS&&b("MentionsInputMatchers").userMatcher.test(this._filterData.value)?!0:b("TokenizeUtil").isExactMatch(this._filterData.value,this._typeahead.getData().getTextToIndex(a))};d._addToken=function(a){var b=a.uid;if(!Object.prototype.hasOwnProperty.call(this._mentioned,b)){this._mentioned[b]=a;a=this._orderedUIDs;var c=k(this._getMarkedValue()),d=c.indexOf(j(this._mentioned[b].text)),e=!1,f=0;for(var g=0;g<a.length;++g){var h=j(this._mentioned[a[g]].text),i=c.indexOf(h,f);f=i+h.length;if(d<i){this._orderedUIDs.splice(g,0,b);e=!0;break}}e||this._orderedUIDs.push(b);this._numMentioned++;this._update()}};d._removeToken=function(a){Object.prototype.hasOwnProperty.call(this._mentioned,a)&&(delete this._mentioned[a],b("removeFromArray")(this._orderedUIDs,a),this._numMentioned--,this._update())};d._update=function(a){a||({});a=this._getMarkedValue();this._checkShouldSwapDataSource(a);if(a==this._value)return;this._value=a;this._updateTypeahead();this._updateMentions();this._updateWidth();setTimeout(this._updateDirection.bind(this),0);this.updateValue();var b=this.hasAuxContent(),c=this._hiddenInput.value;this.inform("valueUpdate",{value:a,hasAuxContent:b,textWithMentions:c})};d._updateMentions=function(){this._offsets=[];var a=this._getMarkedValue(),c=a;for(var d=0;d<this._orderedUIDs.length;++d){var e=this._orderedUIDs[d],f=j(this._mentioned[e].text),g=c.indexOf(f);g==-1&&this._removeToken(e);c=n(c,f);this._offsets.push([g,g+f.length])}e=a;while((g=c.indexOf(h))>-1)e=o(e,g),c=o(c,g);if(a!==e){f=b("InputSelection").get(this._input);b("Input").setValue(this._input,e);b("InputSelection").set(this._input,f.start);this._value=e}};d._renderHashtags=function(a){this._initHashtagParser(a);if(!this._hasHashtags||!this._hashtagParser)return b("htmlize")(a);this._hashtags=this._hashtagParser.parse(a);var c=[],d=0;for(var e=0;e<this._hashtags.length;e++){var f=this._hashtags[e];c.push(b("htmlize")(a.substring(d,f.rawOffset)),"<b>",f.marker,f.tag,"</b>");d=f.rawOffset+f.marker.length+f.tag.length}c.push(b("htmlize")(a.substring(d)));return c.join("")};d.updateValue=function(){var a=this._value=this._getMarkedValue(),c=this._orderedUIDs,d=k(a);for(var e=0;e<c.length;++e){var f="@["+c[e]+":]",g=j(this._mentioned[c[e]].text);d=d.replace(g,f);a=a.replace(g,f)}g=this._renderHashtags(a);for(var e=0;e<c.length;++e){f=c[e];a=this._mentioned[f];var h=a.text;a=a.weakreference?'<b class="weak">':"<b>";g=g.replace("@["+f+":]",a+b("htmlize")(j(h))+"</b>");h=h.replace(l,function(a){return"\\"+a});d=d.replace("@["+f+":]","@["+f+":"+h+"]")}a=p(g);(this._highlighterAuxContent||a!==this._lastHighlighterHTML)&&(b("UserAgent_DEPRECATED").ie()<9&&(g=g.replace(/ /g,q)),this._highlighterContent.innerHTML=g,this._updateHighlighter(),this._lastHighlighterHTML=a);this._hiddenInput.value=d;this._updateHeight()};d._updateDirection=function(){var a=b("Style").get(this._input,"direction");if(a==this._dir)return;this._dir=a;b("Style").set(this._highlighter,"direction",a);a=="rtl"?b("Style").set(this._highlighter,"text-align","right"):b("Style").set(this._highlighter,"text-align","left")};d._updateWidth=function(){var a=this._input.offsetWidth;if(a===this._lastInputWidth)return;this._lastInputWidth=a;var c=b("Style").getFloat.bind(null,this._input);a=a-c("paddingLeft")-c("paddingRight")-c("borderLeftWidth")-c("borderRightWidth");this._highlighterInner.style.width=Math.max(a,0)+"px"};d._updateHeight=function(){if(this._highlighterAuxContent){var a=this._highlighter.offsetHeight,c=this._typeahead.getElement();a>c.offsetHeight&&(this._typeahead.setHeight(a),b("Arbiter").inform("reflow"))}};d._updateTypeahead=function(){var a=this._typeahead.getCore();a.matcher=this._matchers.getAutoMatcher();a.setExclusions(this._orderedUIDs);this.inform("update",{mentioned:this._mentioned})};d.setPlaceholder=function(a){this._placeholder=a instanceof b("FbtResultBase")?a.toString():a,this.hasAuxContent()||b("Input").setPlaceholder(this._input,this._placeholder)};d._updateHighlighter=function(){this._highlighterContent&&b("CSS").conditionShow(this._highlighterContent,this._numMentioned>0||this.hasAuxContent()||this._hashtags.length)};d.setAuxContent=function(a){this._highlighterContent&&(this._highlighterAuxContent||(this._highlighterAuxContent=b("DOM").create("span",{className:"highlighterAuxContent"}),b("DOM").insertAfter(this._highlighterContent,this._highlighterAuxContent)),b("DOM").setContent(this._highlighterAuxContent,a),a?b("Input").setPlaceholder(this._input,""):b("Input").setPlaceholder(this._input,this._placeholder),this._value=null,this._update(),this._updateHighlighter(),this._updateHeight())};d.hasAuxContent=function(){var a=this.getAuxContentRoot();return a&&b("CSS").shown(a)&&a.innerHTML.length>0};d.getAuxContentRoot=function(){return this._highlighterAuxContent};d.addMention=function(a,c){c=typeof c==="undefined"?!0:c;c=c===!1?"":" ";var d=this._getMarkedValue();d!==""&&(d+=" ");b("Input").setValue(this._input,d+j(a.text)+c);this._addToken(a);this._update()};d.getMentions=function(){return this._mentioned};d.bootloadHashtagParser=function(){var a=this;this._hashtagParser||b("Bootloader").loadModules(["HashtagParser"],function(b){a._hashtagParser=b,a._initialized&&(a._value=null,a._update())},"MentionsInput")};c.getInstance=function(a){a=b("Parent").byClass(a,"uiMentionsInput");return a?b("DataStore").get(a,"MentionsInput"):null};d._checkShouldSwapDataSource=function(a){this._initHashtagParser(a)};d._initHashtagParser=function(a){if(this._hashtagParser)return;this._matchers.getHashtagMatcher().exec(a)&&this.bootloadHashtagParser()};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("legacy:MentionsInput",["MentionsInput"],(function(a,b,c,d,e,f){a.MentionsInput=b("MentionsInput")}),3);
__d("MentionsTypeaheadAreaView",["ContextualTypeaheadView","FamilyRelationshipMentions","Parent"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getContext=function(){return b("Parent").byClass(this.element,"uiMentionsInput")};d.shouldValidateTypeaheadSelection=function(a){return b("FamilyRelationshipMentions").shouldShowNUX(a)};d.validateTypeaheadSelection=function(a,c){b("FamilyRelationshipMentions").showNUX(a,c)};return c}(b("ContextualTypeaheadView"));e.exports=a}),null);
__d("TypeaheadHoistFriends",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._typeahead=a}var b=a.prototype;b.enable=function(){var a=this._typeahead.getView();this._subscription=a.subscribe("beforeRender",function(a,b){a=[];var c=[],d=[];for(var e=0;e<b.results.length;++e){var f=b.results[e];f.type=="header"?(d=d.concat(c,a),d.push(f),c=[],a=[]):f.type=="user"&&f.bootstrapped?c.push(f):a.push(f)}b.results=d.concat(c,a)})};b.disable=function(){this._typeahead.getView().unsubscribe(this._subscription),this._subscription=null};return a}();Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("legacy:HoistFriendsTypeaheadBehavior",["TypeaheadHoistFriends"],(function(a,b,c,d,e,f){a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.hoistFriends=function(a){a.enableBehavior(b("TypeaheadHoistFriends"))}}),3);
__d("TypeaheadShowResultsOnFocus",["Event","Keys"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._typeahead=a}var c=a.prototype;c.enable=function(){var a=this;this._typeahead.getCore().resetOnKeyup=!1;this._subscription=this._typeahead.subscribe("bootstrap",function(b,c){a.firstFetch(c,a._typeahead.getCore(),a._typeahead.getData())});this._keyUpListener=b("Event").listen(this._typeahead.getCore().getElement(),"keyup",function(c){(b("Event").getKeyCode(c)==b("Keys").BACKSPACE||b("Event").getKeyCode(c)==b("Keys").DELETE)&&a.respond(a._typeahead.getCore(),a._typeahead.getData())});this._focusListener=b("Event").listen(this._typeahead.getCore().getElement(),"focus",function(b){a.respond(a._typeahead.getCore(),a._typeahead.getData())})};c.disable=function(){this._typeahead.unsubscribe(this._subscription),this._subscription=null,this._keyUpListener.remove(),this._keyUpListener=null,this._focusListener.remove(),this._focusListener=null};c.firstFetch=function(a,b,c){a.bootstrapping||this.respond(b,c)};c.respond=function(a,b){a.getValue()||this.refreshAndShowNeededResults(a,b)};c.refreshAndShowNeededResults=function(a,b){var c=this.getUidsFromData(b);a.setValue("");a=b.buildUids(" ",c);b.respond("",a)};c.getUidsFromData=function(a){a=a.getAllEntries();var b=[];for(var c in a)b.push({uid:a[c].uid,index:a[c].index});b.sort(function(a,b){return a.index-b.index});return b.map(function(a){return a.uid})};return a}();Object.assign(a.prototype,{_subscription:null,_keyUpListener:null,_focusListener:null});e.exports=a}),null);
__d("TypeaheadShowBootstrapOnFocus",["TypeaheadShowResultsOnFocus"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b._uids=[];return b}var c=b.prototype;c.getMaxBootstrapEntries=function(){return 3};c.cacheUids=function(){return!0};c.firstFetch=function(a,b,c){a.bootstrapping||(this.cacheUids()&&(this._uids=this.getUidsFromData(c)),this.respond(b,c))};c.respond=function(a,b){if(!a.getValue()){a.setValue("");a=this.cacheUids()?this._uids:this.getUidsFromData(b);a=b.buildUids(" ",a);b.respond("",a)}};c.getUidsFromData=function(a){a=a.getAllEntries();var b=[];for(var c in a)a[c].bootstrapped&&b.push({uid:a[c].uid,index:a[c].index});b.sort(function(a,b){return a.index-b.index});this.getMaxBootstrapEntries()&&(b=b.slice(0,this.getMaxBootstrapEntries()));return b.map(function(a){return a.uid})};return b}(b("TypeaheadShowResultsOnFocus"));e.exports=a}),null);
__d("TypeaheadShowAllBootstrapOnFocus",["TypeaheadShowBootstrapOnFocus"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getMaxBootstrapEntries=function(){return void 0};c.cacheUids=function(){return!1};return b}(c("TypeaheadShowBootstrapOnFocus"));g["default"]=a}),98);
__d("OGComposerObjectTypeaheadRenderer",["CompactTypeaheadRenderer","DOM"],(function(a,b,c,d,e,f){function a(a,c){c=b("CompactTypeaheadRenderer")(a,c);a=a.icon;a&&b("DOM").prependContent(c,a);return c}a.className=b("CompactTypeaheadRenderer").className;e.exports=a}),null);