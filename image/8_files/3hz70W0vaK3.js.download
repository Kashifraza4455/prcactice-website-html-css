;/*FB_PKG_DELIM*/

__d("PageCommItemFolder",[],(function(a,b,c,d,e,f){e.exports={PAGE:"PAGE",GROUP:"GROUP",DONE:"DONE",FOLLOW_UP:"FOLLOW_UP",SPAM:"SPAM",TODO:"TODO",UNREAD:"UNREAD",INSTAGRAM_THREADS:"INSTAGRAM_THREADS",MESSENGER_THREADS:"MESSENGER_THREADS",WEC_THREADS:"WEC_THREADS",PRIORITY:"PRIORITY",MEDIA_MANAGER_FB_COMMS:"MEDIA_MANAGER_FB_COMMS",MEDIA_MANAGER_TOP_COMMENT:"MEDIA_MANAGER_TOP_COMMENT",MEDIA_MANAGER_TOP_MESSAGE:"MEDIA_MANAGER_TOP_MESSAGE",MEDIA_MANAGER_STARS_COMMENT:"MEDIA_MANAGER_STARS_COMMENT",MEDIA_MANAGER_ALL_SECONDARY_FOLDER:"MEDIA_MANAGER_ALL_SECONDARY_FOLDER",MEDIA_MANAGER_ALL_TOP_PRIORITY:"MEDIA_MANAGER_ALL_TOP_PRIORITY",EMAIL_THREADS:"EMAIL_THREADS",SENT:"SENT",LABELS:"LABELS",UNRESPONDED:"UNRESPONDED",STORY_REACTIONS:"STORY_REACTIONS",NON_STORY_REACTIONS:"NON_STORY_REACTIONS",ASSIGNED:"ASSIGNED",INTENT_AUTO_LABEL:"INTENT_AUTO_LABEL",CTX_AD:"CTX_AD",LEADS:"LEADS"}}),null);
__d("PageCommItemStatus",[],(function(a,b,c,d,e,f){e.exports={FOLLOW_UP:"FOLLOW_UP",DONE:"DONE",TODO:"TODO",SPAM:"SPAM",DELETED:"DELETED"}}),null);
__d("ChatPerfTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:ChatPerfLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:ChatPerfLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:ChatPerfLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setDuration=function(a){this.$1.duration=a;return this};c.setEndpoint=function(a){this.$1.endpoint=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setTabsOpen=function(a){this.$1.tabs_open=a;return this};return a}();c={duration:!0,endpoint:!0,event:!0,tabs_open:!0};f["default"]=a}),66);
__d("BizInboxIgThreadQueryMergeUtil",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("5661")}g.getShouldMergeIgThreadQuery=a}),98);
__d("BizInboxDetailViewConsts",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({COMMENT_LIST_INIT_COUNT:20,COMMENT_LIST_LOAD_MORE_COUNT:10,COMMENT_LIST_INIT_COUNT_V2:3,COMMENT_LIST_LOAD_MORE_COUNT_V2:5,COMMENT_REPLIES_LIST_INIT_COUNT:3,COMMENT_REPLIES_LIST_LOAD_MORE_COUNT:3,COMPOSER_DEFAULT_HEIGHT:85,COMPOSER_HOT_LIKE_BUTTON_SIZE:24,COMPOSER_NEW_HOT_LIKE_BUTTON_SIZE:20,COMPOSER_REPLY_TO_MESSAGE_HEIGHT:68,EMAIL_COMPOSER_MIN_HEIGHT:225,DETAIL_VIEW_BOTTOM_OFFSET:24,DETAIL_VIEW_HEADER_VIEW_BUTTON_COLLAPSE:1500,IG_DIRECT_THREAD_TITLE_FALLBACK:"Instagram User",MESSENGER_THREAD_TITLE_FALLBACK:"Facebook User",IG_POST_PHOTO_SIZE:236,IG_POST_PUBLISHER_NAME_FALLBACK:"Instagram User",MESSAGE_LIST_INIT_COUNT:20,MESSAGE_LIST_LOAD_MORE_COUNT:20,MESSENGER_MAX_FILE_ATTACHMENT_SIZE:26214400,MS_IN_HR:1e3*60*60,MS_IN_S:1e3,SMART_SUGGESTION_MESSAGES_PARSING_DEPTH:5});f["default"]=a}),66);
__d("BizInboxCTSSuggestedActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({SAVE_LAST_SENT_MESSAGE:"SAVE_LAST_SENT_MESSAGE",NONE:"NONE",SET_INSTANT_REPLY:"SET_INSTANT_REPLY",MARK_AS_PAID:"MARK_AS_PAID",MARK_AS_SHIPPED:"MARK_AS_SHIPPED",SUGGESTED_REPLY:"SUGGESTED_REPLY",SET_ICEBREAKER_QUESTIONS:"SET_ICEBREAKER_QUESTIONS",ONBOARD_TO_EMAIL:"ONBOARD_TO_EMAIL",SET_FAQ:"SET_FAQ",SET_FOLLOW_UP:"SET_FOLLOW_UP",SET_INSTANT_REPLY_AUTOMATION:"SET_INSTANT_REPLY_AUTOMATION",SET_AWAY_MESSAGE_AUTOMATION:"SET_AWAY_MESSAGE_AUTOMATION",SUGGESTED_LABEL:"SUGGESTED_LABEL",EXTRACT_INFO_TO_CONTACT_CARD:"EXTRACT_INFO_TO_CONTACT_CARD",SET_COMMENT_TO_MESSAGE_AUTOMATION:"SET_COMMENT_TO_MESSAGE_AUTOMATION",CREATE_OFFER:"CREATE_OFFER",CTD_UPSELL:"CTD_UPSELL",CTM_UPSELL:"CTM_UPSELL",UNIFIED_INBOX_CTM_THREAD_UPSELL:"UNIFIED_INBOX_CTM_THREAD_UPSELL"});f["default"]=a}),66);
__d("BizInboxSurface",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["BUSINESS_SUITE","CREATOR_STUDIO","INVALID","PAGE","PAGE_APPOINTMENT"]);c=a;f["default"]=c}),66);
__d("BizInboxSurfaceContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(Object.freeze({}));c=b;g["default"]=c}),98);
__d("BizInboxSurfaceUtils",["BizInboxSurface","BizInboxSurfaceContext","URI","XBizSuiteControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function i(){var a=c("XBizSuiteControllerRouteBuilder").buildURL({});a=new(c("URI"))(a).getQualifiedURI().toString();return c("URI").getRequestURI().getQualifiedURI().toString().startsWith(a)}function a(){var a=h(c("BizInboxSurfaceContext"));a=a.inboxSurface;return(a=a)!=null?a:c("BizInboxSurface").INVALID}function b(){var a=new RegExp("/inbox/(all|instagram_direct|messenger)","i");return i()&&a.test(c("URI").getRequestURI().getQualifiedURI().toString())}g.isBizSuiteSurface=i;g.useBizInboxSurface=a;g.useBizInboxSkeletonLoadingState=b}),98);
__d("BizInboxGating",["BizInboxCTSSuggestedActionType","BizInboxSurfaceUtils","gkx","justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("8923")}function b(){return c("justknobx")._("113")}function e(){return c("justknobx")._("112")}function f(){return c("justknobx")._("126")}function h(){return c("justknobx")._("131")}function i(){return c("justknobx")._("104")}function j(){return c("justknobx")._("34")}function k(){return c("justknobx")._("136")}function l(){return c("justknobx")._("33")}function m(){return c("justknobx")._("63")}function n(){return c("justknobx")._("189")}function o(){return c("justknobx")._("140")}function p(){return c("justknobx")._("28")}function q(){return c("justknobx")._("167")}function r(){return!1}function s(){return c("gkx")("1969323")}function t(){return c("gkx")("3591")}function u(){return c("gkx")("2259")}function v(){return c("gkx")("9075")}function w(){return c("gkx")("1997123")}function x(){return!d("BizInboxSurfaceUtils").isBizSuiteSurface()}function y(){return c("gkx")("1153")}function z(a){return a===c("BizInboxCTSSuggestedActionType").SET_FAQ?!0:!1}function A(){return!1}function B(){return c("gkx")("3361")}function C(){var a;return(a=c("qex")._("544"))!=null?a:!0}function D(){return!1}function E(){return c("gkx")("1945")}function F(){return c("gkx")("6393")}function G(){return c("gkx")("1379")&&c("gkx")("6038")&&c("gkx")("1153")}function H(){return c("gkx")("3623")}function I(){return c("qex")._("612")}function J(){var a;return(a=c("qex")._("692"))!=null?a:!1}function K(){return!0}function L(){return!0}function M(){return c("qex")._("61")===!0}function N(){return c("gkx")("7416")}function O(){return c("gkx")("3242")}function P(){return c("gkx")("6816")}function Q(){return c("qex")._("1407")===!0}function R(){return c("qex")._("1407")}function S(){return c("qex")._("938")}function T(){return!1}function U(){return c("justknobx")._("1133")}function V(){return c("gkx")("9087")}function W(){return c("gkx")("7680")}function X(){return c("gkx")("7101")}function Y(){return c("gkx")("699")}g.getShouldShowAdFormatFilter=a;g.getUseSPClientIDForMessagingActions=b;g.getUseSPClientIDForMessagingArchivedStatusChange=e;g.getUseSPClientIDForMessagingDeleteThread=f;g.getUseSPClientIDForMessagingFollowUp=h;g.getUseSPClientIDForMessagingMarkRead=i;g.getUseSPClientIDForMessagingMarkSpam=j;g.getUseSPClientIDForThreadAndMessageDFF=k;g.getUseSPClientIDForThreadListFetch=l;g.getUseSPClientIDForThreadFetch=m;g.getUseSPClientIDForMessengerParticipantsFetch=n;g.getUseSPClientIDForMQTT=o;g.getUseSPClientIDForAssignAdmin=p;g.getUseSPClientIDForUnreadThreads=q;g.getShouldMoveGoldThreadFromSecond=r;g.getAllowInboxSearchForIGOnly=s;g.getFollowupPriorityIconChange=t;g.getAllowInboxLabelCountOverTwo=u;g.getAllowTwoThreadLists=v;g.getShouldShowContactCardInLeadMailInbox=w;g.getShowNewIAModal=x;g.getCTSSuggestionBar=y;g.getShouldEnableControlButtonForSuggestionBar=z;g.getIsBadgeCountClientCalcDisplayEnabled=A;g.getIsIGDirectThreadTitleUpdate=B;g.getShouldShowCompactMode=C;g.getShouldDisplayOnboardingCardForExistedUsers=D;g.getShouldUseAMPMigration=E;g.getShouldShowUpdatedFlytrap=F;g.getAllowManySuggestedResponses=G;g.getIsEligibleForRemovePageDependencyInboxPhase1=H;g.getShouldEnableAutoContentSearch=I;g.getShouldUseClientSideCalculation=J;g.getMBS2022H2LaunchGK=K;g.getShouldShowGeoAwayDialog=L;g.getIsMessagesSectionOnTop=M;g.getShouldShowMarketingMessageOptinSurface=N;g.getUseSPMigration=O;g.getAllowPBIAFrontendChanges=P;g.shouldLoadIGDOnMsys=Q;g.getMsysExperimentValue=R;g.getCometExperimentValue=S;g.shouldAllowEmptyThreadDetails=T;g.shouldShowAYMTOnTests=U;g.shouldLoadMessengerOnMsys=V;g.shouldLoadWAOnMsys=W;g.shouldUseIGBusinessAssetID=X;g.shouldFixPaginationCount=Y}),98);
__d("BizInboxNavChannel",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ALL","ALL_PRIORITY","COMMENTS","FACEBOOK","MESSENGER","INSTAGRAM","INSTAGRAM_DIRECT","WEC","GROUP","MEDIA_MANAGER_FB_COMMS","MEDIA_MANAGER_PRIORITY","CTWA_LG","CHANNELS","INBOX","AUTOMATED_RESPONSES","COMMERCE_EMAIL","CONTACTS","LEAD_EMAIL","OFFSITE_EMAIL","INBOX_SETTINGS","INBOX_SETTINGS_MESSAGING","INBOX_SETTINGS_EMAIL","INBOX_SETTINGS_SUGGESTIONS","INBOX_SETTINGS_ADS","INBOX_SETTINGS_CHAT_PLUGIN"]);c=a;f["default"]=c}),66);
__d("getBizInboxThreadsRelayQueryMigration",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("6229")}g["default"]=a}),98);
__d("getBizInboxUnifiedThreadsQuery",["BizInboxGating","BizInboxNavChannel","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a;return d("BizInboxGating").shouldLoadIGDOnMsys()?0:(a=c("qex")._("456"))!=null?a:0}function a(){var a;return d("BizInboxGating").shouldLoadIGDOnMsys()?!1:(a=c("qex")._("744"))!=null?a:!1}function i(){return d("BizInboxGating").shouldLoadIGDOnMsys()?!1:h()>0}function b(){var a;return d("BizInboxGating").shouldLoadIGDOnMsys()?!1:(a=c("qex")._("3"))!=null?a:!1}function j(){return!i()?!1:c("gkx")("939")}function e(a){if(d("BizInboxGating").shouldLoadIGDOnMsys())return;if(a!==c("BizInboxNavChannel").ALL)return;j()}function f(){var a;return d("BizInboxGating").shouldLoadIGDOnMsys()?!1:(a=c("qex")._("1024"))!=null?a:!1}g.getUnifiedThreadsQueryLimit=h;g.getShouldUnifyContextCardQueries=a;g.getShouldUnifyThreadQueries=i;g.getShouldUnifyConfigQueries=b;g.getShouldPreloadComposerTextInputQueries=j;g.logShouldPreloadComposerTextInputQueries=e;g.getShouldLazyLoadContextCardQueries=f}),98);
__d("getAssetsByType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{adAccount:a.filter(function(a){return a.type==="AD_ACCOUNT"}),appAccount:a.filter(function(a){return a.type==="APP"}),igAccount:a.filter(function(a){return a.type==="INSTAGRAM_ACCOUNT_V2"}),pageAccount:a.filter(function(a){return a.type==="PAGE"}),wabAccount:a.filter(function(a){return a.type==="WHATSAPP_BUSINESS_ACCOUNT"})}}f["default"]=a}),66);
__d("getFirstAssetOfType",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.find(function(a){return a.type===b})}f["default"]=a}),66);
__d("useBizKitSelectedAssets",["BizKitScopingContext","getAssetsByType","getFirstAssetOfType","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(c("BizKitScopingContext")),b=a.assets,d=a.setAssets;a=(a=(a=c("getFirstAssetOfType")(b,"PAGE"))!=null?a:b[0])!=null?a:null;return{assetID:a==null?void 0:a.id,assets:b,assetsByType:c("getAssetsByType")(b),assetType:a==null?void 0:a.type,setAssets:d,setSelectedLinkedAsset:function(a){d(a.assets)}}}g["default"]=a}),98);
__d("AjaxError",[],(function(a,b,c,d,e,f){a="ar:error";b="ar:timeout";c="ar:proxy error";d="ar:transport error";e="ar:http error";var g="ar:parse error",h="ar:noservice";f.ERROR=a;f.TIMEOUT=b;f.PROXY_ERROR=c;f.TRANSPORT_ERROR=d;f.SERVER_ERROR=e;f.PARSE_ERROR=g;f.SERVICE_UNAVAILABLE=h}),66);
__d("AjaxRequest",["AjaxError","ErrorUtils","Keys","PHPQuerySerializer","TimeSlice","URI","UserAgent_DEPRECATED","ZeroRewrites","clearTimeout","killswitch","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){var h=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest(),i=[];function a(){var a=i;i=[];a.forEach(function(a){return a.abort()})}function j(a){a.onJSON=a.onError=a.onSuccess=null,c("clearTimeout")(a._timer),a.xhr&&a.xhr.readyState<4&&(a.xhr.abort(),a.xhr=null),i=i.filter(function(b){return b&&b!=a&&b.xhr&&b.xhr.readyState<4})}b=function(){function a(a,b,e){this.timeout=6e4,this.streamMode=!0,this.prelude=/^for \(;;\);/,this.status=null,this.$1=-1,this.$2=null,this.$3=0,this.$4=null,this.json=null,this.errorType=null,this.errorText=null,this.onJSON=null,this.onSuccess=null,this.onError=null,b instanceof c("URI")||(b=new(c("URI"))(b)),this.xhr=d("ZeroRewrites").getTransportBuilderForURI(b)(),e&&a=="GET"&&b.setQueryData(e),this.method=a,this.uri=b,this.xhr.open(a,c("killswitch")("ASYNC_REQUEST_STRINGIFY_URI_BEFORE_PASSING_TO_OPEN_METHOD")?b:b.toString())}a.supportsCORS=function(){return h};var b=a.prototype;b.send=function(a){var b=this,e=c("TimeSlice").getReusableContinuation("AjaxRequest xhr.onreadystatechange");this.xhr.onreadystatechange=function(){return b.$5(e)};var f=this.timeout;f&&(this.$2=c("setTimeoutAcrossTransitions")(function(){b.errorType=d("AjaxError").TIMEOUT,b.errorText="timeout",b.$4=Date.now()-b.$3,b.onError&&b.onError(b),j(b)},f));i.push(this);this.method=="POST"&&this.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");this.$3=Date.now();this.xhr.send(a?d("PHPQuerySerializer").serialize(a):"")};b.abort=function(){j(this)};b.toString=function(){var a="[AjaxRequest readyState="+this.xhr.readyState;this.errorType&&(a+=" errorType="+this.errorType,this.errorText&&(a+=" ("+this.errorText+")"));return a+"]"};b.toJSON=function(){var a={};this.json&&(a.json=this.json);this.status&&(a.status=this.status);this.errorType&&(a.errorType=this.errorType,a.uri=this.uri);this.errorText&&(a.errorText=this.errorText);this.$4&&(a.time=this.$4);return a};b.onJSONSafe=function(){this.onJSON&&this.onJSON(this)};b.onSuccessSafe=function(){this.onSuccess&&this.onSuccess(this)};b.onErrorSafe=function(){this.onError&&this.onError(this)};b.$6=function(){var a;try{this.status=this.xhr.status,a=this.xhr.statusText}catch(a){this.xhr.readyState>=4&&(this.errorType=d("AjaxError").TRANSPORT_ERROR,this.errorText=a.message);return}var b=this.status;if(b==null){this.errorType=d("AjaxError").ERROR;this.errorText="null status code";return}if(b===0&&!/^(file|ftp)/.test(this.uri.toString()))this.errorType=d("AjaxError").TRANSPORT_ERROR;else if(b>=100&&b<200)this.errorType=d("AjaxError").PROXY_ERROR;else if(b>=200&&b<300)return;else if(b>=300&&b<400)this.errorType=d("AjaxError").PROXY_ERROR;else if(b>=400&&b<500)this.errorType=d("AjaxError").SERVER_ERROR;else if(b===503)this.errorType=d("AjaxError").SERVICE_UNAVAILABLE;else if(b>500&&b<600)this.errorType=d("AjaxError").PROXY_ERROR;else if(b==1223)return;else b>=12001&&b<=12156?this.errorType=d("AjaxError").TRANSPORT_ERROR:(a="unrecognized status code: "+b,this.errorType=d("AjaxError").ERROR);this.errorText||(this.errorText=a)};b.$7=function(){var a,b=this.xhr.readyState;try{a=this.xhr.responseText||""}catch(a){b>=4&&(this.errorType=d("AjaxError").ERROR,this.errorText="responseText not available - "+a.message);return}while(this.xhr){var e=this.$1+1,f=this.streamMode?a.indexOf("\n",e):a.length;f<0&&b==4&&(f=a.length);if(f<=this.$1)break;var g=a;this.streamMode&&(g=a.substr(e,f-e).replace(/^\s*|\s*$/g,""));if(e===0&&this.prelude){var h=this.prelude;h.test(g)&&(g=g.replace(h,""))}this.$1=f;if(g){try{this.json=JSON.parse(g)}catch(b){h=a.match(/(<body[\S\s]+?<\/body>)/i);f=h!=null&&h.length>0?h[0]:null;h={message:b.message,"char":e,excerpt:(e===0&&f||g).substr(512)};this.errorType=d("AjaxError").PARSE_ERROR;this.errorText="parse error - "+JSON.stringify(h);return}c("ErrorUtils").applyWithGuard(this.onJSONSafe,this)}}};b.$5=function(a){var b=this,c=this.xhr&&this.xhr.readyState||0;this.status==null&&c>=2&&this.$6();!this.errorType&&this.status!=null&&((c===3&&this.streamMode||c===4)&&a(function(){return b.$7()}));(this.errorType||c===4)&&(this.$4=Date.now()-this.$3,a.last(function(){b.errorType?b.onErrorSafe():b.onSuccessSafe(),j(b)}))};return a}();window.addEventListener&&d("UserAgent_DEPRECATED").firefox()&&window.addEventListener("keydown",function(a){a.keyCode===c("Keys").ESC&&a.prevent()},!1);window.attachEvent&&window.attachEvent("onunload",a);g["default"]=b}),98);
__d("ChannelConnectionEvents",[],(function(a,b,c,d,e,f){a="chat-connection/connected";b="chat-connection/reconnecting";c="chat-connection/shutdown";d="chat-connection/mute";e="chat-connection/unmute";f.CONNECTED=a;f.RECONNECTING=b;f.SHUTDOWN=c;f.MUTE_WARNING=d;f.UNMUTE_WARNING=e}),66);
__d("ChannelSubdomain",["Event","LogHistory","Run","WebStorage","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){var h=d("LogHistory").getInstance("channel"),i="channel_sub:",j=7,k=100*1e3,l=null,m=null;function n(){var a=c("WebStorage").getLocalStorage();m&&(c("clearTimeout")(m),m=null);a&&l!=null&&a.removeItem(i+l);l=null}function a(a,b,e){e===void 0&&(e=!1);a=(a-1)*j;e&&(m&&c("clearTimeout")(m),l=m=null);b==null&&(b=Math.floor(Math.random()*a));if(l==null){var f=c("WebStorage").getLocalStorage();if(f){e=[];for(var g=0;g<f.length;g++){var o=f.key(g);if(o!=null&&o.indexOf(i)===0){var p=parseInt(o.substr(i.length),10);e[p]=parseInt(f.getItem(o),10)}}p=Date.now()-k;for(o=0;o<a;o++){g=(o+b)%a;if(!e[g]||e[g]<p){l=g;break}}if(l!=null){g=function a(){if(l==null)return;try{f.setItem(i+l,Date.now().toString())}catch(a){h.warn("subdomain set failed",a.message)}m=c("setTimeoutAcrossTransitions")(a,k/2)};g()}else h.warn("no channel subdomain",e);typeof window.onpageshow!=="undefined"?c("Event").listen(window,"pagehide",n):d("Run").onUnload(n)}else l=b}return l==null?null:l%j}g.clear=n;g.allocate=a}),98);
__d("ChatproxyClientErrorsTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:ChatproxyClientErrorsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:ChatproxyClientErrorsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:ChatproxyClientErrorsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setBatchSize=function(a){this.$1.batch_size=a;return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setErrorReason=function(a){this.$1.error_reason=a;return this};c.setErrorText=function(a){this.$1.error_text=a;return this};c.setJsEventTimeMs=function(a){this.$1.js_event_time_ms=a;return this};c.setMultiViewSubscription=function(a){this.$1.multi_view_subscription=a;return this};c.setRequestID=function(a){this.$1.request_id=a;return this};c.setResponseHeaders=function(a){this.$1.response_headers=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSessionIDStr=function(a){this.$1.session_id_str=a;return this};c.setStatusCode=function(a){this.$1.status_code=a;return this};c.setSubscriberID=function(a){this.$1.subscriber_id=a;return this};c.setTopicPrefixes=function(a){this.$1.topic_prefixes=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setURL=function(a){this.$1.url=a;return this};c.setXhrReadyState=function(a){this.$1.xhr_ready_state=a;return this};c.setXhrStatus=function(a){this.$1.xhr_status=a;return this};return a}();c={app_version:!0,batch_size:!0,error_message:!0,error_reason:!0,error_text:!0,js_event_time_ms:!0,multi_view_subscription:!0,request_id:!0,response_headers:!0,session_id:!0,session_id_str:!0,status_code:!0,subscriber_id:!0,topic_prefixes:!0,url:!0,xhr_ready_state:!0,xhr_status:!0};f["default"]=a}),66);
__d("DocRPC",["ErrorUtils","FBLogger"],(function(a,b,c,d,e,f){var g,h={_apis:{},_dispatch:function(a){var c;try{a=JSON.parse(a)}catch(b){throw new Error('DocRPC unparsable dispatch: "'+a+'"')}if(Object.prototype.hasOwnProperty.call(h._apis,a.api)){var d=h._apis[a.api];d[a.method]&&(c=(g||(g=b("ErrorUtils"))).applyWithGuard(d[a.method],d,a.args))}c===void 0&&(c=null);return JSON.stringify(c)},publish:function(a,b){h._apis[b]=a},proxy:function(a,c,d){var e={};d.forEach(function(d){e[d]=function(){var e={api:c,method:d,args:Array.prototype.slice.call(arguments)},f;try{if(a.closed)throw new Error("DocRPC window closed");f=a.DocRPC._dispatch(JSON.stringify(e))}catch(a){b("FBLogger")("doc_rpc").catching(a).warn("Encountered an error duing proxy call");return}if(typeof f==="string")try{f=JSON.parse(f)}catch(a){b("FBLogger")("doc_rpc").catching(a).mustfix("DocRPC %s.%s unparsable return: %s",c,d,f);throw new Error("DocRPC "+c+"."+d+' unparsable return: "'+f+'"')}return f}});return e}};e.exports=a.DocRPC=h}),null);
__d("ChannelTransport",["AjaxRequest","ChannelConstants","ChatproxyClientErrorsTypedLogger","DocRPC","LogHistory","ODS","TimeSlice","URI","bind","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){var g,h,i="BROWSER_REFUSED_TO_GET_FAILURE_REASON_HEADER",j=b("LogHistory").getInstance("channel");function k(a){var c=new(b("ChatproxyClientErrorsTypedLogger"))();c.setStatusCode(a.status);if(a.xhr!=null){var d;try{d=a.xhr.getResponseHeader("x-fb-chat-failure-reason")}catch(a){d=i}d&&c.setErrorReason(d)}c.setErrorMessage(a.errorType);a.uri!==void 0&&c.setURL(a.uri.getPath());c.log()}function l(){return(1048576*Math.random()|0).toString(36)}function m(a){return a!=null&&!isNaN(a)&&isFinite(a)&&0<=a&&a<=6}function n(a,c){var d="";m(a.subdomain)&&(d=a.subdomain+"-");var e=a.host;e=e==null?"edge-chat":a.host;c=new(g||(g=b("URI")))(c).setDomain(d+e+"."+a.domain).setPort(a.port).setSecure(new g(window.location.href).isSecure());return c}function o(a){var c={partition:a.partition,cb:l(),failure:a.pingFailuresOnSubdomain};a.sticky_token&&(c.sticky_token=a.sticky_token);a.sticky_pool&&(c.sticky_pool=a.sticky_pool);c=n(a,"/p").setQueryData(c);j.log("start_p",{uri:c.toString()});var d=new(b("AjaxRequest"))("GET",c);b("AjaxRequest").supportsCORS()&&(d.xhr.withCredentials=!0);var e=function(b){j.log("finish_p",{xhr:b.toJSON?b.toJSON():b,subdomain:a.subdomain,fullHost:a.fullHost})};d.onError=function(c){(h||(h=b("ODS"))).bumpEntityKey(2966,"ChannelTransport","sendP.error");k(d);e(c);if(a.subdomain===null)return;m(a.subdomain)&&(a.pingFailuresOnSubdomain++,a.subdomain++,a.subdomain>6&&(a.subdomain=0))};d.timeout=a.P_TIMEOUT;d.onSuccess=function(a){(h||(h=b("ODS"))).bumpEntityKey(2966,"ChannelTransport","sendP.success"),e(a)};d.send()}function p(a,c,d){var e=new Image(),f=0,g=function(a){e.abort();return a?c():d()};e.onload=b("TimeSlice").guard(function(){j.log("ping_ok",{duration:Date.now()-f}),(h||(h=b("ODS"))).bumpEntityKey(2966,"ChannelTransport","sendPing.success"),g(!0)},"ChannelTransport image.onload");e.onerror=b("TimeSlice").guard(function(){o(a),(h||(h=b("ODS"))).bumpEntityKey(2966,"ChannelTransport","sendPing.error"),k(e),g(!1)},"ChannelTransport image.onerror");var i=b("setTimeoutAcrossTransitions")(e.onerror,1e4);e.abort=function(){i&&(b("clearTimeout")(i),i=null),e.onload=e.onerror=null};var m={partition:a.partition,cb:l()};a.sticky_token&&(m.sticky_token=a.sticky_token);a.sticky_pool&&(m.sticky_pool=a.sticky_pool);a.lastRequestErrorReason&&(m.reason=a.lastRequestErrorReason,a.lastRequestErrorReason=null);a.uid&&a.viewerUid&&(m.uid=a.uid,m.viewer_uid=a.viewerUid);f=Date.now();e.src=n(a,"/ajax/chatproxy-ping").setQueryData(m);return e}function a(a){var c={channel:a.user_channel,partition:a.partition,clientid:a.sessionID,cb:l(),cap:0,uid:a.uid,viewer_uid:a.viewerUid};a.sticky_token&&(c.sticky_token=a.sticky_token);a.sticky_pool&&(c.sticky_pool=a.sticky_pool);a.is_offline||a.shouldSuppressPresence?c.state="offline":c.state="active";if(c.state===a.lastPresenceState)return;a.lastPresenceState=c.state;a.profile&&(c.profile=a.profile);a.capabilities&&(c.cap=a.capabilities);c=n(a,"/active_ping").setQueryData(c);var d=new(b("AjaxRequest"))("GET",c);b("AjaxRequest").supportsCORS()&&(d.xhr.withCredentials=!0);d.onError=function(a){(h||(h=b("ODS"))).bumpEntityKey(2966,"ChannelTransport","sendActivePing.error"),j.warn("active_ping_error"),k(d)};d.onSuccess=function(a){(h||(h=b("ODS"))).bumpEntityKey(2966,"ChannelTransport","sendActivePing.success"),j.log("active_ping_ok")};d.timeout=a.P_TIMEOUT;d.send()}function q(a,c,d,e){var f=new Date(),g=-1;a.userActive>0&&(g=(f-a.userActive)/1e3|0,g<0&&j.warn("idle_regression",{idleTime:g,now:f.getTime(),userActive:a.userActive}));f={channel:a.user_channel,seq:a.seq,partition:a.partition,clientid:a.sessionID,cb:l(),idle:g,qp:"y",cap:0};a.state.aiq&&(f.aiq=a.state.aiq);a.ready&&((a.seqTurSentAt==-1||a.seqTurSentAt==a.seq)&&(f.tur=a.timeUntilReady,f.qpmade=a.queueMade,a.seqTurSentAt=a.seq));f.pws=a.pws;a.sequenceId>0&&(f.isq=a.sequenceId);f.msgs_recv=a.estimatedReceived;a.uid&&a.viewerUid&&(f.uid=a.uid,f.viewer_uid=a.viewerUid);a.sticky_token?f.sticky_token=a.sticky_token:(f.request_batch=1,a.msgr_region&&(f.msgr_region=a.msgr_region));a.sticky_pool&&(f.sticky_pool=a.sticky_pool);"trace_id"in a&&(f.traceid=a.trace_id);a.is_offline||a.shouldSuppressPresence?f.state="offline":a.userActive>0&&g<60&&(f.state="active");a.lastPresenceState=f.state;a.streamingCapable&&(f.mode="stream",f.format="json");a.profile&&(f.profile=a.profile);a.capabilities&&(f.cap=a.capabilities);g=n(a,"/pull").setQueryData(f);f="GET";var i=new(b("AjaxRequest"))(f,g);b("AjaxRequest").supportsCORS()&&(i.xhr.withCredentials=!0);i.timeout=a.streamingCapable?a.STREAMING_TIMEOUT:a.LONGPOLL_TIMEOUT;i.onJSON=function(a){(h||(h=b("ODS"))).bumpEntityKey(2966,"ChannelTransport","sendPull.json"),c(a)};i.onSuccess=function(a){(h||(h=b("ODS"))).bumpEntityKey(2966,"ChannelTransport","sendPull.success"),d(a)};i.onError=function(){var c=this.status==12002&&this._time>=a.MIN_12002_TIMEOUT||this.status==504&&this._time>=a.MIN_504_TIMEOUT,f=c?d:e;c?(h||(h=b("ODS"))).bumpEntityKey(2966,"ChannelTransport","sendPull.success"):((h||(h=b("ODS"))).bumpEntityKey(2966,"ChannelTransport","sendPull.error"),k(i));return f&&f.apply(this,arguments)};i.send();a.inStreaming=a.streamingCapable;return i}function r(a){this.manager=a,this.init&&this.init()}function c(a){r.apply(this,arguments)}Object.assign(c.prototype,{logName:"CORS",enterState:function(a,c){this._request&&(this._request.abort(),this._request=null);a=="init"&&b("setTimeoutAcrossTransitions")(b("bind")(this.manager,"exitState",{status:b("ChannelConstants").OK,stateId:c.stateId}),0);if(!/pull|ping/.test(a))return;var d=this.manager;a=="ping"?this._request=p(c,b("bind")(d,"exitState",{status:b("ChannelConstants").OK,stateId:c.stateId}),b("bind")(d,"exitState",{status:b("ChannelConstants").ERROR,stateId:c.stateId})):a=="pull"&&(this._request=q(c,b("bind")(d,"_processTransportData",c.stateId),b("bind")(d,"exitState",{status:b("ChannelConstants").OK,stateId:c.stateId}),b("bind")(d,"exitState",{status:b("ChannelConstants").ERROR,stateId:c.stateId})))}});function d(a){j.log("iframe_init_constructor"),r.apply(this,arguments),this._iframe=document.createElement("iframe"),this._iframe.style.display="none",document.body.appendChild(this._iframe),b("DocRPC").publish(this,"outerTransport")}Object.assign(d.prototype,{logName:"iframe",_initIframe:function(a){j.log("iframe_init_start");window.onchanneliframeready=function(){j.log("iframe_resources");return a.resources};window.onchanneliframeloaded=function(){j.log("iframe_loaded")};if(a){this._iframeURI=n(a,a.path);if(a.resources){var c=this._iframeURI.getDomain();a.resources=a.resources.map(function(a){var d=new(g||(g=b("URI")))(a);return d.getPath().startsWith("/intern/rsrc.php")&&d.getQueryData().origin!==void 0?d.addQueryData("origin",c).toString():a})}}else this._iframeURI="about:blank";this._iframeProxy=null;try{this._iframe.contentWindow.location.replace(this._iframeURI),j.log("iframe_uri_set")}catch(c){j.error("iframe_uri_set_error",c),this.exitState({status:b("ChannelConstants").ERROR,stateId:a.stateId},c+"")}},enterState:function(a,c){a=="init"?this._initIframe(c):/idle|ping|pull/.test(a)?this._iframeProxy?this._iframeProxy.enterState.apply(this._iframeProxy,arguments):a!="idle"&&this.exitState({status:b("ChannelConstants").ERROR,stateId:c.stateId},"iframe not yet loaded"):a=="shutdown"&&this._initIframe()},_processTransportData:function(){this.manager._processTransportData.apply(this.manager,arguments)},exitState:function(a){this.manager.state=="init"&&a.status==b("ChannelConstants").OK&&(this._iframeProxy=b("DocRPC").proxy(this._iframe.contentWindow,"innerTransport",["enterState"],(this._iframeURI+"").replace(/iframe.*/,"")));if(/ping|pull/.test(this.manager.state)&&!this._iframeProxy)return;this.manager.exitState.apply(this.manager,arguments)}});function f(){this.init=this.init.bind(this),r.apply(this,arguments)}Object.assign(f.prototype,{logName:"iframe(inner)",init:function(){b("DocRPC").publish(this,"innerTransport");try{var a=b("DocRPC").proxy(window.parent,"outerTransport",["_processTransportData","exitState"],top.DocRPC.origin);Object.assign(this,a);this.exitState({status:b("ChannelConstants").OK,stateId:1e6})}catch(a){j.error("iframe_inner_init_error",a)}},enterState:function(a,c){this._request&&(this._request.abort(),this._request=null),a=="ping"?this._request=p(c,b("bind")(this,"exitState",{status:b("ChannelConstants").OK,stateId:c.stateId}),b("bind")(this,"exitState",{status:b("ChannelConstants").ERROR,stateId:c.stateId})):a=="pull"&&(this._request=q(c,b("bind")(this,"_processTransportData",c.stateId),b("bind")(this,"exitState",{status:b("ChannelConstants").OK,stateId:c.stateId}),b("bind")(this,"exitState",{status:b("ChannelConstants").ERROR,stateId:c.stateId})))}});e.exports={isSubdomain:m,getURI:n,Transport:r,CORSTransport:c,IframeTransport:d,IframeInnerTransport:f,sendActivePing:a}}),null);
__d("ChatProxyConnectionState",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.auxiliaryIrisQueues={},this.aiq=null}var b=a.prototype;b.subscribeIrisQueue=function(a,b){this.auxiliaryIrisQueues[a]=b,this.updateCaches()};b.unsubscribeIrisQueue=function(a){delete this.auxiliaryIrisQueues[a],this.updateCaches()};b.updateCaches=function(){var a=[];for(var b in this.auxiliaryIrisQueues)Object.prototype.hasOwnProperty.call(this.auxiliaryIrisQueues,b)&&(a.push(b),a.push(this.auxiliaryIrisQueues[b]));a.length===0?this.aiq=null:this.aiq=a.join(",")};return a}();f["default"]=a}),66);
__d("FBAjaxRequest",["AjaxError","AjaxRequest","getAsyncParams"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d,e){e=babelHelpers["extends"]({},c("getAsyncParams")(b),e);b=a.call(this,b,d,e)||this;b.$FBAjaxRequest1=e;b.streamMode=!1;return b}var e=b.prototype;e.onJSONSafe=function(){this.json&&(this.json.error&&(this.errorType=d("AjaxError").SERVER_ERROR,this.errorText="AsyncResponse error: "+this.json.error),this.json=this.json.payload),a.prototype.onJSONSafe.call(this)};e.send=function(b){a.prototype.send.call(this,babelHelpers["extends"]({},b,this.$FBAjaxRequest1))};return b}(c("AjaxRequest"));g["default"]=a}),98);
__d("MovingStat",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a>0?a:6e4,this.$2=0,this.$3=0,this.$5={t:new Date(),count:0,v:0},this.$4=this.$5}var b=a.prototype;b.add=function(a){this.$2+=a;this.$3++;var b=new Date();if(b-this.$5.t<1e3){this.$5.v+=a;this.$5.count++;return}this.$5.next={t:b,v:a,count:1};this.$5=this.$5.next;this.$6()};b.tally=function(a){a===void 0&&(a=1e3);this.$6();return{sum:this.$2,count:this.$3,timeAverage:this.$2*a/this.$1}};b.$6=function(){var a=new Date().getTime()-this.$1;while(this.$4&&this.$4.next&&this.$4.t<a)this.$2-=this.$4.v,this.$3-=this.$4.count,this.$4=this.$4.next};return a}();f["default"]=a}),66);
__d("Dcode",[],(function(a,b,c,d,e,f){var g,h={},i={_:"%",A:"%2",B:"000",C:"%7d",D:"%7b%22",E:"%2c%22",F:"%22%3a",G:"%2c%22ut%22%3a1",H:"%2c%22bls%22%3a",I:"%2c%22n%22%3a%22%",J:"%22%3a%7b%22i%22%3a0%7d",K:"%2c%22pt%22%3a0%2c%22vis%22%3a",L:"%2c%22ch%22%3a%7b%22h%22%3a%22",M:"%7b%22v%22%3a2%2c%22time%22%3a1",N:".channel%22%2c%22sub%22%3a%5b",O:"%2c%22sb%22%3a1%2c%22t%22%3a%5b",P:"%2c%22ud%22%3a100%2c%22lc%22%3a0",Q:"%5d%2c%22f%22%3anull%2c%22uct%22%3a",R:".channel%22%2c%22sub%22%3a%5b1%5d",S:"%22%2c%22m%22%3a0%7d%2c%7b%22i%22%3a",T:"%2c%22blc%22%3a1%2c%22snd%22%3a1%2c%22ct%22%3a",U:"%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a",V:"%2c%22blc%22%3a0%2c%22snd%22%3a0%2c%22ct%22%3a",W:"%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a",X:"%2c%22ri%22%3a0%7d%2c%22state%22%3a%7b%22p%22%3a0%2c%22ut%22%3a1",Y:"%2c%22pt%22%3a0%2c%22vis%22%3a1%2c%22bls%22%3a0%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a",Z:"%2c%22sb%22%3a1%2c%22t%22%3a%5b%5d%2c%22f%22%3anull%2c%22uct%22%3a0%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a"};(function(){var a=[];for(var b in i)h[i[b]]=b,a.push(i[b]);a.reverse();g=new RegExp(a.join("|"),"g")})();a={encode:function(a){return encodeURIComponent(a).replace(/([_A-Z])|%../g,function(a,b){return b?"%"+b.charCodeAt(0).toString(16):a}).toLowerCase().replace(g,function(a){return h[a]})},decode:function(a){return decodeURIComponent(a.replace(/[_A-Z]/g,function(a){return i[a]}))}};e.exports=a}),null);
__d("PresenceCookieManager",["Cookie","CurrentUser","Dcode","ErrorUtils","PresenceInitialData","PresenceUtil","WebStorage"],(function(a,b,c,d,e,f,g){var h="presence",i={},j=null,k=null;function l(a){var b=c("Cookie").get(h)||"";if(b.length===0)return null;return b[0]!==a?null:b.substring(1)}function m(a,b){c("Cookie").set(h,a+b)}function n(){return!(c("PresenceInitialData").useWebStorage||!1)?null:c("WebStorage").getSessionStorage()}function o(){var a=n();a=a!=null?a.getItem(h):null;return a!=null?a.substring(1):null}function p(a){var b=n();if(b==null)return!1;b.setItem(h,"E"+a);return!0}function q(){var a=o();return a!=null?a:l("E")}function r(a){a=a.state;if(a==null)return"";var b=l("S")||"",d=c("CurrentUser").isWorkUser()?"w":"f";a=c("CurrentUser").isWorkUser()?a.t3w:a.t3;a=a!=null?a.length>0:!1;var e=b.indexOf(d)!==-1;e&&!a&&(b=b.replace(d,""));!e&&a&&(b+=d);return b}function s(a,b){var c=p(a);c?m("S",b):m("E",a)}function t(){try{var a=q();j!==a&&(j=a,k=null,a&&(a=d("Dcode").decode(a),k=JSON.parse(a)));if(k){if(k.user&&k.user!==c("CurrentUser").getID())return null;return k.v!==c("PresenceInitialData").cookieVersion?null:k}}catch(a){}return null}function u(){return{v:c("PresenceInitialData").cookieVersion,time:v(),user:c("CurrentUser").getID()}}function v(){return parseInt(Date.now()/1e3,10)}function w(a){var b=d("Dcode").encode(JSON.stringify(a));d("PresenceUtil").hasUserCookie()&&s(b,r(a))}function a(a,b){i[a]=b}function b(){var a=t();if(a&&a.v&&c("PresenceInitialData").cookieVersion<a.v)return;var b=u();for(var d in i)b[d]=c("ErrorUtils").applyWithGuard(i[d],i,[a&&a[d]],function(a){a.presence_subcookie=d});w(b)}function e(){var a=x("state");c("Cookie").clear(h);var b=c("WebStorage").getSessionStorage();b!=null&&b.removeItem(h);if(a){b=u();b.state=a;w(b)}}function x(a){var b=t();return!b?null:b[a]}g.register=a;g.store=b;g.clear=e;g.getSubCookie=x}),98);
__d("InstantGamesPresenceProperties",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1}var b=a.prototype;b.addInstantGamePresence=function(){this.$1=!0};b.removeInstantGamePresence=function(){this.$1=!1};b.isActiveGamePresence=function(){return this.$1};return a}();b=new a();c=b;f["default"]=c}),66);
__d("PresenceProperties",["ChannelConstants","InstantGamesPresenceProperties","WorkplaceChatHelper"],(function(a,b,c,d,e,f,g){a=function(){function a(){this.$1=d("ChannelConstants").CAPABILITY_VOIP_INTEROP}var b=a.prototype;b.getProperties=function(){d("WorkplaceChatHelper").isDesktopChatApp()&&(this.$1|=d("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP);c("InstantGamesPresenceProperties").isActiveGamePresence()?this.$1|=d("ChannelConstants").CAPABILITY_PLAYING_INSTANT_GAME:this.$1&=~d("ChannelConstants").CAPABILITY_PLAYING_INSTANT_GAME;return this.$1};return a}();b=new a();e=b;g["default"]=e}),98);
__d("SystemEvents",["ArbiterMixin","Cookie","ExecutionEnvironment","SystemEventsInitialData","TimeSlice","UserActivity","UserAgent_DEPRECATED","clearTimeout","mixin","setIntervalAcrossTransitions","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3;b=function(b){babelHelpers.inheritsLoose(e,b);function e(){var d;d=b.call(this)||this;d.$SystemEvents11=function(){var a=d.$SystemEvents7();d.$SystemEvents2!=a&&(d.$SystemEvents2=a,d.inform(d.USER,a));d.$SystemEvents12()};d.USER="SystemEvents/USER";d.ONLINE="SystemEvents/ONLINE";d.TIME_TRAVEL="SystemEvents/TIME_TRAVEL";d.$SystemEvents1=c("SystemEventsInitialData").ORIGINAL_USER_ID;d.$SystemEvents2=d.$SystemEvents1;d.$SystemEvents3=a.navigator!=null?a.navigator.onLine:!1;d.$SystemEvents4=Date.now();c("ExecutionEnvironment").canUseDOM&&d.$SystemEvents6();return d}var f=e.prototype;f.isPageOwner=function(a){return(a||this.$SystemEvents7())==this.$SystemEvents1};f.isOnline=function(){return!!(d("UserAgent_DEPRECATED").chrome()||this.$SystemEvents3)};f.checkTimeTravel=function(){var a=Date.now(),b=a-this.$SystemEvents4;this.$SystemEvents4=a;(b<0||b>1e4)&&this.inform(this.TIME_TRAVEL,b)};f.$SystemEvents6=function(){this.$SystemEvents8(),this.$SystemEvents9(),this.$SystemEvents10()};f.$SystemEvents8=function(){var a=this,b=c("TimeSlice").guard(function(){a.$SystemEvents3||(a.$SystemEvents3=!0,a.inform(a.ONLINE,a.$SystemEvents3))},"SystemEvents onOnline"),e=c("TimeSlice").guard(function(){a.$SystemEvents3&&(a.$SystemEvents3=!1,a.inform(a.ONLINE,a.$SystemEvents3))},"SystemEvents onOffline");d("UserAgent_DEPRECATED").ie()?d("UserAgent_DEPRECATED").ie()>=11?(window.addEventListener("online",b,!1),window.addEventListener("offline",e,!1)):d("UserAgent_DEPRECATED").ie()>=8?window.attachEvent("onload",function(){document.body.ononline=b,document.body.onoffline=e}):c("setIntervalAcrossTransitions")(function(){(navigator.onLine?b:e)()},h):window.addEventListener&&(window.addEventListener("online",b,!1),window.addEventListener("offline",e,!1))};f.$SystemEvents12=function(){c("clearTimeout")(this.$SystemEvents5),this.$SystemEvents5=c("setTimeoutAcrossTransitions")(this.$SystemEvents11,h)};f.$SystemEvents9=function(){var a=this;c("UserActivity").subscribe(function(){a.$SystemEvents12()});this.$SystemEvents12()};f.$SystemEvents10=function(){c("setIntervalAcrossTransitions")(this.checkTimeTravel.bind(this),h)};f.$SystemEvents7=function(){return c("Cookie").get("c_user")||"0"};return e}(c("mixin")(c("ArbiterMixin")));e=new b();g["default"]=e}),99);
__d("ChannelManager",["errorCode","AjaxError","AjaxRequest","Arbiter","AsyncRequest","ChannelClientID","ChannelConstants","ChannelInitialData","ChannelSubdomain","ChannelTransport","ChatProxyConnectionState","ChatReliabilityInstrumentation","ChatVisibility","DTSG","DesktopWebMessageTypesSitevarConfig","Env","FBAjaxRequest","FBMqttChannel","ISB","LogHistory","MovingStat","ODS","PresenceCookieManager","PresenceProperties","PresenceUtil","Promise","Random","SystemEvents","URI","UserActivity","clearTimeout","cr:1579987","emptyFunction","requestAnimationFrameAcrossTransitions","setIntervalAcrossTransitions","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("LogHistory").getInstance("channel_manager"),m=b("emptyFunction"),n=new(h||(h=b("Promise")))(function(a,c){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","transportPromise.cleanup"),m=a}),o={idle:{ok:"init!"},init:{ok:"pull!",error:"reconnect",sys_online:"init",sys_timetravel:"init"},pull:{ok:"pull!",error:"ping",error_missing:"pull",error_msg_type:"pull",refresh_0:"reconnect",refresh_110:"reconnect",refresh_111:"reconnect",refresh_112:"pull",refresh_113:"pull",refresh_117:"reconnect"},ping:{ok:"pull!",error:"ping",error_stale:"reconnect!"},reconnect:{ok:"init!",error:"reconnect",sys_online:"reconnect",sys_timetravel:"reconnect"},shutdown:{},_all:{error_max:"shutdown!",error_shutdown:"shutdown!",sys_owner:"reconnect",sys_nonowner:"idle!",sys_online:"ping",sys_offline:"idle!",sys_timetravel:"ping"}},p={state:new(b("ChatProxyConnectionState"))(),userActive:Date.now(),created:Date.now(),ready:!1,seqTurSentAt:-1,queueMade:"",sequenceId:0,lastPresenceState:null,lastRequestErrorReason:null,seq:0,pingFailuresOnSubdomain:0,pws:"fresh",estimatedReceived:0,sessionID:b("ChannelClientID").getID(),capabilities:b("PresenceProperties").getProperties(),streamingCapable:!1,inStreaming:!1,shouldSuppressPresence:b("cr:1579987")?b("cr:1579987").shouldSuppress():!1,LONGPOLL_TIMEOUT:6e4,STREAMING_TIMEOUT:6e4,P_TIMEOUT:3e4,IFRAME_LOAD_TIMEOUT:3e4,MIN_RETRY_INTERVAL:5e3,MAX_RETRY_INTERVAL:32e4,MIN_12002_TIMEOUT:9e3,MIN_504_TIMEOUT:2e4,STALL_THRESHOLD:18e4,JUMPSTART_THRESHOLD:9e4,MIN_INIT_PROBE_DELAY:3e3,INIT_PROBE_DELAY_RANDOMIZE_RANGE:12e3,CHANNEL_PROXY_REPORTING_MIN_INTERVAL:1e4,PROBE_DELAY:6e4,PROBE_HEARTBEATS_INTERVAL_LOW:1e3,PROBE_HEARTBEATS_INTERVAL_HIGH:5e3,STREAMING_EXIT_STATE_ON_CONTINUE:!1},q=1,r={},s=0;function t(){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","getLastSuccess.cleanup");var a=b("AsyncRequest").lastSuccessTime;return a?Math.round((Date.now()-a)/1e3):-1}function u(a,c){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_getConfig.cleanup");return Object.prototype.hasOwnProperty.call(p,a)?p[a]:c}function v(){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_getInfo.cleanup");var a={};u("host")&&(a[u("user_channel")]=u("seq",0));return a}function w(a){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_bumpDelay.cleanup"),a?(s=0,r={}):s++}a={state:"idle",nextState:null,proxyDown:!1,lastPullTime:Date.now(),lastReportOnMisguidedMsgTime:Date.now(),heartbeats:[],backoff:!1,sessionRegistered:!1,_initTimer:null,_deferredTransition:null,_transportRate:null,_shutdownHint:null,init:function(a,c){var d=this;(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","init.cleanup");this.init=b("emptyFunction");b("Arbiter").subscribe(b("ChannelConstants").GET_RTI_SESSION_REQUEST,function(a,b){d.informCurrentSession()});b("Arbiter").subscribe(b("ChannelConstants").CONSOLE_LOG,function(a,b){});b("requestAnimationFrameAcrossTransitions")(function(){b("UserActivity").subscribe(function(){d.state=="pull"&&(p.userActive=Date.now(),b("ChannelTransport").sendActivePing(p))}),b("Arbiter").subscribe(b("ChannelConstants").ENTITY_PRESENCE_ACTIVE_PING,function(a){d.state=="pull"&&(p.userActive=Date.now())})});b("PresenceCookieManager").register("ch",v);var e=this.getConfig("max_conn",2);p.subdomain=b("ChannelSubdomain").allocate(e);b("ChannelTransport").isSubdomain(p.subdomain)||(p.subdomain=null);this._transportRate=new(b("MovingStat"))(3e4);e=b("AjaxRequest").supportsCORS()?"CORSTransport":"IframeTransport";i.bumpEntityKey(2966,"ChannelManager","transport_chosen."+e);this.transport=new(b("ChannelTransport")[e])(this);m(this.transport);a&&this.enterState(a,c);b("requestAnimationFrameAcrossTransitions")(function(){d._initMonitors()});if(this.getConfig("fullHost")&&b("AjaxRequest").supportsCORS()){if(this.getConfig("tryStreaming")){e=p.MIN_INIT_PROBE_DELAY+b("Random").random()*p.INIT_PROBE_DELAY_RANDOMIZE_RANGE;b("setTimeoutAcrossTransitions")(this._probeTest,e)}if(this.getConfig("trySSEStreaming")){a=p.MIN_INIT_PROBE_DELAY+b("Random").random()*p.INIT_PROBE_DELAY_RANDOMIZE_RANGE;b("setTimeoutAcrossTransitions")(this._sseProbeTest,a)}}},_mqttInit:function(){var a=this;(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_mqttInit.cleanup");b("FBMqttChannel").subscribe("/legacy_web",function(c){try{c=JSON.parse(c);a._processMqttMessage(c)}catch(a){(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","mqttInit."+a.message)}})},configure:function(){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","configure.cleanup");for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];l.log("configure",JSON.stringify(c));c.forEach(function(a){return Object.assign(p,a)});this._indicateLbInfoUpdated("reconnect",JSON.stringify(c));b("Arbiter").inform(b("ChannelConstants").ON_CONFIG,this)},getConfig:function(a,c){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","getConfig.cleanup");return u(a,c)},getCompleteConfig:function(){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","getCompleteConfig.cleanup");return p},isShutdown:function(){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","isShutdown.cleanup");return this.state=="shutdown"},shouldIdle:function(){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","shouldIdle.cleanup");return!(b("SystemEvents").isPageOwner()&&b("SystemEvents").isOnline())},_sendIframeError:function(a){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_sendIframeError.cleanup");a=new(b("AsyncRequest"))().setURI("/ajax/presence/reconnect.php").setData({reason:a,fb_dtsg:b("DTSG").getToken()}).setOption("suppressErrorHandlerWarning",!0).setOption("retries",1).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(!0);a.specifiesWriteRequiredParams()&&a.send()},_getDelay:function(){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_getDelay.cleanup");var a=Math.min(p.MIN_RETRY_INTERVAL*Math.pow(2,Math.max(0,s-1)),p.MAX_RETRY_INTERVAL);this.proxyDown&&"proxy_down_delay_millis"in p&&(a=p.proxy_down_delay_millis);this.proxyDown=!1;return Math.floor(a*(1+Math.random()*.5))},resetDelay:function(){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","resetDelay.cleanup"),w(!0)},enterState:function(a,c){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","enterState.cleanup");this._inEnterState&&(l.warn("enterstate_recursion",JSON.stringify({state:this.state,args:arguments})),b("ChatReliabilityInstrumentation").logERROR("enterstate_recursion"));this._inEnterState=!0;try{this._enterState.apply(this,arguments),this._inEnterState=!1}catch(a){this._inEnterState=!1;throw a}},_enterState:function(a){var c=this;(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_enterState.cleanup");if(!(/init/.test(a)||/reconnect/.test(a)))return;var d=this.backoff?this._getDelay():0;this.backoff=!1;if(this.isShutdown())return;if(a!="idle!"&&this.shouldIdle())return;q++;p.stateId=q;b("clearTimeout")(this._deferredTransition);this._deferredTransition=null;!this.transport?(n.then(function(a){return a.enterState("idle")}),b("ChatReliabilityInstrumentation").logERROR("called enterState "+a+" before transport init")):this.transport.enterState("idle");this.state="idle";this.nextState=null;if(/!$/.test(a)){if(this._transportRate){var e=this._transportRate.tally().timeAverage,f=this.getConfig("MAX_CHANNEL_STATES_PER_SEC",1);e>=f&&(this._throttled||(this._throttled=!0,l.warn("throttled","{}"),b("Arbiter").inform(b("ChannelConstants").THROTTLED,e)),d=1e3/f)}}else/#$/.test(a)||(d=this._getDelay());a=a.replace(/\W*$/,"");if(!o[a])throw new Error("invalid state:"+a);var g=Array.from(arguments),h={};if(d<=0){h.state=a;this._transportRate&&this._transportRate.add(1);this.state=a;var j=this["_enter_"+this.state];j&&(g.shift(),j.apply(this,g));/init|idle|pull|ping/.test(this.state)&&(p.streamingCapable&&/pull/.test(this.state)&&(this.heartbeats=[]),p.is_offline=!b("ChatVisibility").isOnline(),p.capabilities=b("PresenceProperties").getProperties(),!this.transport?(n.then(function(a){return a.enterState(c.state,p)}),b("ChatReliabilityInstrumentation").logERROR("called enterState "+a+" before transport init")):this.transport.enterState(this.state,p),this.state=="ping"&&(h.url=b("ChannelTransport").getURI(p).toString(),h.port=p.port||"undefined"))}else this.state="idle",this.nextState=a,h.state=this.state,h.delay=d,h.nextState=a,g[0]=a+"#",this._deferredTransition=b("setTimeoutAcrossTransitions")(function(){c._deferredTransition=null,c.enterState.apply(c,g)},d);/pull/.test(a)&&(h.client_id=p.sessionID,h.streaming=p.inStreaming);b("Arbiter").inform(b("ChannelConstants").ON_ENTER_STATE,h)},exitState:function(a,c){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","exitState.cleanup");var d=a.stateId,e=a.status;if(this.isShutdown()||d<q)return;var f=this.state,g=Array.from(arguments);g[0]=a.status;var h={state:f,status:e};/pull/.test(f)&&(h.client_id=p.sessionID,h.streaming=p.inStreaming);/ping/.test(f)&&e!=b("ChannelConstants").OK&&(h.url=b("ChannelTransport").getURI(p).toString());this.nextState&&(h.nextState=this.nextState);c&&c.errorType?(p.lastRequestErrorReason=c.errorType,h.xhr=c.toJSON?c.toJSON():c,c.errorType==b("AjaxError").SERVICE_UNAVAILABLE&&(this.proxyDown=!0),delete h.xhr.json):e!=b("ChannelConstants").OK&&(p.lastRequestErrorReason=e);c&&c.json&&(c.json.t&&(h.t=c.json.t),c.json.reason&&(h.reason=c.json.reason),c.json.seq&&(h.seq=c.json.seq));b("Arbiter").inform(b("ChannelConstants").ON_EXIT_STATE,h);var j=this["_exit_"+f];j&&(e=j.apply(this,g)||e);e!=b("ChannelConstants").OK&&(w(),r[f]=(r[f]||0)+1);var k=o[this.nextState||f][e]||o._all[e],m=k&&k.replace(/!*$/,"");m||(l.error("terminal_transition",JSON.stringify(h)),this._shutdownHint=b("ChannelConstants").HINT_INVALID_STATE,k="shutdown!");this._lastState=f;this._lastStatus=e;this.enterState(k)},_processTransportData:function(a,c){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_processTransportData.cleanup"),this._processTransportData0(a,c,c.json)},_processTransportData0:function(a,c,d){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_processTransportData0.cleanup");var e=d.t;"s"in d&&(d.seq=d.s,delete d.s);if(d.u&&p.user&&d.u!=p.user){l.warn("misguided_msg",JSON.stringify({user:p.user,target:d.u}));this._reportProxyMisguidedMsg(d.u,p.user);return}var f=p.seq;"seq"in d&&(p.seq=d.seq,b("cr:1579987")&&b("cr:1579987").doSync());switch(e){case"continue":p.inStreaming&&this.heartbeats.length<1&&(p.streamingCapable=!1,l.log("switch_to_longpoll","{}"),b("setTimeoutAcrossTransitions")(this._probeTest,p.PROBE_DELAY));w(!0);(!p.inStreaming||p.STREAMING_EXIT_STATE_ON_CONTINUE)&&this.exitState({status:b("ChannelConstants").OK,stateId:a});break;case"refresh":case"refreshDelay":this.exitState({status:"refresh_"+(d.reason||0),stateId:a},c);break;case"backoff":w();this.backoff=!0;break;case"lb":var g=d.lb_info;if(g){p.sticky_token=g.sticky;"pool"in g&&(p.sticky_pool=g.pool);if("sd"in g){var h=g.subdomain;b("ChannelTransport").isSubdomain(h)&&(p.subdomain=g.subdomain)}"vip"in g&&(p.host=g.vip);this._indicateLbInfoUpdated("chatproxy",JSON.stringify(d))}else l.error("missing_lb_info","{}");break;case"test_streaming":b("setTimeoutAcrossTransitions")(this._probeTest,500);break;case"fullReload":b("PresenceCookieManager").clear();l.log("full_reload","{}");this.sessionRegistered=!0;this.informCurrentSession();b("Arbiter").inform(b("ChannelConstants").ON_INVALID_HISTORY);w(!0);h=b("ChannelConstants").OK;this.exitState({status:h,stateId:a},c);"ms"in d&&this._processMessages(d,f);break;case"msg":w(!0);this._processMessages(d,f);break;case"heartbeat":if(p.inStreaming){g=Date.now();var j;this.heartbeats.length>0&&(j=g-this.heartbeats[this.heartbeats.length-1]);l.log("heartbeat_interval",JSON.stringify({client_id:p.sessionID,interval:j}));this.heartbeats.push(g)}break;case"batched":h=d.batches;for(f=0;f<h.length;f++)this._processTransportData0(a,c,h[f]);break;default:l.error("unknown_msg_type",JSON.stringify({type:e}));break}},_processMqttMessage:function(a){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_processMqttMessage.cleanup");if(b("DesktopWebMessageTypesSitevarConfig").ChatProxySupportedMessageTypes.get(a.type)===!0&&b("DesktopWebMessageTypesSitevarConfig").MQTTMigrationExcludeMessageTypes.get(a.type)!==!0)if(a.type==="rtc_live_json")(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","processMqttMessages.dropped."+a.type);else{var c=b("ChannelConstants").getArbiterType(a.type);b("Arbiter").inform(c,{obj:a});(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","processMqttMessages."+a.type)}else(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","processMqttMessages.dropped."+a.type)},_processMessages:function(a,c){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_processMessages.cleanup");"tr"in a&&(p.trace_id=a.tr);a=a.ms;var d=p.seq-a.length;for(var e=0;e<a.length;e++,d++){p.estimatedReceived++;if(d>=c){var f=a[e];if(f.type){(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","messageReceive."+f.type);if(b("DesktopWebMessageTypesSitevarConfig").ChatProxySupportedMessageTypes.get(f.type)!==!0){(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","processMessages.dropped."+f.type);continue}var g=b("ChannelConstants").getArbiterType(f.type);f.type==="skywalker"?g=b("ChannelConstants").SKYWALKER:f.type==="delta"&&(p.sequenceId=f.iseq);try{f.type=="buddylist_overlay"&&f.buffered==1?(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","processMessages.buddylist_overlay.dropped"):b("DesktopWebMessageTypesSitevarConfig").MQTTMigrationExcludeMessageTypes.get(f.type)!==!0?f.type==="rtc_live_json"?b("Arbiter").inform(g,{obj:f}):(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","processMessages.migration.list."+f.type):b("Arbiter").inform(g,{obj:f})}catch(a){(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","processMessages.error."+f.type)}}}else l.warn("seq_regression",JSON.stringify({last_seq:c,messages:a.length,seq:d}))}},_enter_init:function(){var a=this;(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_enter_init.cleanup");if(r.init>=this.getConfig("MAX_INIT_FAILS",2))return b("setTimeoutAcrossTransitions")(function(){return a.exitState({status:b("ChannelConstants").ERROR_MAX,stateId:q})},0);this._initTimer=b("setTimeoutAcrossTransitions")(function(){return a.exitState({status:b("ChannelConstants").ERROR,stateId:q},"timeout")},p.IFRAME_LOAD_TIMEOUT)},_enter_reconnect:function(a){var c=this;(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_enter_reconnect.cleanup");l.warn("enter_reconnect",a);var d=q;if(!b("PresenceUtil").hasUserCookie()){l.warn("no_user_cookie","{}");b("setTimeoutAcrossTransitions")(function(){c._shutdownHint=b("ChannelConstants").HINT_AUTH,c.exitState({status:b("ChannelConstants").ERROR_SHUTDOWN,stateId:d})},0);return}a={reason:a,fb_dtsg:b("DTSG").getToken()};b("ISB").token&&(a.fb_isb=b("ISB").token);var e=new(b("FBAjaxRequest"))("GET","/ajax/presence/reconnect.php",a);e.onSuccess=function(){c.configure(e.json),b("PresenceCookieManager").store(),c.exitState({status:b("ChannelConstants").OK,stateId:d})};e.onError=function(){var a=e.json&&e.json.error;(e.errorType==b("AjaxError").TRANSPORT_ERROR||e.errorType==b("AjaxError").PROXY_ERROR||e.errorType==b("AjaxError").SERVICE_UNAVAILABLE)&&(c._shutdownHint=b("ChannelConstants").HINT_CONN);a&&a==1356007?c._shutdownHint=b("ChannelConstants").HINT_MAINT:a==1357001||a==1357004||a==1348009?c._shutdownHint=b("ChannelConstants").HINT_AUTH:c._shutdownHint=null;c.exitState({status:c._shutdownHint?b("ChannelConstants").ERROR_SHUTDOWN:b("ChannelConstants").ERROR,stateId:d},e)};e.onSuccess()},_exit_init:function(a){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_exit_init.cleanup"),this._initTimer&&(this._initTimer=b("clearTimeout")(this._initTimer)),a==b("ChannelConstants").ERROR_MAX&&this._sendIframeError(b("ChannelConstants").reason_IFrameLoadGiveUp)},_reportProxyMisguidedMsg:function(a,c){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_reportProxyMisguidedMsg.cleanup");var d=Date.now();if(d-this.lastReportOnMisguidedMsgTime<=p.CHANNEL_PROXY_REPORTING_MIN_INTERVAL)return;this.lastReportOnMisguidedMsgTime=d;d={received_uid:a,expected_uid:c};p.sticky_token&&(d.sticky_token=p.sticky_token);a=new(j||(j=b("URI")))("/err_misguided_msg").setDomain(p.host+"."+p.domain).setPort(p.port).setSecure(new j(window.location.href).isSecure()).setQueryData(d);c=new(b("AjaxRequest"))("GET",a);b("AjaxRequest").supportsCORS()&&(c.xhr.withCredentials=!0);c.onSuccess=function(a){};c.onError=function(a){};c.onJSON=function(a){};c.send()},_initMonitors:function(){var a=this;(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_initMonitors.cleanup");var c=Date.now(),d=Date.now(),e={};e.total=0;var f="idle",g=!1;b("SystemEvents").subscribe([b("SystemEvents").USER,b("SystemEvents").ONLINE,b("SystemEvents").TIME_TRAVEL],function(c,e){w(!0);d=null;a.lastPullTime=Date.now();var f;switch(c){case b("SystemEvents").USER:f=b("SystemEvents").isPageOwner()?b("ChannelConstants").SYS_OWNER:b("ChannelConstants").SYS_NONOWNER;break;case b("SystemEvents").ONLINE:f=e?b("ChannelConstants").SYS_ONLINE:b("ChannelConstants").SYS_OFFLINE;break;case b("SystemEvents").TIME_TRAVEL:if(p.skipTimeTravel)return;if(0<e)return;f=b("ChannelConstants").SYS_TIMETRAVEL;break}a.exitState({status:f,stateId:q})});var h=function(a,g){var h=Date.now(),i=null;g?(c=h,i=g.nextState||g.state):i=f;b("SystemEvents").checkTimeTravel();if(d){g=Math.round((h-d)/1e3);g>0&&(e[f]=(e[f]||0)+g,e.total+=g)}f=i;d=h;a||(e.lastSuccessTime=t(),e.online=b("SystemEvents").isOnline(),l.log("rollup",JSON.stringify(e)))};b("Arbiter").subscribe(b("ChannelConstants").ON_ENTER_STATE,h);b("setIntervalAcrossTransitions")(h,6e4);h=function(){if(a.isShutdown()||a.shouldIdle())return;b("SystemEvents").checkTimeTravel();var d=Date.now()-(a.lastPullTime||(k||(k=b("Env"))).start);if(!g&&d>p.STALL_THRESHOLD){var e=t();l.error("stall",JSON.stringify({lastSuccessTime:e,rollupState:f}));b("ChatReliabilityInstrumentation").logCHANNEL_STALLED(d.toString());g=!0}e=Date.now()-(c||0);a.state=="pull"&&e>p.JUMPSTART_THRESHOLD&&(c=null,l.warn("jumpstart",JSON.stringify({state:a.state,dormant:e})),b("Arbiter").inform(b("ChannelConstants").JUMPSTART,e),a.enterState("init"))};b("setIntervalAcrossTransitions")(h,5e3)},_indicateLbInfoUpdated:function(a,c){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_indicateLbInfoUpdated.cleanup");a=!b("AjaxRequest").supportsCORS();c=b("ChannelTransport").isSubdomain(p.subdomain);!c||a?p.fullHost=p.host:p.fullHost=p.subdomain+"-"+p.host},_probeTest:function(){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_probeTest.cleanup");p.streamingCapable=!1;var a=[],c={mode:"stream",format:"json"};p.sticky_token&&(c.sticky_token=p.sticky_token);c=new(j||(j=b("URI")))("/probe").setDomain(p.fullHost+"."+p.domain).setPort(p.port).setSecure(new j(window.location.href).isSecure()).setQueryData(c);i.bumpEntityKey(2966,"ChannelManager","probe.attempt");c=new(b("AjaxRequest"))("GET",c);c.onJSON=function(c,d){if(c&&c.json&&c.json.t==="heartbeat"){a.push(Date.now());if(a.length>=2){d=a[1]-a[0];d>=p.PROBE_HEARTBEATS_INTERVAL_LOW&&d<=p.PROBE_HEARTBEATS_INTERVAL_HIGH?(p.streamingCapable=!0,(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","probe.switch_to_streaming"),l.log("switch_to_streaming","{}")):(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","probe.failure.delayed")}}};c.onSuccess=function(c){a.length!=2&&(p.streamingCapable=!1,(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","probe.failure.data_loss"),l.error("probe_error",JSON.stringify({error:"beats.length = "+a.length}))),(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","probe.success"),l.log("probe_success","{}")};c.onError=function(a){p.streamingCapable=!1,(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","probe.failure.error"),l.error("probe_error",JSON.stringify(a))};c.send()},_sseProbeTest:function(){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","_sseProbeTest.cleanup");if(!window.EventSource){(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","sse_probe.failure.no_event_source");l.log("sse_probe.failure.no_event_source","{}");return}var a=[],c={mode:"sse",format:"json"};p.sticky_token&&(c.sticky_token=p.sticky_token);c=new(j||(j=b("URI")))("/sse_probe").setDomain(p.fullHost+"."+p.domain).setPort(p.port).setSecure(new j(window.location.href).isSecure()).setQueryData(c);i.bumpEntityKey(2966,"ChannelManager","sse_probe.attempt");var d=new EventSource(c.toString()),e=b("setTimeoutAcrossTransitions")(function(){d.close(),(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","sse_probe.failure.timeout"),l.log("sse_probe.failure.timeout","{}")},p.PROBE_HEARTBEATS_INTERVAL_HIGH*6);d.addEventListener("heartbeat",function(c){a.push(Date.now());if(a.length>=2){c=a[1]-a[0];c>=p.PROBE_HEARTBEATS_INTERVAL_LOW&&c<=p.PROBE_HEARTBEATS_INTERVAL_HIGH?((i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","sse_probe.success"),l.log("sse_probe.success","{}")):((i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","sse_probe.failure.delayed"),l.log("sse_probe.failure.delayed","{}"));b("clearTimeout")(e);d.close()}});d.onerror=function(a){(i||(i=b("ODS"))).bumpEntityKey(2966,"ChannelManager","sse_probe.failure.error"),l.error("sse_probe.failure.error",JSON.stringify(a)),b("clearTimeout")(e),d.close()}},startChannelManagerForApp:function(a){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","startChannelManagerForApp.cleanup"),this.startChannelManager!==b("emptyFunction")&&this.startChannelManager(),b("ChannelInitialData").channelConfig&&p&&(p.profile=a)},startChannelManager:function(){(i||(i=b("ODS"))).bumpEntityKey(2231,"ChannelManager","startChannelManager.cleanup"),b("ChannelInitialData").channelConfig?(this.configure(b("ChannelInitialData").channelConfig),/shutdown/.test(b("ChannelInitialData").state)&&(this._shutdownHint=b("ChannelConstants")[b("ChannelInitialData").reason]),this.init(b("ChannelInitialData").state,b("ChannelInitialData").reason),this._mqttInit(),b("ChatReliabilityInstrumentation").logCHANNEL_INIT(),this.startChannelManager=b("emptyFunction")):b("ChatReliabilityInstrumentation").logCHANNEL_NOCONFIG()}};e.exports=a}),null);
__d("ChannelConnection",["Arbiter","ArbiterMixin","ChannelConnectionEvents","ChannelConstants","ChannelManager","Run","SystemEvents","Visibility","clearTimeout","emptyFunction","mixin","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){var h=null,i=null,j=null,k=null,l=0;a.__comet_ssr_is_server_env_DO_NOT_USE!==!0&&a.__is_archon!==!0&&d("ChannelManager").startChannelManager();b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.CONNECTED=d("ChannelConnectionEvents").CONNECTED,c.RECONNECTING=d("ChannelConnectionEvents").RECONNECTING,c.SHUTDOWN=d("ChannelConnectionEvents").SHUTDOWN,c.MUTE_WARNING="chat-connection/mute",c.UNMUTE_WARNING="chat-connection/unmute",c.unmuteWarning=o,b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.disconnected=function(){return k===m.SHUTDOWN||k===m.RECONNECTING&&!i&&l>1};e.isShutdown=function(){return k===m.SHUTDOWN};e.reconnect=function(a){a===void 0&&(a=!1);if(d("ChannelManager").state==="ping"||d("ChannelManager").state==="pull"||d("ChannelManager").isShutdown())return;m.inform(m.RECONNECTING,0);a?(h!==null&&(c("clearTimeout")(h),h=null),d("ChannelManager").enterState("ping!")):h||(h=c("setTimeoutAcrossTransitions")(function(){d("ChannelManager").enterState("ping!"),h=null},d("ChannelConstants").CHANNEL_MANUAL_RECONNECT_DEFER_MSEC));d("ChannelManager").resetDelay()};e.mockAfterLoad=function(){s(),t()};return b}(c("mixin")(c("ArbiterMixin")));var m=new b();d("Run").onBeforeUnload(c("emptyFunction"),!1);function n(){i&&(c("clearTimeout")(i),i=null)}function o(){n(),m.inform(m.UNMUTE_WARNING)}function p(a){n(),i=c("setTimeoutAcrossTransitions")(o,a),m.inform(m.MUTE_WARNING)}function q(){j&&(c("clearTimeout")(j),j=null)}function r(a,b){q();if(a===d("ChannelConstants").ON_ENTER_STATE&&(b.nextState||b.state)==="pull"){if(k!==m.CONNECTED){var e=!k;k=m.CONNECTED;l=0;m.inform(m.CONNECTED,{init:e})}}else a===d("ChannelConstants").ON_ENTER_STATE&&((b.nextState||b.state)==="ping"||!b.nextState&&b.state==="idle")?j=c("setTimeoutAcrossTransitions")(function(){var c=null;b.state==="idle"&&!b.nextState||(c=b.delay||0);k=m.RECONNECTING;b.state==="idle"&&l++;l>1?m.inform(m.RECONNECTING,c):!b.nextState&&b.state==="idle"&&r(a,b)},500):a===d("ChannelConstants").ON_SHUTDOWN&&(k=m.SHUTDOWN,l=0,m.inform(m.SHUTDOWN,b.reason))}function s(){d("ChannelManager").isShutdown()?r(d("ChannelConstants").ON_SHUTDOWN,d("ChannelManager")._shutdownHint):r(d("ChannelConstants").ON_ENTER_STATE,{state:d("ChannelManager").state,nextState:d("ChannelManager").nextState,delay:0}),c("Visibility").addListener(c("Visibility").VISIBLE,m.reconnect)}d("Run").onAfterLoad(s);function t(){c("Arbiter").subscribe([d("ChannelConstants").ON_ENTER_STATE,d("ChannelConstants").ON_SHUTDOWN],r),c("Arbiter").subscribe(d("ChannelConstants").ATTEMPT_RECONNECT,function(){m.disconnected()&&m.reconnect()}),c("SystemEvents").subscribe(c("SystemEvents").TIME_TRAVEL,function(){m.reconnect(),p(d("ChannelConstants").MUTE_WARNING_TIME_MSEC)}),d("Run").onBeforeUnload(q,!1)}d("Run").onAfterLoad(t);e=m;g["default"]=e}),99);
__d("ChatproxyPresence",["Arbiter","AvailableListConstants","AvailableListInitialData","ChannelConstants","ChatReliabilityEvents","ChatReliabilityInstrumentation","LastActiveTimes","ODS","PresenceStatus","debounceAcrossTransitions"],(function(a,b,c,d,e,f){var g;a=function(){"use strict";function a(a){this.$1=a,this.$2=!1,this.$3=b("AvailableListInitialData").chatNotif,this.$4=!1}var c=a.prototype;c.subscribe=function(){var a=this,c,d;(c=b("Arbiter")).subscribe((d=b("ChannelConstants")).getArbiterType("chatproxy-presence"),this.updatePresenceInfo.bind(this));c.subscribe(d.ON_INVALID_HISTORY,function(){b("ChatReliabilityInstrumentation").logCHATPROXY_EVENT(b("ChatReliabilityEvents").ON_INVALID_HISTORY),a.$2=!0});c.subscribe(d.RTI_SESSION,function(c,d){b("ChatReliabilityInstrumentation").logCHATPROXY_EVENT(b("ChatReliabilityEvents").RTI_SESSION),d&&(a.$4=d)});c.subscribe(d.getArbiterType("get_debug_presence"),function(c,d){b("ChatReliabilityInstrumentation").logCHATPROXY_EVENT(b("ChatReliabilityEvents").GET_DEBUG_PRESENCE);c=b("PresenceStatus").getAllDebugInfo();d=b("LastActiveTimes").getDebugData();for(var e in d){var f=c[e];f===void 0&&(f={},c[e]=f);f.l=Math.floor(d[e])}a.$4.issueRequest("/debug_presence",{},c,function(){(g||(g=b("ODS"))).bumpEntityKey(2966,"ChatproxyPresence","debug_presence.sucess")})})};c.getRTISession=function(){return this.$4};c.updatePresenceInfo=function(a,c){var d=this;this.$2&&(this.$2=!1,b("PresenceStatus").resetPresenceData());c=c.obj;a=!1;c.chatNotif!==void 0&&(a=this.$3!==c.chatNotif);a&&(this.$3=c.chatNotif);c.gamers&&b("PresenceStatus").setPlayingCanvasGameFriends(c.gamers);a&&this.$1(b("AvailableListConstants").ON_CHAT_NOTIFICATION_CHANGED,this.$3);b("debounceAcrossTransitions")(function(){d.$1(b("AvailableListConstants").ON_AVAILABILITY_CHANGED)},0)()};c.getWebChatNotification=function(){return this.$3};return a}();e.exports=a}),null);
__d("ChatDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ExplicitRegistrationDispatcher"));b=new a({strict:!1});g["default"]=b}),98);
__d("PresenceStatusActionTypes",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({AVAILABILITY_CHANGED:null});g["default"]=a}),98);
__d("TypingStates",[],(function(a,b,c,d,e,f){a=Object.freeze({INACTIVE:0,TYPING:1,QUITTING:2});f["default"]=a}),66);
__d("AvailableList",["Arbiter","ArbiterMixin","AsyncRequest","AvailableListConstants","Bootloader","ChannelConstants","ChatConfig","ChatDispatcher","ChatReliabilityInstrumentation","ChatVisibility","ChatproxyPresence","CurrentUser","FBIDCheck","FBLogger","LastActiveTimes","ODS","PresencePrivacy","PresenceStatus","PresenceStatusActionTypes","Run","ServerTime","TypingStates","debounceAcrossTransitions","emptyFunction","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";d("ODS").setEntitySample("presence",1e-4);var h=babelHelpers["extends"]({},c("AvailableListConstants"),c("ArbiterMixin")),i=/\D/;h.subscribe([c("AvailableListConstants").ON_AVAILABILITY_CHANGED,c("AvailableListConstants").ON_UPDATE_ERROR],function(a,b){c("Arbiter").inform(a,b)});c("PresenceStatus").subscribe("change",c("debounceAcrossTransitions")(function(){h.inform(c("AvailableListConstants").ON_AVAILABILITY_CHANGED)},0));var j=c("debounceAcrossTransitions")(function(){h.inform(c("AvailableListConstants").ON_AVAILABILITY_CHANGED),c("ChatDispatcher").dispatch({type:c("PresenceStatusActionTypes").AVAILABILITY_CHANGED})},0);function k(a,b,d,e,f){if(a===c("CurrentUser").getID())return;b=c("PresenceStatus").set(a,b,d,e,f);if(b){d=c("debounceAcrossTransitions")(function(){h.inform(c("AvailableListConstants").ON_AVAILABILITY_CHANGED,a),c("ChatDispatcher").dispatch({type:c("PresenceStatusActionTypes").AVAILABILITY_CHANGED,id:a})},0);d()}}function l(a){a=a.payload.availability||{};for(var b in a)k(b&&b.toString(),a[b].a,!0,"mercury_tabs",a[b].c)}function m(a){if(!a||a==="0"||i.test(a)){d("ChatReliabilityInstrumentation").logERROR("bad id for available list: "+a);return}new(c("AsyncRequest"))("/ajax/mercury/tabs_presence.php").setData({target_id:a}).setHandler(l).setErrorHandler(c("emptyFunction")).setAllowCrossPageTransition(!0).send()}var n=void 0;try{n=new(c("ChatproxyPresence"))(function(a){h.inform(a)}),n.subscribe()}catch(a){c("FBLogger")("chat").catching(a).mustfix("Failed to subscribe to chat proxy presence"),d("ChatReliabilityInstrumentation").logERROR(a.getMessage())}Object.assign(h,{getChatproxyPresenceObject:function(){return n},get:function(a){return c("PresenceStatus").get(a)},updateForID:function(a){if(d("ChatConfig").get("presence_page_green_dot_sub")&&!d("FBIDCheck").isUser_deprecated(a))return;m(a);c("PresencePrivacy").getVisibility()==c("PresencePrivacy").ONLINE&&d("Run").onAfterLoad(function(){c("Bootloader").loadModules(["MessengerMQTTPresence"],function(b){b.sendAdditionalBuddyRequest(a)},"AvailableList")})},getWebChatNotification:function(){return n&&n.getWebChatNotification()},isReady:function(){return!!n},set:function(a,b,c,d){k(a,b,!0,c,d)}});c("PresencePrivacy").subscribe(["privacy-changed","privacy-availability-changed","privacy-user-presence-response"],j);c("requireWeak")("ChannelConnection",function(a){return a.subscribe([a.CONNECTED,a.RECONNECTING,a.SHUTDOWN,a.MUTE_WARNING,a.UNMUTE_WARNING],j)});c("Bootloader").loadModules(["MercurySyncEventsProxy"],function(a){c("Arbiter").subscribe([a.getArbiterTypeForFBID(c("CurrentUser").getID(),a.Events.TYP)],function(a,b){a=b.obj;if(a.st===c("TypingStates").TYPING){b=a.from;if(d("ChatVisibility").isOnline()){d("ODS").bumpEntityKey(3303,"presence","stale_presence_check_typing");a=c("PresenceStatus").get(b);if(a!=c("AvailableListConstants").ACTIVE){a=d("LastActiveTimes").get(b)*1e3;var e=d("ServerTime").get();if(!a)d("ODS").bumpEntityKey(3303,"presence","no_detailed_presence_typing");else if(e-a>5*60*1e3){var f="stale_presence_typing";e=e-a;e<10*60*1e3?f+="600":e<60*60*1e3&&(f+="3600");d("ODS").bumpEntityKey(3303,"presence",f)}}}h.set(b&&b.toString(),c("AvailableListConstants").ACTIVE,"channel-typing")}})},"AvailableList");c("Arbiter").subscribe(d("ChannelConstants").getArbiterType("messaging"),function(a,b){if(!d("ChatVisibility").isOnline())return;a=b.obj;if(a.message&&a.message.timestamp&&a.message.sender_fbid){b=d("ServerTime").get();var e=a.message.timestamp;if(b-e<2*60*1e3){d("ODS").bumpEntityKey(3303,"presence","stale_presence_check");b=a.message.sender_fbid;a=c("PresenceStatus").get(b);if(a==c("AvailableListConstants").ACTIVE)return;a=d("LastActiveTimes").get(b)*1e3;if(!a)d("ODS").bumpEntityKey(3303,"presence","no_detailed_presence");else if(e-a>5*60*1e3){b="stale_presence";e=e-a;e<10*60*1e3?b+="600":e<60*60*1e3&&(b+="3600");d("ODS").bumpEntityKey(3303,"presence",b)}}}});a=h;g["default"]=a}),98);
__d("ChatSidebarActionTypes",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({AFTER_DOM_LOAD:null,INIT:null,LOADED:null,SET_ENABLED:null,SHOW:null});g["default"]=a}),98);
__d("ChatSidebarPresencePrivacyActions",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({PRIVACY_CHANGED:null,USER_PRESENCE_CHANGED:null});g["default"]=a}),98);
__d("ChatSidebarRecentCallsActions",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({RECENT_CALLS_UPDATED:null});b=a;g["default"]=b}),98);
__d("ChatSidebarActions",["ChatDispatcher","ChatSidebarActionTypes","ChatSidebarPresencePrivacyActions","ChatSidebarRecentCallsActions"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").INIT})}function b(){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").AFTER_DOM_LOAD})}function d(){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").LOADED})}function e(){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").SET_ENABLED,enabled:!1,sidebarType:"buddylist"})}function f(a){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").SET_ENABLED,enabled:!0,sidebarType:a})}function h(a){c("ChatDispatcher").dispatch({type:c("ChatSidebarActionTypes").SHOW,sidebarType:a})}function i(){c("ChatDispatcher").dispatch({type:c("ChatSidebarPresencePrivacyActions").USER_PRESENCE_CHANGED})}function j(){c("ChatDispatcher").dispatch({type:c("ChatSidebarPresencePrivacyActions").PRIVACY_CHANGED})}function k(a){c("ChatDispatcher").dispatch({type:c("ChatSidebarRecentCallsActions").RECENT_CALLS_UPDATED,calls:a})}g.init=a;g.afterDomLoad=b;g.loaded=d;g.disable=e;g.enable=f;g.show=h;g.userPresenceChanged=i;g.privacyChanged=j;g.recentCallsUpdated=k}),98);
__d("ChatSidebarDropdownConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({SOUND:"sound",ADVANCED_SETTINGS:"advanced_settings",BLOCK_SETTINGS:"block_settings",TURN_OFF_DIALOG:"turn_off_dialog",CLOSE_ALL_TABS:"close_all_tabs",LOWER_ALL_TABS:"lower_all_tabs",TOGGLE_DISCOVER_BOTS:"toggle_discover_bots",SIDEBAR:"sidebar",HIDE_GROUPS:"hide_groups",ONLINE:"online",VIDEOCALL_ON:"videoon",VIDEOCALL_OFF:"videooff",PAUSE:"pause",SHOW_APPS:"show_apps",HIDE_APPS:"hide_apps",HIDE_MARKETPLACE:"hide_marketplace",SHOW_TICKER:"show_ticker",HIDE_TICKER:"hide_ticker",HIDE_ADMINED_PAGES:"hide_admined_pages",HIDE_BUSINESSES:"hide_businesses",EMOJI_SETTINGS:"emoji_settings",TURN_OFF_CHAT_TABS:"turn_off_chat_tabs",SOLID_REACTION:"solid_reaction"});f["default"]=a}),66);
__d("FBRTCDispatcher",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("Dispatcher_DEPRECATED"))();g["default"]=a}),98);
__d("FBRTCStore",["FBRTCDispatcher","FluxStore"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,c("FBRTCDispatcher"))||this}var d=b.prototype;d.__emitChange=function(){this.__emitter.emit(this.__changeEvent)};return b}(c("FluxStore"));a.__moduleID=f.id;g["default"]=a}),98);
__d("FBRTCCallBlockingStore",["Arbiter","AsyncRequest","Bootloader","ChannelConstants","FBRTCDispatcher","FBRTCStore","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i=0,j=null,k="call_block_setting_changed";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.init=function(a){this.$FBRTCCallBlockingStore1(a),c("Arbiter").subscribe(d("ChannelConstants").getArbiterType("videocall_block_setting"),this.$FBRTCCallBlockingStore2.bind(this))};e.__onDispatch=function(a){if(a.type!==k)return;this.$FBRTCCallBlockingStore1(a.data)};e.$FBRTCCallBlockingStore1=function(a){switch(a){case 0:h=!1;this.$FBRTCCallBlockingStore3();break;case-1:h=!0;this.$FBRTCCallBlockingStore3();break;default:h=!0,this.$FBRTCCallBlockingStore4(a)}this.__emitChange()};e.$FBRTCCallBlockingStore4=function(a){j===null&&(j=c("setTimeoutAcrossTransitions")(this.turnOnVideoCalling.bind(this),a*1e3))};e.getBlockingStatus=function(){return h};e.turnOnVideoCalling=function(){new(c("AsyncRequest"))("/ajax/chat/settings.php").setHandler(this.$FBRTCCallBlockingStore5.bind(this)).setData({call_blocked_until:0}).send()};e.turnOffVideoCalling=function(a){i=a,new(c("AsyncRequest"))("/ajax/chat/settings.php").setHandler(this.$FBRTCCallBlockingStore6.bind(this)).setData({call_blocked_until:a}).send()};e.$FBRTCCallBlockingStore3=function(){j&&(c("clearTimeout")(j),j=null)};e.$FBRTCCallBlockingStore5=function(){c("FBRTCDispatcher").dispatch({type:k,data:0}),c("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logCheckpoint({checkpoint:"rtc_enabled"})},"FBRTCCallBlockingStore")};e.$FBRTCCallBlockingStore6=function(){c("FBRTCDispatcher").dispatch({type:k,data:i}),c("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logCheckpoint({checkpoint:i===-1?"rtc_disabled_permanently":"rtc_disabled_temporarily"})},"FBRTCCallBlockingStore")};e.$FBRTCCallBlockingStore2=function(a,b){c("FBRTCDispatcher").dispatch({type:k,data:b.obj.value})};return b}(c("FBRTCStore"));b=new a();g["default"]=b}),98);
__d("ChatOptions",["Arbiter","ArbiterMixin","Bootloader","ChannelConstants","ChatOptionsInitialData","ChatSidebarActions","ChatSidebarDropdownConstants","FBRTCCallBlockingStore","PresenceUtil","mixin"],(function(a,b,c,d,e,f,g){var h={};(function(){var a=b("ChatOptionsInitialData");for(var d in a){var e=a[d];switch(d){case"call_blocked_until":c("FBRTCCallBlockingStore").init(e);break;case c("ChatSidebarDropdownConstants").TURN_OFF_CHAT_TABS:e!==-1&&(h[d]=!!e);break;default:h[d]=!!e}}})();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.getSetting=function(a){return h[a]};e.setSetting=function(a,b,e){if(a==="sidebar_mode"){c("Bootloader").loadModules(["ChatSidebarVisibility"],function(a){return a.shouldShowSidebarIgnoreEnabled(null,function(a,c){b?d("ChatSidebarActions").enable(a?"sidebar":"buddylist"):d("ChatSidebarActions").disable()})},"ChatOptions");return}if(this.getSetting(a)==b)return;h[a]=!!b;c("Arbiter").inform("chat/option-changed",{name:a,value:b})};return b}(c("mixin")(c("ArbiterMixin")));c("Arbiter").subscribe(d("ChannelConstants").getArbiterType("setting"),function(a,b){a=b.obj;if(a.window_id===d("PresenceUtil").getSessionID())return;i.setSetting(a.setting,!!a.value,"channel")});var i=new a();e=i;g["default"]=e}),98);
__d("ChatSidebarPreloadStore",["InitialChatFriendsList"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a({buddies:c("InitialChatFriendsList").list,groups:c("InitialChatFriendsList").groups,shortProfiles:c("InitialChatFriendsList").shortProfiles,nearby:c("InitialChatFriendsList").nearby,adminedPages:c("InitialChatFriendsList").adminedPages,marketplaceThreads:c("InitialChatFriendsList").marketplaceThreads,pageListModule:c("InitialChatFriendsList").pageListModule,pymmList:c("InitialChatFriendsList").pymmList||{},recentPageList:c("InitialChatFriendsList").recentPageList,profiles:[]})}g.onLoaded=a}),98);
__d("ChatProfileStore",["ChatSidebarPreloadStore"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(){d("ChatSidebarPreloadStore").onLoaded(function(a){var b=a.profiles,c=a.nearby;return b.filter(function(a){return!c||c.indexOf(a.id)===-1}).forEach(function(a){var b=new Date();b=a.birthdate&&b.getDate()===a.birthdate.day&&b.getMonth()+1===a.birthdate.month;var c=a.profile_picture&&a.profile_picture.uri?a.profile_picture.uri:null;h[a.id]={id:a.id,is_birthday:b,thumbSrc:c,name:a.name,is_messenger_only:!!a.is_messenger_only}})})}function b(a){return h[a]}g.init=a;g.get=b}),98);
__d("ChatSortUsers",["ShortProfiles","TokenizeUtil"],(function(a,b,c,d,e,f){var g={};function h(a){if(g[a])return g[a];var c=(b("ShortProfiles").getNow(a)||{}).name;return c?g[a]=b("TokenizeUtil").flatten(c):"~"}a={sortAlphabetical:function(a,b){a=h(a);b=h(b);return a!==b?a<b?-1:1:0}};e.exports=a}),null);
__d("ChatUnreadCountActionTypes",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({COUNT_UPDATED:null});g["default"]=a}),98);
__d("PresenceStatusStore",["ChatDispatcher","FluxStore","PresenceStatus","PresenceStatusActionTypes"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,c("ChatDispatcher"))||this}var d=b.prototype;d.__onDispatch=function(a){a=a.type;switch(a){case c("PresenceStatusActionTypes").AVAILABILITY_CHANGED:this.__emitChange();break;default:break}};d.get=function(a){return c("PresenceStatus").get(a)};d.getIsPlaying=function(a){return c("PresenceStatus").isPlayingCanvasGameUser(a)};return b}(c("FluxStore"));a.__moduleID=f.id;b=new a();g["default"]=b}),98);
__d("ShortProfilesActionTypes",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({PROFILE_UPDATED:null});g["default"]=a}),98);
__d("ShortProfilesStore",["ChatDispatcher","ChatProfileStore","FluxStore","ShortProfiles","ShortProfilesActionTypes"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this,c("ChatDispatcher"))||this;b.$ShortProfilesStore1=function(){c("ChatDispatcher").dispatch({type:c("ShortProfilesActionTypes").PROFILE_UPDATED})};return b}var e=b.prototype;e.__onDispatch=function(a){a=a.type;switch(a){case c("ShortProfilesActionTypes").PROFILE_UPDATED:this.__emitChange();break;default:break}};e.getNow=function(a){var b=d("ChatProfileStore").get(a);b||(b=d("ShortProfiles").getNow(a));return b};e.getMulti=function(a){d("ShortProfiles").getMulti(a,this.$ShortProfilesStore1)};return b}(c("FluxStore"));a.__moduleID=f.id;b=new a();g["default"]=b}),98);
__d("BCMPInsightsViews",[],(function(a,b,c,d,e,f){a=Object.freeze({PUBLISHED_BY_PARTNERS:"Published by partners",PUBLISHED_BY_YOU:"Published by you"});f["default"]=a}),66);
__d("PageContentTabTabs",[],(function(a,b,c,d,e,f){a=Object.freeze({CANDIDATE_VIDEOS:"CANDIDATE_VIDEOS",CHEX_PENDING_ORDERS:"CHEX_PENDING_ORDERS",CHEX_COMPLETED_ORDERS:"CHEX_COMPLETED_ORDERS",COMMERCE_PLATFORM_SETTINGS:"COMMERCE_PLATFORM_SETTINGS",COMMERCE_PRODUCTS:"COMMERCE_PRODUCTS",COMMERCE_COLLECTIONS:"COMMERCE_COLLECTIONS",COMMERCE_PENDING_ORDERS:"COMMERCE_PENDING_ORDERS",COMMERCE_PAST_ORDERS:"COMMERCE_PAST_ORDERS",COMMERCE_MERCHANT_SETTINGS:"COMMERCE_MERCHANT_SETTINGS",COMMERCE_SHOP_LINK:"COMMERCE_SHOP_LINK",DONATIONS_SETTINGS:"DONATIONS_SETTINGS",DRAFTS:"DRAFTS",REWARD_PROGRAM:"REWARD_PROGRAM",REWARD_PROGRAM_TRANSACTION_HISTORY:"REWARD_PROGRAM_TRANSACTION_HISTORY",REWARD_PROGRAM_COLLATERAL_MANAGEMENT:"REWARD_PROGRAM_COLLATERAL_MANAGEMENT",REWARD_PROGRAM_COMPLETE_SETUP:"REWARD_PROGRAM_COMPLETE_SETUP",EXPIRED_POSTS:"EXPIRED_POSTS",EXPIRING_POSTS:"EXPIRING_POSTS",HOME:"HOME",INSTANT_ARTICLES:"INSTANT_ARTICLES",INSTANT_ARTICLES_DEVELOPMENT:"INSTANT_ARTICLES_DEVELOPMENT",INSTANT_ARTICLES_MONETIZATION:"INSTANT_ARTICLES_MONETIZATION",INSTANT_ARTICLES_SAMPLE:"INSTANT_ARTICLES_SAMPLE",INSTANT_ARTICLES_SETTINGS:"INSTANT_ARTICLES_SETTINGS",INSTANT_ARTICLES_SIGN_UP:"INSTANT_ARTICLES_SIGN_UP",INSTANT_ARTICLES_CTA_MANAGEMENT:"INSTANT_ARTICLES_CTA_MANAGEMENT",INSTANT_ARTICLES_TRAFFIC_LIFT:"INSTANT_ARTICLES_TRAFFIC_LIFT",INVOICES_ACTIVE:"INVOICES_ACTIVE",INVOICES_HISTORY:"INVOICES_HISTORY",LEAD_ADS_DRAFT_FORMS:"LEAD_ADS_DRAFT_FORMS",LEAD_ADS_FORMS:"LEAD_ADS_FORMS",LEAD_ADS_CRM_SETUP:"LEAD_ADS_CRM_SETUP",LEAD_ADS_CUSTOM_CRM_SETUP:"LEAD_ADS_CUSTOM_CRM_SETUP",STORY_ARCHIVE:"STORY_ARCHIVE",POST_IDEAS:"POST_IDEAS",PUBLISHED_POSTS:"PUBLISHED_POSTS",SCHEDULED_POSTS:"SCHEDULED_POSTS",PUBLISHED_THREADS:"PUBLISHED_THREADS",CALENDAR:"CALENDAR",ADS_POSTS:"ADS_POSTS",VIDEOS:"VIDEOS",JOB_POSTS:"JOB_POSTS",NEW_MATCHES:"NEW_MATCHES",VIDEOS_COPYRIGHT:"VIDEOS_COPYRIGHT",REPORTED:"REPORTED",PLAYLISTS:"PLAYLISTS",PLAYLIST_DETAILS:"PLAYLIST_DETAILS",MANUAL_CLAIMS:"MANUAL_CLAIMS",MANUAL_CLAIM_FACEBOOK_VIDEOS:"MANUAL_CLAIM_FACEBOOK_VIDEOS",MANUAL_CLAIM_INSTAGRAM_VIDEOS:"MANUAL_CLAIM_INSTAGRAM_VIDEOS",POSTS_CONFIG:"POSTS_CONFIG",SEASONS:"SEASONS",SEASON_DETAILS:"SEASON_DETAILS",TAKEDOWNS:"TAKEDOWNS",UNSENT_REPORTS:"UNSENT_REPORTS",ALLOWED:"ALLOWED",TRACKED:"TRACKED",BLOCKED:"BLOCKED",CLAIMED:"CLAIMED",ALLOWLISTED:"ALLOWLISTED",INACTIVE_CLAIMS:"INACTIVE_CLAIMS",MANUAL_REVIEW:"MANUAL_REVIEW",MATCH_RULES:"MATCH_RULES",DISPUTES:"DISPUTES",PLANNER:"PLANNER",ACTIVE_FUNDRAISERS:"ACTIVE_FUNDRAISERS",DRAFT_FUNDRAISERS:"DRAFT_FUNDRAISERS",READY_FUNDRAISERS:"READY_FUNDRAISERS",ENDED_FUNDRAISERS:"ENDED_FUNDRAISERS",ADS_CANVAS:"ADS_CANVAS",REFERENCE_FILES:"REFERENCE_FILES",ALL_REFERENCE_FILES:"ALL_REFERENCE_FILES",REFERENCE_CONFLICTS:"REFERENCE_CONFLICTS",REFERENCE_RESOLUTIONS:"REFERENCE_RESOLUTIONS",SOUND_RECORDINGS:"SOUND_RECORDINGS",PREMIUM_MUSIC_VIDEOS:"PREMIUM_MUSIC_VIDEOS",LIVE_BROADCASTS:"LIVE_BROADCASTS",CROSSPOSTED_VIDEOS:"CROSSPOSTED_VIDEOS",PUBLISHED_PROFILE_PICTURE_FRAMES:"PUBLISHED_PROFILE_PICTURE_FRAMES",PENDING_PROFILE_PICTURE_FRAMES:"PENDING_PROFILE_PICTURE_FRAMES",PUBLISHED_EVENTS:"PUBLISHED_EVENTS",DRAFT_EVENTS:"DRAFT_EVENTS",SCHEDULED_EVENTS:"SCHEDULED_EVENTS",ARCHIVED_EVENTS:"ARCHIVED_EVENTS",TOURS:"TOURS",JOB_APPLICATIONS:"JOB_APPLICATIONS",NEWS_SUBSCRIPTIONS:"NEWS_SUBSCRIPTIONS",NEWS_SUBSCRIPTIONS_PUBLISHER_INSIGHTS:"NEWS_SUBSCRIPTIONS_PUBLISHER_INSIGHTS",NEWS_SUBSCRIPTIONS_PUBLISHER_TEST_USERS:"NEWS_SUBSCRIPTIONS_PUBLISHER_TEST_USERS",QR_CODE:"QR_CODE",ATTRIBUTIONS:"ATTRIBUTIONS",BRANDED_CONTENT:"BRANDED_CONTENT",BRANDED_CONTENT_CREATOR:"BRANDED_CONTENT_CREATOR",BRANDED_CONTENT_SUSPECTED:"BRANDED_CONTENT_SUSPECTED",BRANDED_CONTENT_ADS_TO_REVIEW:"BRANDED_CONTENT_ADS_TO_REVIEW",SOUNDS_COLLECTION:"SOUNDS_COLLECTION",CREATOR_STUDIO:"CREATOR_STUDIO",CONTENT_TESTS:"CONTENT_TESTS",GEM_PRODUCER_DASHBOARD:"GEM_PRODUCER_DASHBOARD",MONETIZED_VIDEOS:"MONETIZED_VIDEOS",AUDIO_RELEASES:"AUDIO_RELEASES",REGISTRATIONS:"REGISTRATIONS",IA_REGIWALL_SETTINGS:"IA_REGIWALL_SETTINGS",STREAMER_DASHBOARD:"STREAMER_DASHBOARD",CREATIVE_ASSETS:"CREATIVE_ASSETS",CREATOR_STUDIO_ALL_MATCHES:"CREATOR_STUDIO_ALL_MATCHES",CREATOR_STUDIO_TRACKED:"CREATOR_STUDIO_TRACKED",CREATOR_STUDIO_BLOCKED:"CREATOR_STUDIO_BLOCKED",CREATOR_STUDIO_COLLECT_AD_EARNINGS:"CREATOR_STUDIO_COLLECT_AD_EARNINGS",CREATOR_STUDIO_TAKEDOWNS:"CREATOR_STUDIO_TAKEDOWNS",CREATOR_STUDIO_DISPUTES:"CREATOR_STUDIO_DISPUTES",CREATOR_STUDIO_ALL_REFERENCE_FILES:"CREATOR_STUDIO_ALL_REFERENCE_FILES",CREATOR_STUDIO_REFERENCE_CONFLICTS:"CREATOR_STUDIO_REFERENCE_CONFLICTS",CREATOR_STUDIO_REFERENCE_RESOLUTIONS:"CREATOR_STUDIO_REFERENCE_RESOLUTIONS",CREATOR_STUDIO_PUBLISHED_TRACKED:"CREATOR_STUDIO_PUBLISHED_TRACKED",CREATOR_STUDIO_PUBLISHED_BLOCKED:"CREATOR_STUDIO_PUBLISHED_BLOCKED",CREATOR_STUDIO_PUBLISHED_MANUAL_REVIEW:"CREATOR_STUDIO_PUBLISHED_MANUAL_REVIEW",CREATOR_STUDIO_PUBLISHED_DISPUTES:"CREATOR_STUDIO_PUBLISHED_DISPUTES",CREATOR_STUDIO_PUBLISHED_ALL_REFERENCE_FILES:"CREATOR_STUDIO_PUBLISHED_ALL_REFERENCE_FILES",CREATOR_STUDIO_TAKEDOWN_REQUESTS:"CREATOR_STUDIO_TAKEDOWN_REQUESTS",RIGHTS_MANGER_SHARED_FILTER_BACKEND_ONLY:"RIGHTS_MANGER_SHARED_FILTER_BACKEND_ONLY"});f["default"]=a}),66);
__d("recollectParser",["DateTime","URI","getByPath"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b,d){b=b.length>0?a!=null&&typeof a==="object"&&c("getByPath")(a,b):a;return b==null?d?d.defaultValue:null:b},i=function(a,b){var c="";try{c="when parsing "+JSON.stringify(a)}catch(a){}return"Unexpected type of value at path "+b.toString()+" "+c},j=function(a,b,c){if(c===null)throw new Error(i(a,b));return c},k={array:function(a,b,c,d){a=h(a,b,d);return!Array.isArray(a)?null:a.map(function(a){try{return c(a)}catch(a){return null}}).filter(Boolean)},"boolean":function(a,b,c){a=h(a,b,c);return typeof a==="boolean"?a:null},dateTime:function(a,b,d){a=h(a,b,d);if(typeof a!=="number")return null;b=new(c("DateTime"))(a,0);return b instanceof c("DateTime")?b:null},"enum":function(a,b,c,d){a=h(a,b,d);b=Object.keys(c);for(d=0;d<b.length;d++)if(c[b[d]]===a)return c[b[d]];return null},fbid:function(a,b){a=h(a,b);return typeof a==="string"?a:null},number:function(a,b,c){a=h(a,b,c);return typeof a==="number"?a:null},string:function(a,b,c){a=h(a,b,c);return typeof a==="string"?a:null},uri:function(a,b,d){a=h(a,b,d);if(typeof a!=="string")return null;try{return new(c("URI"))(a)}catch(a){return null}}};a={array:function(a,b,c,d){return j(a,b,k.array(a,b,c,d))},"boolean":function(a,b,c){return j(a,b,k["boolean"](a,b,c))},dateTime:function(a,b,c){return j(a,b,k.dateTime(a,b,c))},"enum":function(a,b,c,d){return j(a,b,k["enum"](a,b,c,d))},fbid:function(a,b){return j(a,b,k.fbid(a,b))},number:function(a,b,c){return j(a,b,k.number(a,b,c))},string:function(a,b,c){return j(a,b,k.string(a,b,c))},uri:function(a,b,c){return j(a,b,k.uri(a,b,c))}};g.nullable=k;g.required=a}),98);
__d("MediaManagerClipsLibraryTab",[],(function(a,b,c,d,e,f){a=Object.freeze({CLIPS_BY_STREAM:"clips_by_stream",ALL_CLIPS:"all_clips",HIGHLIGHT_VIDEOS:"highlight_videos"});f["default"]=a}),66);
__d("MediaManagerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("ExplicitRegistrationReactDispatcher"))({strict:!0});g["default"]=a}),98);
__d("VideoCopyrightRuleActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({ALLOW:"ALLOW",MANUAL_REVIEW:"MANUAL_REVIEW",TRACK:"TRACK",BLOCK:"BLOCK",TAKEDOWN:"TAKEDOWN",MONETIZE:"MONETIZE",MUTE:"MUTE",ACQUIRE_VIEWS_AND_MONETIZE:"ACQUIRE_VIEWS_AND_MONETIZE"});f["default"]=a}),66);
__d("MediaManagerEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("308");b=d("FalcoLoggerInternal").create("media_manager_event",a);e=b;g["default"]=e}),98);
__d("VideoCopyrightSegmentSource",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:"UNKNOWN",REFERENCE_CONFLICT:"REFERENCE_CONFLICT",POPULAR_MATCHES:"POPULAR_MATCHES",PUBLISHER_DEFINED:"PUBLISHER_DEFINED",AM_MUTING:"AM_MUTING",RIDGE_MATCHES:"RIDGE_MATCHES",PAUSE_LIVE_MONITORING:"PAUSE_LIVE_MONITORING",LABEL_MUTED:"LABEL_MUTED",PUBLISHER_MUTED:"PUBLISHER_MUTED",MUSIC_RESTRICTION_MUTED_STILL_VIDEO:"MUSIC_RESTRICTION_MUTED_STILL_VIDEO",MUSIC_RESTRICTION_MUTED_MULTI_TRACK:"MUSIC_RESTRICTION_MUTED_MULTI_TRACK",AUDIO_LIBRARY_USAGE:"AUDIO_LIBRARY_USAGE",INTERNAL_OPS_REVIEW:"INTERNAL_OPS_REVIEW",MELODY:"MELODY",INELIGIBLE_CONTENT:"INELIGIBLE_CONTENT"});f["default"]=a}),66);
__d("RelayWebHistoryEntryLite",["getScrollPosition"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a,this.$2=null,this.$3=new Map()}var b=a.prototype;b.unmount=function(){this.$2=c("getScrollPosition")(window).y};b.getRoute=function(){return this.$1};b.getScrollY=function(){return this.$2};b.addVariables=function(a,b){this.$3.set(b,babelHelpers["extends"]({},a))};b.getVariables=function(a){return this.$3.has(a)?babelHelpers["extends"]({},this.$3.get(a)):null};b.hasVariables=function(){return this.$3.size>0};return a}();g["default"]=a}),98);
__d("RelayWebHistoryLite",["invariant","EventListener","ExecutionEnvironment","RelayRouterLite","RelayWebHistoryEntryLite","ReloadPage","SubscriptionList","URI"],(function(a,b,c,d,e,f,g,h){"use strict";var i="Facebook",j=-1,k=!1,l=[],m=new(c("SubscriptionList"))();c("ExecutionEnvironment").canUseEventListeners&&c("EventListener").listen(window,"popstate",function(a){if(!k)k=!0;else if(n()){r().unmount();var b=new(c("URI"))(window.location.href);a=a.state&&a.state.index||0;if(!l[a]){b=d("RelayRouterLite").getRoute(b);if(b)l[a]=new(c("RelayWebHistoryEntryLite"))(b);else{d("ReloadPage").now();return}}j=a;m.fireCallbacks(r())}});function n(){return j>=0}function o(){n()||h(0,4812)}function p(a,b,d){l[b]=new(c("RelayWebHistoryEntryLite"))(d);j=b;d=new(c("URI"))(d.uri).getUnqualifiedURI();a.call(window.history,{index:b},i,d.toString());k=!0}function a(a){n()&&h(0,4813);if(c("ExecutionEnvironment").canUseDOM){var b=window.history;b&&b.pushState||h(0,4814);j=b.state&&b.state.index||0}else j=0;l[j]=new(c("RelayWebHistoryEntryLite"))(a)}function b(a){return m.add(a)}function e(a){o();if(a.uri&&a.uri.toString()===window.location.href)return;r().unmount();l.length=j+1;p(window.history.pushState,j+1,a)}function f(a){o(),p(window.history.replaceState,j,a)}function q(){o(),t()&&window.history.back()}function r(){o();var a=l[j];a||h(0,4815,j);return a}function s(){o();return l[j-1]}function t(){return j>0}function u(){return{stack:l,index:j}}g.initialize=a;g.addPopStateListener=b;g.pushRoute=e;g.replaceRoute=f;g.requestPopRoute=q;g.getCurrentEntry=r;g.getPreviousEntry=s;g.hasPreviousEntries=t;g.__debug=u}),98);
__d("RelayWebBootloaderLite",["CSRFGuard","DTSG","DliteBootloadConfig","DliteSessionConfig","HasteResponse","RelayAPIConfig","RelayAPIRequest","XRelayBootloadController","clearImmediate","dliteRoot","err","forceSubdomain","getAsyncParams","getCrossOriginTransport","setImmediate"],(function(a,b,c,d,e,f){"use strict";var g={},h={load:function(a,c,d){var e=d.onFailure,f=d.onLoading,g=d.onSuccess;if(h.isLoaded(a)){var j=b("setImmediate")(g);return{abort:function(){b("clearImmediate")(j)}}}f&&f();return i(a,c,{onSuccess:function(){h.setLoaded(a),g&&g()},onFailure:function(a){e&&e(a)}})},isLoaded:function(a){return!!g[a.name]},setLoaded:function(a){g[a.name]=!0}};function i(a,c,d){var e=d.onFailure,f=d.onSuccess,g=b("dliteRoot").toString_DO_NOT_USE(c);d=b("forceSubdomain")(b("XRelayBootloadController").getURIBuilder().setString("component",g).setString("route",a.name).setString("uri",a.uri&&a.uri.toString()).getURI(),b("DliteBootloadConfig").subdomain);var h=!1,i=!1;function k(){i||(i=!0,f&&f())}function l(a){h||i||(i=!0,e&&e(a))}return new(b("RelayAPIRequest"))(d,b("RelayAPIConfig").retryDelays,b("RelayAPIConfig").fetchTimeout).setMethod("GET").setData(b("getAsyncParams")("GET")).setTransportBuilder(b("getCrossOriginTransport").withCredentials).setResponseFilter(b("CSRFGuard").clean).setResponseChunkHandler(function(c){var d;try{d=JSON.parse(c)}catch(a){l(a);return}for(c in d)if(Object.prototype.hasOwnProperty.call(d,c)){var e=d[c];switch(c){case"resources":h=!0;b("HasteResponse").handle(e,{source:"relay_web_bl_lite",sourceDetail:g+":"+a.name,onAll:function(){return k()}});break;case"error":if(j(e)){var f=d.error,i=d.errorSummary;f=new Error("Error "+f+": "+i);f.name="LoggedOutError";f.type="mustfix";l(f);break}i=e.name;f=e.message;l(b("err")("Bootload server error %s: %s",i,f));break;case"dtsgToken":e&&b("DTSG").setToken(e);break;default:l(b("err")("Unexpected bootload response: %s",c));break}}}).setErrorHandler(function(a){l(b("err")("Bootload XHR error %s: %s %s",a.errorType,a.errorCode,a.errorMsg))}).setTimeoutHandler(function(){l(new Error("Bootload request timed out."))}).send()}function j(a){return typeof a.error==="number"&&b("DliteSessionConfig").loggedOutErrorCodes.includes(a.error)}e.exports=h}),null);
__d("RelayWebRouteContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext();c=b;g["default"]=c}),98);
__d("RelayWebWrapper.react",["RelayWebRouteContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.componentDidMount=function(){this.props.onRender&&this.props.onRender()};d.render=function(){var a=this.props,b=a.Container,d=a.route;a=a.isLoading;return h.jsx(c("RelayWebRouteContext").Provider,{value:d,children:h.jsx(b,{isLoading:!!a})})};return b}(h.Component);g["default"]=a}),98);
__d("RelayWebClientLite",["invariant","FBLogger","ReactDOMComet","ReactDOMLegacy_DEPRECATED","RelayWebBootloaderLite","RelayWebWrapper.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(){function a(a,b){this.$1=a,this.$3=null,this.$4=null,b!=="legacy"&&b!=="modern"&&c("FBLogger")("react","relay-web-client-lite").warn('RelayWebClientLite initialized without reactRenderMode, should be one of "modern" or "legacy"'),this.$2=b==="modern"?d("ReactDOMComet").createRoot(a):null}var b=a.prototype;b.render=function(a){var b=this,e=a.Container,f=a.route,g=a.onRender;a=j(e);var h=function(){var a=b.$3;if(!a)return;b.$2!=null?b.$2.render(i.jsx(c("RelayWebWrapper.react"),{route:a,Container:e,isLoading:!0})):d("ReactDOMLegacy_DEPRECATED").render(i.jsx(c("RelayWebWrapper.react"),{route:a,Container:e,isLoading:!0}),b.$1,"RelayWebClientLite.js")};this.$4&&this.$4.abort();this.$4=d("RelayWebBootloaderLite").load(f,a,{onFailure:function(a){throw a},onLoading:function(){h()},onSuccess:function(){b.$3=f,b.$2!=null?b.$2.render(i.jsx(c("RelayWebWrapper.react"),{route:f,Container:e,onRender:g})):d("ReactDOMLegacy_DEPRECATED").render(i.jsx(c("RelayWebWrapper.react"),{route:f,Container:e,onRender:g}),b.$1,"RelayWebClientLite.js")}})};b.unmount=function(){if(!this.$4)return;this.$4.abort();this.$4=null;this.$2?this.$2.unmount():d("ReactDOMLegacy_DEPRECATED").unmountComponentAtNode(this.$1,f.id)};return a}();function j(a){a.moduleName&&b.call(null,a.moduleName)===a||h(0,6023,a.displayName);return a.moduleName}g["default"]=a}),98);
__d("RelayWebBeforeNavigationLite",["EventListener","ExecutionEnvironment","SubscriptionList"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new(c("SubscriptionList"))(d,e);function a(a){return i.add(a)}function b(){var a=j();return a==null||window.confirm(a)}function j(){var a=i.getCallbacks();for(var b=0;b<a.length;b++){var c=a[b]();if(c!=null)return c.toString()}return null}function d(){if(!c("ExecutionEnvironment").canUseDOM)return;h=c("EventListener").listen(window,"beforeunload",function(a){var b=j();b!==null&&(a.returnValue=b)})}function e(){h&&h.remove(),h=null}g.addListener=a;g.shouldTransition=b}),98);
__d("RelayWebVariableCacheLite",[],(function(a,b,c,d,e,f){"use strict";var g;function a(a){g=a}function b(a,b){g&&g().addVariables(b,a)}function c(a){if(g){var b=g();if(b.hasVariables())return b.getVariables(a)}return null}f.injectStorageStrategy=a;f.set=b;f.get=c}),66);
__d("RelayWebRouterLite",["invariant","EventListener","Parent","RelayRouterLite","RelayWebBeforeNavigationLite","RelayWebHistoryLite","RelayWebVariableCacheLite","SubscriptionList","URI","serializeFormQueryMap"],(function(a,b,c,d,e,f,g,h){"use strict";var i=Object.freeze({});a=function(){function a(a){var b=this;this.$1=new(c("SubscriptionList"))();this.$2=function(){return!1};this.$3=d("RelayRouterLite").getRoute;d("RelayWebHistoryLite").initialize(a);d("RelayWebVariableCacheLite").injectStorageStrategy(d("RelayWebHistoryLite").getCurrentEntry);d("RelayWebHistoryLite").addPopStateListener(function(a){return b.$4(a.getRoute(),function(a){b.$5(a,i)})});j("click",function(a){a=a.target;if(!(a instanceof Node))return null;a=d("Parent").byTag(a,"a");return a instanceof HTMLAnchorElement?a:null},function(a,c){return b.$6(a,c)});j("submit",function(a){a=a.target;if(!(a instanceof Node))return null;a=d("Parent").byTag(a,"form");return a instanceof HTMLFormElement?a:null},function(a,c){return b.$7(a,c)})}var b=a.prototype;b.addRouteChangeListener=function(a){return this.$1.add(a)};b.setRouteMapper=function(a){this.$3=a;return this};b.setRouteHandler=function(a){this.$2=a;return this};b.pushRoute=function(a,b){var c=this;b===void 0&&(b=i);this.$4(a,function(a){d("RelayWebHistoryLite").pushRoute(a),c.$5(a,b)});return this};b.replaceRoute=function(a,b){var c=this;b===void 0&&(b=i);this.$4(a,function(a){d("RelayWebHistoryLite").replaceRoute(a),c.$5(a,b)});return this};b.replaceFragment=function(a){d("RelayWebHistoryLite").replaceRoute(this.$8(a));return this};b.setFragment=function(a){d("RelayWebHistoryLite").pushRoute(this.$8(a));return this};b.$8=function(a){var b=d("RelayWebHistoryLite").getCurrentEntry().getRoute();b=new(c("URI"))(b.uri);b.setFragment(a);a=this.$3(b);a||h(0,6149,b);return a};b.$6=function(a,b){if(!b.href||b.target&&b.target!=="_self")return;!a.shiftKey&&!a.ctrlKey&&!a.metaKey&&a.which!==2&&a.button!==4&&this.handleURITransition(a,new(c("URI"))(b.href))};b.$7=function(a,b){b.action&&b.method==="get"&&this.handleURITransition(a,new(c("URI"))(b.action).addQueryData(c("serializeFormQueryMap")(b)))};b.handleURITransition=function(a,b){b=this.$3(b);if(!b||this.$2(b))return;a.preventDefault();this.pushRoute(b)};b.$4=function(a,b){var c=d("RelayWebHistoryLite").getCurrentEntry().getRoute();(c===a||d("RelayWebBeforeNavigationLite").shouldTransition())&&b(a)};b.$5=function(a,b){this.$1.fireCallbacks({nextRoute:a,options:b})};return a}();function j(a,b,d){var e;c("EventListener").capture(document,a,function(a){e=b(a)});c("EventListener").registerDefault(a,function(a){if(!e)return;a.defaultPrevented||d(a,e);e=void 0})}g["default"]=a}),98);
__d("RelayWebScrollPositionLite",["RelayWebHistoryLite"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a,b=window.location.hash.substr(1);b&&(a=document.getElementById(b)||document.getElementsByName(b)[0]);i(a,0)}function a(){var a=d("RelayWebHistoryLite").getCurrentEntry();a&&a.getScrollY()?i(null,a.getScrollY()):h()}function i(a,b){a?a.scrollIntoView(!0):window.scrollTo(0,b||0)}g.reset=h;g.restore=a}),98);
__d("RelayWebLite",["Promise","RelayRouterLite","RelayWebBootloaderLite","RelayWebClientLite","RelayWebRouterLite","RelayWebScrollPositionLite","Run","promiseDone","replaceNativeTimer","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";var h;b("replaceNativeTimer");var i=new Map(),j,k=new(h||(h=b("Promise")))(function(a){j=function(b){j=null,a(new(c("RelayWebRouterLite"))(b))}}),l;function m(a,d){var e=i.get(a);e||(e=(h||(h=b("Promise"))).resolve(new(c("RelayWebClientLite"))(a,d)),i.set(a,e));return e}function n(){return k}function a(a){var e=a.Container,f=a.mountNode,g=a.route;a=a.reactRenderMode;d("RelayWebBootloaderLite").setLoaded(g);d("RelayRouterLite").addRoute(g.constructor);j&&j(g);c("promiseDone")((h||(h=b("Promise"))).all([m(f,a),n()]),function(a){var b=a[0];a=a[1];b.unmount();function f(a,c){b.render({Container:e,route:a,onRender:c.onMount})}l&&l.remove();l=a.addRouteChangeListener(function(a){f(a.nextRoute,{onMount:function(){c("setImmediate")(function(){return d("RelayWebScrollPositionLite").restore()})}})});f(g,{onMount:function(){d("RelayWebScrollPositionLite").reset()}});d("Run").onLeave(function(){b.unmount()})})}g.getClient=m;g.getRouter=n;g.bootstrap=a}),98);
__d("XCometPageEventsTabControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/events/",Object.freeze({ref:""}),void 0);b=a;g["default"]=b}),98);
__d("XPagesManagerPublishingToolsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/publishing_tools/",{privacy_mutation_token:{type:"String"},business_id:{type:"Int"},page_token:{type:"String",required:!0},current_page:{type:"Int"},section:{type:"String"},source:{type:"Enum",enumType:1},sourceID:{type:"String"},refSource:{type:"Enum",enumType:1},initial_action_data:{type:"StringToStringMap"},initial_data:{type:"StringToStringMap"},modal:{type:"Enum",enumType:1}})}),null);
__d("XPagesManagerInsightsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/insights/",{privacy_mutation_token:{type:"String"},business_id:{type:"Int"},page_token:{type:"String",required:!0},event_id:{type:"FBID"},section:{type:"String"},referrer:{type:"String"},campaign_group_id:{type:"Int"},acontext:{type:"String"},coupon_offer:{type:"Int"},coupon_product:{type:"String"},initial_tab:{type:"String"},bc_auto_shown_tagged_post_id:{type:"FBID"},tipID:{type:"String"},ndid:{type:"String"},no_redirect:{type:"String"}})}),null);
__d("XCometSettingsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/settings/",Object.freeze({show_dialog:!1,show_recommendable_nux:!1}),void 0);b=a;g["default"]=b}),98);
__d("NotificationJewelHeaderController",["CreatorStudioLoggerStoreUtils","DOM","Event","MediaManagerUtils","NotificationSeenState","NotificationUpdates","NotificationUserActions"],(function(a,b,c,d,e,f,g){a=function(a,b,e,f){f===void 0&&(f=null),c("Event").listen(a,"click",function(){d("NotificationUserActions").markAllNotificationsAsRead(e,f),d("MediaManagerUtils").isMediaManagerApp()&&d("CreatorStudioLoggerStoreUtils").creatorStudioSafelyLogEvent("mark_all_as_read","jewel_notification_tray")}),d("NotificationUpdates").subscribe("read-state-updated",function(){b&&c("DOM").setContent(b,c("NotificationSeenState").getUnreadCount())})};g["default"]=a}),98);
__d("WorkForeignEntityInfo.bs",["CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(!(a==null)&&a.type!=="NOT_FOREIGN")return a.type==="LIMITED";else return!0}function i(a){if(c("CurrentUser").isWorkUser())return h(a.work_foreign_entity_info);else return!1}function a(a){if(c("CurrentUser").isWorkUser())return h(a.workForeignEntityInfo);else return!1}function b(a){if(c("CurrentUser").isWorkUser())return a.every(function(a,b,c){if(a==null)return!0;else return i(a)});else return!1}g.isNotForeign=h;g.isCoworker=i;g.isContactCoworker=a;g.areAllCoworkers=b}),98);
__d("SRXUIBadge.react",["cx","invariant","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.isInt=function(a){return parseInt(a,10)===a};d.render=function(){var a=this.props.count,b=this.props.maxcount;b==null&&(b=20);this.isInt(a)||i(0,186);this.isInt(b)||i(0,187);var d="_5ugh _5ugf _51lp"+(a>b?" _51lr":"")+(a===0?" hidden_elem":"");return j.jsx("span",{className:c("joinClasses")(this.props.className,d),children:a>b?b:a})};return b}(j.Component);g["default"]=a}),98);
__d("ZenonSDESKeyDetector",[],(function(a,b,c,d,e,f){"use strict";var g=/inline:\s*[0-9a-zA-z+/]{40}(\b|\s|$)/;function a(a){return g.test(JSON.stringify(a))}f["default"]=a}),66);
__d("RtcWebUserActionsDebugFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744337");b=d("FalcoLoggerInternal").create("rtc_web_user_actions_debug",a);e=b;g["default"]=e}),98);
__d("RtcWebUserActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744338");b=d("FalcoLoggerInternal").create("rtc_web_user_actions",a);e=b;g["default"]=e}),98);
__d("ZenonAuditedCheckpointLogId",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["RP_ROOMS_INFRA_WWW__E2EE","RP_ROOMS_INFRA_WWW__WASM","RP_ROOMS_INFRA_WWW__LOGGER_INFRA","RP_ROOMS_INFRA_WWW__STATE_MACHINE","RP_ROOMS_INFRA_WWW__ERROR"]);c=a;f["default"]=c}),66);
__d("RpWebInfraActionsLoggerEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744334");b=d("FalcoLoggerInternal").create("rp_web_infra_actions_logger_event",a);e=b;g["default"]=e}),98);
__d("ZenonInfraActionsLogger",["Log","RpWebInfraActionsLoggerEventFalcoEvent","ZenonAuditedCheckpointLogId","formatDate","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={callTrigger:void 0,conferenceName:void 0,deviceID:void 0,mediaPath:"sfu",peerID:void 0,serverInfoData:void 0,signalingID:void 0},this.$2=new Set(),this.$3=new Map(),this.$4=new Map()}var b=a.prototype;b.updateCachedValues=function(a){Object.assign(this.$1,a)};b.setE2eeIsMandatedForCall=function(a){this.$3.set(a,!0)};b.logCheckpointEmployeesTestUsersOnly=function(a){if(!c("gkx")("2890")&&!c("gkx")("6954"))return;this.logCheckpoint(a)};b.logCheckpoint=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$2.has(b)||(this.$2.add(b),this.logCheckpoint(a))};b.logError=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.startTimer=function(a){var b=Date.now();this.$4.set(a,b);this.logEvent({checkpoint:a+"_timerStart"})};b.stopTimer=function(a){var b=this.$4.get(a);this.$4["delete"](a);b=b!=null?Date.now()-b:null;this.logEvent({checkpoint:a+"_timerEnd",eventTimeElapsed:b});return parseInt(b,10)};b.logEvent=function(a){var b;if(c("justknobx")._("854"))return;b=(b=this.$3.get((b=this.$1.signalingID)!=null?b:""))!=null?b:!1;if(b&&!c("justknobx")._("1021"))return;if(b&&a.auditId==null){b="Encountered an unaudited log line, dropping it.";a.error!=null?this.logEvent({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__LOGGER_INFRA,error:b}):this.logEvent({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__LOGGER_INFRA,checkpoint:b});return}if(((b=a.checkpoint)==null?void 0:b.length)!=null&&a.checkpoint.length>3e5)return;var d={call_id:(b=a.signalingID)!=null?b:this.$1.signalingID==null?void 0:String(this.$1.signalingID),call_trigger:this.$1.callTrigger,call_type:(b=a.callType)!=null?b:null,checkpoint:a.checkpoint,client_session_id:this.$1.signalingID,client_time:Date.now().toString(),conference_name:(b=a.conferenceName)!=null?b:this.$1.conferenceName,connection:(b=a.connectionState)!=null?b:this.$1.connectionState,device_id:this.$1.deviceID,error:a.error,error_domain:a.errorDomain,event_time_elapsed:(b=a.eventTimeElapsed)==null?void 0:b.toString(),is_caller:(b=a.isCaller)!=null?b:null,media_path:(b=a.mediaPath)!=null?b:this.$1.mediaPath,message_id:a.messageID,peer_connection:(b=a.peerConnectionState)!=null?b:this.$1.peerConnectionState,peer_id:this.$1.peerID,sdp_format:(b=a.sdpFormat)!=null?b:null,server_info_data:(b=a.serverInfoData)!=null?b:this.$1.serverInfoData,signaling:(b=a.signalingState)!=null?b:this.$1.signalingState,state_machine_id:a.stateMachineID};c("RpWebInfraActionsLoggerEventFalcoEvent").log(function(){return d})};return a}();b=new a();g["default"]=b}),98);
__d("ZenonMachineToQPLEvent",["qpl"],(function(a,b,c,d,e,f,g){"use strict";a={ConnectionStateMachine:c("qpl")._(64243854,"2452"),ParentSignalingClient:c("qpl")._(64234815,"1094"),PeerConnectionStateMachine:c("qpl")._(64239068,"6172"),SignalingStateMachine:c("qpl")._(64245348,"8823")};g["default"]=a}),98);
__d("ZenonODSLogger",["ODS"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.logCounter=function(a){d("ODS").bumpEntityKey(4083,"zenon_multiway",a),d("ODS").flush()};b.logE2eeCounter=function(a){d("ODS").bumpEntityKey(4083,"zenon_e2ee",a),d("ODS").flush()};return a}();b=new a();g["default"]=b}),98);
__d("ZenonDebugLogger",["ChannelClientID","CurrentUser","FBLogger","IGDWebUtils","Log","LogHistory","ODS","QuickLogActionType","QuickPerformanceLogger","RpWebStateMachineLoggingBlocklist","UserAgentData","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonMachineToQPLEvent","ZenonODSLogger","formatDate","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=null;a=function(){a.getInstance=function(){h||(h=new a());return h};a.getFBLogger=function(a){var b;a===void 0&&(a={});return c("FBLogger")("rpweb").addMetadata("RT_WEB","CALL_ID",""+((b=a.signalingID)!=null?b:"null")).addMetadata("RT_WEB","PEER_ID",""+((b=a.peerID)!=null?b:"null"))};function a(){this.$1=d("LogHistory").getInstance("webrtc");this.$2=d("ChannelClientID").getID();this.$3=JSON.stringify({browser:c("UserAgentData").browserName,browser_version:c("UserAgentData").browserFullVersion,device:c("UserAgentData").deviceName,msg_source:"web",os:c("UserAgentData").platformName,os_version:c("UserAgentData").platformFullVersion,version:2});var a=c("CurrentUser").getAppID();a!=null&&d("IGDWebUtils").isInstagramWebSupportedApp(Number(a))?this.$4=parseInt(a,10):this.$4=219994525426954;this.$5=new Set(c("RpWebStateMachineLoggingBlocklist").EVENT_TYPES);this.$6=new Set(c("RpWebStateMachineLoggingBlocklist").STATES)}var b=a.prototype;b.$7=function(a,b,d){b===void 0&&(b=!0);var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a);b&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] "+a,messageID:d})};b.$8=function(a,b,d){var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a+". StateMachineID:  "+((e=b)!=null?e:""));e={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:"[ZP] "+a+".",stateMachineID:b};d!=null&&(e.messageID=d);c("ZenonInfraActionsLogger").logCheckpoint(e)};b.$9=function(a,b,d,e){e===void 0&&(e=0);a=c("ZenonMachineToQPLEvent")==null?void 0:c("ZenonMachineToQPLEvent")[a];if(!a||!c("QuickPerformanceLogger")||!c("QuickLogActionType"))return;d==="terminated"?c("QuickPerformanceLogger").markerEnd(a,2,e):c("QuickPerformanceLogger").markerPoint(a,b,{data:{string:{data:d}},instanceKey:e})};b.$10=function(a){return isNaN(+a)?0:+a};b.$11=function(){return c("gkx")("2890")||c("gkx")("6954")};b.getLogHistory=function(){return this.$1};b.logStateMachine=function(a,b,d,e,f){if(!this.$11())return;if(this.$5.has(d))return;var g="["+a+"] [Current State: "+b+"] Processing event: "+d;g={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:""+g,stateMachineID:e};f!=null&&(g.messageID=f);c("ZenonInfraActionsLogger").logCheckpoint(g);this.$9(a,d,b,this.$10(e))};b.logStateMachineTransition=function(a,b,c,d,e,f,g,h){if(this.$6.has(c)||this.$5.has(e))return;if(!this.$11())return;var i="";f!=null&&f.length===1&&f[0].type==="defer"?i="["+a+"] [[DEFERRED] "+e+" did not trigger transition. Current state remains "+c:c!==d?i="["+a+"] [[PROCESSED] "+e+" caused transition from "+(d||"")+" to "+c+".":b?i="["+a+"] [[PROCESSED] "+e+" did not trigger transition. Current state remains "+c:(i="["+a+"] [[DROPPED] "+e+" did not trigger transition. Current state remains "+c,this.$12(a));this.$8(i,g,h)};b.startQPL=function(a,b){b===void 0&&(b=0),c("QuickPerformanceLogger")&&c("QuickPerformanceLogger").markerStart(a,this.$10(b))};b.endQPL=function(a,b){b===void 0&&(b=0),c("QuickPerformanceLogger")&&c("QuickLogActionType")&&c("QuickPerformanceLogger").markerEnd(a,2,this.$10(b))};b.logConsole=function(a){this.$7(a,!1)};b.logMQTTStateChange=function(a){var b="mqtt_client_state_"+a;c("ZenonODSLogger").logCounter(b);this.$11()&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] onMQTTStateChanged: "+a+", document.visibility: "+document.visibilityState+", document.hasFocus: "+String(document.hasFocus())+", navigator.onLine: "+String(navigator.onLine)})};b.logMQTTConnectStats=function(a,b){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] MQTT Connection time: "+String(a)+"ms, Retry Count: "+String(b)})};b.$12=function(a){d("ODS").bumpEntityKey(4083,"zenon_state_machine",a+"_event_dropped"),d("ODS").flush()};return a}();g["default"]=a}),98);
__d("ZenonUserActionLogger",["RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ZenonDebugLogger","ZenonSDESKeyDetector","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=window.location.hostname.search("facebook")!==-1?"facebook":window.location.hostname.search("messenger")!==-1?"messenger_dot_com":null,j={logCheckpoint:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"checkpoint"}))},logClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logError:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"error"}))},logEvent:function(a){var b;if(c("ZenonSDESKeyDetector")(a))throw c("unrecoverableViolation")("ZenonUserActionLogger event contains SDES crypto key! This log entry must be removed!","rtc_www");b=babelHelpers["extends"]({},a,{page:(b=a.page)!=null?b:i});var d=babelHelpers["extends"]({},b,{client_time:Date.now().toString()});c("RtcWebUserActionsDebugFalcoEvent").log(function(){return d});c("RtcWebUserActionsFalcoEvent").log(function(){return d});c("ZenonDebugLogger").getInstance().getLogHistory().log((a=a.event)!=null?a:"null",JSON.stringify(b))},logImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},logPreCallClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logPreCallImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},startTimer:function(a){var b=Date.now();h=h.set(a,b);j.logCheckpoint({checkpoint:a+"_timerStart"})},stopTimer:function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{},d=function(a){var b=h.get(a);if(b!=null){h["delete"](a);return parseInt(Date.now()-b,10)}return null};d=d(a.timerName);j.logCheckpoint(babelHelpers["extends"]({},c,{checkpoint:b+"_timerEnd",event_time_elapsed:d==null?void 0:d.toString()}));return parseInt(d,10)}};f.exports=j}),34);
__d("ZenonLoggingEventTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Send","Receive"]);c=b("$InternalEnum")({Primary:"primary",Secondary:"secondary"});d="rtc_www";f.ZenonUpdateIceInfoDirection=a;f.ZenonJoinMode=c;f.tslogSource=d}),66);
__d("ZenonPeerID",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i="MW_PEER_ID";function a(a){a.length>0||h(0,33504);if(a==="MW_PEER_ID")return i;isNaN(a)===!1||h(0,33551,a);return a}function b(a){return isNaN(a)||a===i?null:a}g.ZenonMWPeerID=i;g.convertStringToPeerID=a;g.convertPeerIDForLogging=b}),98);
__d("RequiredFormListener",["Event","Input"],(function(a,b,c,d,e,f,g){c("Event").listen(document.documentElement,"submit",function(a){a=a.getTarget();if(a.getAttribute("novalidate"))return!0;a=a.getElementsByTagName("*");for(var b=0;b<a.length;b++)if(a[b].getAttribute("required")&&d("Input").isEmpty(a[b])){a[b].focus();return!1}},c("Event").Priority.URGENT)}),34);
__d("FantaConst",[],(function(a,b,c,d,e,f){"use strict";b=2;c=10;var g={PERSONAL_COOKIE_ID:"t3",PERSONAL_FOCUS_COOKIE_ID:"lm3",PERSONAL_TIME_COOKIE_ID:"utc3",WORK_COOKIE_ID:"t3w",WORK_FOCUS_COOKIE_ID:"lm3w",WORK_TIME_COOKIE_ID:"utc3w"};function a(){return[g.PERSONAL_COOKIE_ID,g.PERSONAL_FOCUS_COOKIE_ID,g.PERSONAL_TIME_COOKIE_ID,g.WORK_COOKIE_ID,g.WORK_FOCUS_COOKIE_ID,g.WORK_TIME_COOKIE_ID]}f.DEFAULT_ALLOWED_RAISED_TABS=b;f.DEFAULT_MESSAGE_COUNT=c;f.cookieIDs=g;f.getCookieIDs=a}),66);
__d("PresenceState",["ErrorUtils","FantaConst","PresenceCookieManager","PresenceInitialData","debounceAcrossTransitions","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=c("PresenceInitialData").cookiePollInterval||2e3,i=c("PresenceInitialData").shouldSuppress||!1,j=[],k=[],l=null,m=null,n=0,o=null,p=0,q=["sb2","tr","tw","at","wml"].concat(d("FantaConst").getCookieIDs());function r(){return d("PresenceCookieManager").getSubCookie("state")}function s(){n=Date.now(),d("PresenceCookieManager").store(),w(m)}var t=c("debounceAcrossTransitions")(s,0);function u(a){(a==null||isNaN(a)||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)&&(a=0);return a}function v(a){var b={};a&&q.forEach(function(c){a&&a[c]&&(b[c]=a[c])});b.ut=n;for(var d=0,e=j.length;d<e;d++)c("ErrorUtils").applyWithGuard(j[d],null,[b]);m=b;return m}function w(a){p++;n=u(a&&a.ut);l||(l=c("setIntervalAcrossTransitions")(z,h));m=a;o===null&&(o=a);for(var b=0,d=k.length;b<d;b++)c("ErrorUtils").applyWithGuard(k[b],null,[a]);p--}function x(a){return a&&a.ut&&n<a.ut?!0:!1}function y(){var a=r();x(a)&&(m=a);return m}function z(){var a=r();x(a)&&w(a)}d("PresenceCookieManager").register("state",v);(function(){var a=y();if(a)w(a);else{w(v());return}})();function a(a){if(p)return;a?s():t()}function b(a){j.push(a)}function e(a){k.push(a)}function f(){return y()}function A(){return o}function B(){return i}g.verifyNumber=u;g.doSync=a;g.registerStateStorer=b;g.registerStateLoader=e;g.get=f;g.getInitial=A;g.shouldSuppress=B}),98);
__d("ChatPerfInstrumentation",["BaseEventEmitter","ChatPerfTypedLogger","CurrentUser","FantaConst","PresenceState","Promise","emptyFunction","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";var g,h;a=b("CurrentUser").isWorkUser();c=a?b("FantaConst").cookieIDs.WORK_COOKIE_ID:b("FantaConst").cookieIDs.PERSONAL_COOKIE_ID;d=b("PresenceState").getInitial();var i=d&&d[c]?d[c].length:0,j,k={_startTime:Number,_sidebarStartTime:Number,init:function(){k._startTime=(g||(g=b("performanceAbsoluteNow")))();return new(h||(h=b("Promise")))(function(a){return a()})},initDivebar:function(){k._sidebarStartTime=(g||(g=b("performanceAbsoluteNow")))()},_log:function(a,c){c=(g||(g=b("performanceAbsoluteNow")))()-(c||k._startTime);j&&j.emit(a,c);var d=new(b("ChatPerfTypedLogger"))();d.setEvent(a).setDuration(c);d.setTabsOpen(i);d.log()},addPerfTimingsListener:function(a,c){j||(j=new(b("BaseEventEmitter"))());return j.once(a,c)},logInitStores:function(){k.logInitStores=b("emptyFunction"),k._log("chat_init_stores")},logInitData:function(){k.logInitData=b("emptyFunction"),k._log("chat_init_data")},logInitUI:function(){k.logInitUI=b("emptyFunction"),k._log("chat_init_ui")},logInitSound:function(){k.logInitSound=b("emptyFunction"),k._log("chat_init_sound")},logDisplayDone:function(){k.logDisplayDone=b("emptyFunction"),k._log("chat_display_done")},logTTI:function(){k.logTTI=b("emptyFunction"),k._log("tti")},logCHAT_CONVERSATION_TTI:function(){k.logCHAT_CONVERSATION_TTI=b("emptyFunction"),k._log("chat_conversation_tti")},logSIDEBAR_FROM_CLIENT_TTI:function(){k.logSIDEBAR_FROM_CLIENT_TTI=b("emptyFunction"),k._log("sidebar_from_client_tti",k._sidebarStartTime)},logSIDEBAR_DISPLAY_DONE:function(){k.logSIDEBAR_DISPLAY_DONE=b("emptyFunction"),k._log("sidebar_display_done",k._sidebarStartTime)}};e.exports=k}),null);
__d("MercuryFilters.bs",[],(function(a,b,c,d,e,f){"use strict";var g="draft",h="folders",i="recent",j="unread";function a(a){return[j,g]}function b(a){return a===j||a===g||a===h||a===i?!0:!1}c="all";d="groups";e="named";var k="unnamed",l="WORK_UNSYNCED_CHAT",m="WORKROOMS_ONLY";f.all=c;f.draft=g;f.folders=h;f.recent=i;f.unread=j;f.groups=d;f.named=e;f.unnamed=k;f.unsyncedChat=l;f.getSupportedFilters=a;f.isSupportedFilter=b;f.workroomsOnly=m}),null);
__d("XGraphQLBatchAPIController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/api/graphqlbatch/",{queries:{type:"String"},batch_name:{type:"String"},scheduler:{type:"Enum",enumType:1},shared_params:{type:"String"},fb_api_req_friendly_name:{type:"String"}})}),null);
__d("MessengerWebGraphQLHelper",["errorCode","ActorURI","AsyncRequest","DTSG","DTSGParser","Deferred","FBLogger","WebGraphQLConfig","XGraphQLBatchAPIController","cr:2148","cr:2703","cr:4351","getAsyncParams","getBizInboxThreadsRelayQueryMigration","getBizInboxUnifiedThreadsQuery","nullthrows","react-relay"],(function(a,b,c,d,e,f,g,h){"use strict";var i="for (;;);",j=i.length;function a(a,b){return l([a],b)[0]}function k(a,d,e){var f=b("react-relay");f=f.fetchQuery;e=b("cr:2148")==null?void 0:b("cr:2148").getForActorID(e);var g=new(c("Deferred"))(),h=g.getPromise();f(c("nullthrows")(e),a,d.variables).subscribe({start:function(){},complete:function(){},error:function(a){g.reject({data:{},errors:[{message:a.message,severity:"CRITICAL",error:a}]})},next:function(a){a?g.resolve(a):g.reject({data:{},errors:[{message:"Unexpected response received from server.",severity:"CRITICAL",response:a}]})}});return h}function l(a,e){var f=e==null?void 0:e.actorID;if(a.length===1&&f){if(b("cr:4351")){var g;g=(g=e==null?void 0:e.batchName)!=null?g:"";var h=a[0].variables,l=b("cr:4351").getUnifiedChannelFromMercuryOperations(g,h.source);if(l&&g&&(g==="MessengerGraphQLThreadlistFetcher"||g==="MessengerGraphQLThreadFetcher")&&h.source&&b("cr:4351").shouldUseUnifiedQuery(l,h)&&d("getBizInboxUnifiedThreadsQuery").getShouldUnifyThreadQueries())return[b("cr:4351").execUnifiedQuery(l)]}if((b("cr:2703")==null?void 0:b("cr:2703").params.id)===((g=a[0])==null?void 0:g.id)&&!((h=a[0])==null?void 0:h.variables.before)&&c("getBizInboxThreadsRelayQueryMigration")())return[k(b("cr:2703"),a[0],f)]}var m={},n={};l=a.map(function(a,b){b="o"+b;m[b]={doc_id:c("nullthrows")(a.id),query_params:a.variables};a=new(c("Deferred"))();n[b]=a;return a.getPromise()});g=babelHelpers["extends"]({},c("getAsyncParams")("POST"));e&&e.actorID!=null&&(g[d("ActorURI").PARAMETER_ACTOR]=e.actorID);h=e&&e.batchName?{batch_name:e.batchName}:{};f=new(c("AsyncRequest"))().setURI(c("XGraphQLBatchAPIController").getURIBuilder().getURI()).setOption("suppressEvaluation",!0).setMethod("POST").setRequestHeader("Content-Type","application/x-www-form-urlencoded").setData(babelHelpers["extends"]({},h,g,{queries:JSON.stringify(m)})).setHandler(function(a){a=a.getPayload();a=a.response;try{if(a.startsWith(i)){var b=a.substring(j);b=JSON.parse(b);if(b.error==1357001){Object.keys(n).forEach(function(a){n[a].isSettled()||n[a].reject({data:{},errors:[{message:"Not logged in.",severity:"CRITICAL",should_end_session:!0}]})});return}}c("DTSGParser").updateFromAsyncResponse(a);b=a.split("\r\n");b.pop();b=b.map(function(a){return JSON.parse(a)});b.forEach(function(a){return Object.keys(a).forEach(function(b){var c=n[b];if(c){b=a[b];if(b.extensions){var e;e=(e=b.extensions)==null?void 0:e.dtsg_token;e&&d("DTSG").setToken(e)}b.errors?c.reject(b):b.data?c.resolve(b.data):c.reject({data:{},errors:[{message:"Unexpected response received from server.",severity:"CRITICAL",response:b}]})}})})}catch(b){c("FBLogger")("webgraphql").catching(b).mustfix("Bad response: ","%s%s",a.substr(0,250),a.length>250?"[truncated]":"")}Object.keys(n).forEach(function(a){n[a].isSettled()||n[a].reject({data:{},errors:[{message:"No response received from server.",severity:"CRITICAL"}]})})}).setTimeoutHandler(c("WebGraphQLConfig").timeout,function(){Object.keys(n).forEach(function(a){n[a].isSettled()||n[a].reject({data:{},errors:[{message:"Request timed out.",severity:"CRITICAL"}]})})}).setErrorHandler(function(a){var b=a.getErrorDescription();Object.keys(n).forEach(function(c){n[c].isSettled()||n[c].reject({data:{},errors:[{message:b,severity:"CRITICAL",error:a.getError()}]})})});e&&e.msgrRegion&&f.setRequestHeader("X-MSGR-Region",e.msgrRegion);f.setAllowCrossPageTransition(!0);f.send();return l}g.exec=a;g.execRelayQuery=k;g.execAll=l}),98);
__d("WorkChatAvailabilityStatusLoader",["Bootloader","Promise","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=null,k=null;function a(){c("nullthrows")(i,"Status store is not loaded");return i}function d(){c("nullthrows")(j,"Status actions is not loaded");return j}function e(){return i!=null&&j!=null}function f(){k||(k=new(h||(h=b("Promise")))(function(a){c("Bootloader").loadModules(["WorkChatAvailabilityStatusActions","WorkChatAvailabilityStatusStore"],function(b,c){i=c,j=b,a({store:c,actions:b})},"WorkChatAvailabilityStatusLoader")}));return k}g.getStoreEnforce=a;g.getActionsEnforce=d;g.isLoaded=e;g.load=f}),98);
__d("MercuryBootloadOnInteraction.react",["createCancelableFunction","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.state={Component:null},d.$3=function(a){a=d.state.interactionType==="click"?"click":a.type;d.setState({interactionType:a},function(){c("promiseDone")(d.props.loader.load(),function(a){d.props.takeOverRender?d.props.takeOverRender(function(){return d.$1(a)}):d.$1(a)})})},d.$2=function(a){d.setState({Component:a})},d.$4=function(a){d.state.interactionType!=="click"&&d.setState({interactionType:void 0})},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.componentDidMount=function(){this.$1=c("createCancelableFunction")(this.$2)};d.componentWillUnmount=function(){this.$1.cancel()};d.render=function(){var a={onFocus:this.$3,onMouseOver:this.$3,onClick:this.$3,onBlur:this.$4};if(!this.state.Component)return h.cloneElement(this.props.placeholder,a);a=this.state.Component;var b={};switch(this.state.interactionType){case"focus":b.autoFocus=!0;break;case"click":b.clicked=!0;break}return h.cloneElement(this.props.component,babelHelpers["extends"]({},b,{LazyLoadedComponent:a}))};return b}(h.PureComponent);g["default"]=a}),98);
__d("MessengerMQTTPresence",["FBMqttChannel","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h="/orca_presence",i="mqtt_web.presence",j="/send_additional_contacts",k=!1;function a(a){if(k)return;k=!0;c("FBMqttChannel").subscribe(h,function(b){b=JSON.parse(b);b&&b.list&&(b.list_type&&b.list_type==="full"&&a.reset(),a.setMultiFromMQTT(b.list),d("ODS").bumpEntityKey(3303,i,"buddylist.event"),d("ODS").bumpEntityKey(3303,i,"buddylist.active_buddies",b.list.length))})}function b(){k=!1,c("FBMqttChannel").unsubscribeAll(h)}var l=new Map(),m=1e3*60*3;function e(a){if(l.has(a)){var b=l.get(a);if(b!=null&&b>Date.now())return;l["delete"](a)}l.set(a,Date.now()+m);c("FBMqttChannel").publish(j,JSON.stringify({additional_contacts:[a]}))}g.subscribe=a;g.unsubscribe=b;g.sendAdditionalBuddyRequest=e}),98);
__d("onAfterLoadSafe",["Run","TimeSlice","requestIdleCallback"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("TimeSlice").guard(function(){return d("Run").onAfterLoad(function(){c("requestIdleCallback")(a)})},"delayed after load",{propagationType:c("TimeSlice").PropagationType.ORPHAN})()}g["default"]=a}),98);
__d("MercuryParticipantListRenderer",["fbt","MercuryIDs","react"],(function(a,b,c,d,e,f,g,h){"use strict";d("react");a=function(){function a(){var a=this;this.$6=function(b){var c=a.$5;if(c!=null){var e=d("MercuryIDs").getUserIDFromParticipantID(b.id);if(e!=null&&c[e]!=null&&c[e]!=null)return c[e]}return a.$2?b.short_name:b.name};this.$1=!1;this.$2=!1;this.$3=!1;this.$4=0;this.$5=null}var b=a.prototype;b.renderParticipantList=function(a){a=a.map(this.$6);switch(a.length){case 0:return i(this.$1);case 1:return j(a);case 2:return this.$3?l(a):k(a);case 3:return this.$3?n(a):m(a);default:return this.$3?p(a,this.$4):o(a,this.$4)}};b.setIsNewThread=function(a){this.$1=a;return this};b.setNameRenderer=function(a){this.$6=a;return this};b.setUseShortName=function(a){this.$2=a;return this};b.setNickname=function(a){this.$5=a;return this};b.setUseAndSeparator=function(a){this.$3=a;return this};b.setTotalParticipantCount=function(a){this.$4=a;return this};return a}();function i(a){if(a)return h._("New message");else return h._("No Participants")}function j(a){return a[0]}j.displayName=j.name+" [from "+f.id+"]";function k(a){return h._("{participant1}, {participant2}",[h._param("participant1",a[0]),h._param("participant2",a[1])])}k.displayName=k.name+" [from "+f.id+"]";function l(a){return h._("{participant1} and {participant2}",[h._param("participant1",a[0]),h._param("participant2",a[1])])}l.displayName=l.name+" [from "+f.id+"]";function m(a){return h._("{participant1}, {participant2}, {participant3}",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])])}m.displayName=m.name+" [from "+f.id+"]";function n(a){return h._("{participant1}, {participant2}  and {participant3}",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])])}n.displayName=n.name+" [from "+f.id+"]";function o(a,b){return h._("{participant1}, {participant2}, {participant3}, {others_link}",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2]),h._param("others_link",q((b||a.length)-3))])}o.displayName=o.name+" [from "+f.id+"]";function p(a,b){return h._("{participant1}, {participant2} and {others_link}",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("others_link",q((b||a.length)-2))])}p.displayName=p.name+" [from "+f.id+"]";function q(a){if(a>1)return h._({"*":"{others_count} others"},[h._param("others_count",a,[0])]);else return h._("1 other")}g["default"]=a}),98);
__d("MercuryLocalIDs",["randomInt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return"root:"+h(a)}function h(a){a=a!=null?a:Date.now();var b=c("randomInt")(0,4294967295);b=("0000000000000000000000"+b.toString(2)).slice(-22);a=a.toString(2)+b;return i(a.slice(-63))}function i(a){var b="";a=a;while(a!="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}g.generateThreadID=a;g.generateOfflineThreadingID=h}),98);
__d("PresenceOrderedList",["ChatSidebarPreloadStore","ChatSortUsers","PresencePrivacy","PresenceStatus"],(function(a,b,c,d,e,f,g){function h(a){return a.map(function(a){var b=a.slice(0,-2);a=Number(a.slice(-1));return[b,a]})}function i(a,b){var d=[];a.forEach(function(a){var e=a[0];a=a[1];if(d.length>=b)return;if(c("PresencePrivacy").getFriendVisibility(e)==c("PresencePrivacy").BLACKLISTED)return;a==c("PresenceStatus").get(e)&&d.push(e)});return d}a=function(){function a(){this.$1=null}var b=a.prototype;b.getSorted=function(a,b){var c=this;if(this.$1){b(i(this.$1,a));return}d("ChatSidebarPreloadStore").onLoaded(function(d){d=d.buddies;c.$1=h(d);b(i(c.$1,a))})};b.getAvailableSorted=function(a){var b=c("PresenceStatus").getOnlineIDs();a&&(b=b.filter(function(b){return a&&a.indexOf(b)===-1}));return b.sort(d("ChatSortUsers").sortAlphabetical)};b.getAllSorted=function(a){var b=[],e=this.$1||[];c("PresenceStatus").getAllIDs().concat(e.map(function(a){return a[0]})).forEach(function(a){return b.indexOf(a)===-1&&b.push(a)});a&&(b=b.filter(function(b){return a&&a.indexOf(b)===-1}));return b.sort(d("ChatSortUsers").sortAlphabetical)};return a}();b=new a();g["default"]=b}),98);
__d("ChatSidebarStore",["AvailableListConstants","ChatConfig","ChatDispatcher","ChatOptions","ChatOptionsInitialData","ChatSidebarActionTypes","ChatUnreadCountActionTypes","CurrentUser","FluxStore","InitialChatFriendsList","PresenceOrderedList","PresencePrivacy","PresenceStatus","PresenceStatusActionTypes","PresenceStatusStore","ShortProfiles","ShortProfilesActionTypes","ShortProfilesStore","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.map(function(a){var b=a.slice(0,-2);a=Number(a.slice(-1));return[b,a]})}function i(a,b,d){d===void 0&&(d=[]);return a.reduce(function(a,e){var f=e[0];e=e[1];a.length<b&&c("PresencePrivacy").getFriendVisibility(f)!==c("PresencePrivacy").BLACKLISTED&&e===c("PresenceStatus").get(f)&&!d.includes(f)&&a.push(f);return a},[])}function j(a){return c("PresencePrivacy").getVisibility()==c("PresencePrivacy").ONLINE?a.filter(function(a){return c("PresencePrivacy").allows(a)}):a}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this,c("ChatDispatcher"))||this;b.$ChatSidebarStore2={enabled:!1,initTime:0,initialized:!1,isAfterDomLoad:!1,loaded:!1,visible:null};b.setupShortProfiles();b.$ChatSidebarStore3={enabled:!!c("ChatOptionsInitialData").sidebar_mode,initTime:c("performanceAbsoluteNow")(),initialized:!1,isAfterDomLoad:!1,loaded:!1,visible:null};return b}var e=b.prototype;e.setupShortProfiles=function(){var a=c("InitialChatFriendsList").shortProfiles;a&&d("ShortProfiles").setMulti(a)};e.__onDispatch=function(a){var b=a.type;this.$ChatSidebarStore2=babelHelpers["extends"]({},this.$ChatSidebarStore3);switch(b){case c("ChatSidebarActionTypes").INIT:this.$ChatSidebarStore2.initialized||(this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{initTime:c("performanceAbsoluteNow")()}));this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{initialized:!0});break;case c("ChatSidebarActionTypes").AFTER_DOM_LOAD:this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{isAfterDomLoad:!0});break;case c("ChatSidebarActionTypes").LOADED:this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{loaded:!0});break;case c("ChatSidebarActionTypes").SHOW:this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{visible:a.sidebarType});break;case c("ChatSidebarActionTypes").SET_ENABLED:this.$ChatSidebarStore3=babelHelpers["extends"]({},this.$ChatSidebarStore3,{enabled:a.enabled,visible:a.sidebarType});break}if(b===c("PresenceStatusActionTypes").AVAILABILITY_CHANGED||b===c("ShortProfilesActionTypes").PROFILE_UPDATED||b===c("ChatUnreadCountActionTypes").COUNT_UPDATED){this.__emitChange();return}for(a in this.$ChatSidebarStore3)if(Object.prototype.hasOwnProperty.call(this.$ChatSidebarStore3,a)&&this.$ChatSidebarStore3[a]!==this.$ChatSidebarStore2[a]){this.__emitChange();break}};e.getPrevState=function(){return this.$ChatSidebarStore2};e.getState=function(){return this.$ChatSidebarStore3};e.isInitialized=function(){return this.$ChatSidebarStore3.initialized};e.isLoaded=function(){return this.$ChatSidebarStore3.loaded};e.isAfterDomLoad=function(){return this.$ChatSidebarStore3.isAfterDomLoad};e.isEnabled=function(){return this.$ChatSidebarStore3.enabled};e.getInitTime=function(){return this.$ChatSidebarStore3.initTime};e.getVisibleType=function(){return this.$ChatSidebarStore3.visible};e.getUsersData=function(a){a=this.getOrderedPresenceUserList(a);var b=c("InitialChatFriendsList").nearby,d=c("CurrentUser").isWorkUser()?c("PresenceOrderedList").getAllSorted(a.concat(b)).filter(function(a){a=c("ShortProfilesStore").getNow(a);return!a||a.type==="fb4c"}):c("PresenceOrderedList").getAvailableSorted(a.concat(b)),e=c("CurrentUser").isWorkUser()?c("PresenceOrderedList").getAllSorted(a.concat(b)).filter(function(a){a=c("ShortProfilesStore").getNow(a);return a&&a.type!=="fb4c"}):[];a=a.filter(function(a){return!b||b.indexOf(a)===-1});var f=j(a);a=c("PresencePrivacy").getOnlinePolicy()===c("PresencePrivacy").ONLINE_TO_WHITELIST&&c("PresencePrivacy").getVisibility()?a.filter(function(a){return!c("PresencePrivacy").allows(a)}):[];return{availableUsers:d,topUsers:f,workOthers:e,offlineUsers:a}};e.getExtraData=function(a){var b=c("InitialChatFriendsList").groups,e=c("InitialChatFriendsList").nearby,f=c("InitialChatFriendsList").adminedPages,g=c("InitialChatFriendsList").marketplaceThreads,h=c("InitialChatFriendsList").pageListModule,i=c("InitialChatFriendsList").pymmList;a--;d("ChatConfig").get("show_header")&&a--;var k=!c("ChatOptions").getSetting("hide_businesses")&&i&&i.pages;k&&(a-=3);f=c("ChatOptions").getSetting("hide_admined_pages")?[]:f;f.length&&(a-=f.length+1);var l=a,m=a;b=this.getGroupsToShow(b);var n=b.length;n===0&&!c("ChatOptions").getSetting("hide_groups")&&n++;n>0&&(m-=n+1);d("ChatConfig").get("nearby_friends_www_chatbar")&&e.length>0&&(m-=e.length+1);d("ChatConfig").get("show_admined_pages")&&f.length>0&&(m-=f.length+1);n=k&&i?i:{pages:[]};d("ChatConfig").get("show_businesses")&&n.pages.length>0&&(m-=2);m=Math.min(a,Math.max(m,d("ChatConfig").get("min_top_friends")||0));k=j(e);return{isUserOffline:c("PresencePrivacy").isUserOffline(),groups:b,numTopFriends:m,nearby:k,marketplaceThreads:g,maxThreadSlots:l,adminedPages:f,pageListModule:h,pymmList:n}};e.getGroupsToShow=function(a){if(c("ChatOptions").getSetting("hide_groups"))return[];return a.length>1?a.sort(function(a,b){return c("PresenceStatus").getGroup(b.mercury_thread.participants)-c("PresenceStatus").getGroup(a.mercury_thread.participants)}).slice(0,d("ChatConfig").getNumber("num_groups_to_show")):a};e.getOrderedPresenceUserList=function(a){if(this.$ChatSidebarStore1&&Array.isArray(this.$ChatSidebarStore1))return i(this.$ChatSidebarStore1,a);this.$ChatSidebarStore1=h(c("InitialChatFriendsList").list)||[];return i(this.$ChatSidebarStore1,a)};e.getStatusMap=function(a,b){var d={},e={};a.forEach(function(a){if(b){var f=c("PresenceStatusStore").getIsPlaying(a);d[a]=f}f=c("PresenceStatusStore").get(a);f===c("AvailableListConstants").ACTIVE&&(e[a]=f)});return{statusMap:e,playingMap:d}};return b}(c("FluxStore"));a.__moduleID=f.id;b=new a();g["default"]=b}),98);
__d("MessengerSecondarySearchFunnelConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({MESSENGER_DOT_COM:"messenger_dot_com",WWW:"www"});b=Object.freeze({ABANDON:"abandon",CREATE_GROUP:"create_group",ENTER_THREAD:"enter_thread",RESULT_SELECTED:"result_selected",SEND:"send",SINGLE_RESULT_SELECTED:"single_result_selected"});c=Object.freeze({ACTION:"action"});d=Object.freeze({EXISTING_TAB:"existing_tab",JEWEL:"jewel",SIDEBAR:"sidebar",COMPOSER:"composer"});f=Object.freeze({END:"end",IMPRESSIONS:"impressions",MICRO_SESSION_ENDED:"micro_session_ended",MICRO_SESSION_STARTED:"micro_session_started",QUERY_CHANGED:"query_changed",RESULT_SELECTED:"result_selected",REENTER_OMNIPICKER:"reentered_omnipicker",SOURCE_ENDED:"source_ended",SOURCE_STARTED:"source_started",START:"start",TOKEN_REMOVED:"token_removed",CLICK_OTHER_THREAD:"clicked_on_other_thread"});var g=Object.freeze({BROADCAST:"broadcast",GROUP_CREATION:"group_creation",OMNIPICKER:"omnipicker",SHARE:"share"}),h=Object.freeze({DIRECT_SEND:"direct_send",ADD:"add"}),i=Object.freeze({FINISHED:"finished",FAILED:"failed"}),j=Object.freeze({BROADCAST:9500,GROUP_CREATE:9501,M_APP_COMPOSER:9502}),k=Object.freeze({QUERY:"query",NO_QUERY:"no_query"}),l=Object.freeze({BOOTSTRAP:"bootstrap",LOCAL:"local",LOCAL_AND_SERVER:"local_and_server",LOCAL_CONTACTS:"local_contacts",ORDERED_GCF_FRIENDLIST:"local_ordered_gcf_friendlist",QUERY_CACHE:"query_cache",SERVER:"server",SHORT_PROFILES:"local_short_profiles",SUGGESTED_RECIPIENTS:"local_suggested_recipients"});e.exports={FUNNEL_NAME:"MESSENGER_SECONDARY_SEARCH_FUNNEL",CLIENTS:a,END_ACTIONS:b,END_REASONS:c,ENTRY_SURFACES:d,EVENTS:f,SEARCH_SURFACES:g,SELECTION_TYPES:h,SOURCE_STATUSES:i,LOGGING_IDS:j,MICRO_SESSION_TYPES:k,SOURCES:l}}),null);
__d("SearchI18nArabic",[],(function(a,b,c,d,e,f){"use strict";var g=/[\u0600-\u06FF]/;function h(a){return g.test(a)}var i={1570:1575,1571:1575,1573:1575,1649:1575,1609:1610,1577:1607,1572:1569,1574:1569},j=[1600,1611,1612,1613,1614,1615,1616,1617,1618];function k(a){return Object.prototype.hasOwnProperty.call(i,a)?String.fromCharCode(i[a]):j.indexOf(a)!=-1?"":String.fromCharCode(a)}function a(a){if(!h(a))return a;var b=[];for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b.push(k(d))}return b.join("")}b={hasArabicCharacters:h,normalizeCharCode:k,arabicNormalization:a};e.exports=b}),null);
__d("UnicodeCJK",[],(function(a,b,c,d,e,f){"use strict";f="a-zA-Z";var g="\uff21-\uff3a\uff41-\uff5a",h=f+g;f="\u3040-\u309f";g="\u30a0-\u30ff";var i="\u31f0-\u31ff",j="\uff65-\uff9f";g=g+i+j;var k=f+g,l=[12352,12447];i=[12448,12543];var m=i[0]-l[0];j="\u4e00-\u9fcf";f="\u3400-\u4dbf";var n=j+f;g="\uac00-\ud7af";var o=n+k+g,p=null,q=null,r=null,s=null;function t(a){q=q||new RegExp("["+k+"]");return q.test(a)}function a(a){p=p||new RegExp("["+n+"]");return p.test(a)}function b(a){r=r||new RegExp("["+o+"]");return r.test(a)}function u(a){a=a.charCodeAt(0);return String.fromCharCode(a<l[0]||a>l[1]?a:a+m)}function c(a){return!t(a)?a:a.split("").map(u).join("")}function v(a){s=s||new RegExp("^["+k+"]+["+h+"]$");return s.test(a)}function d(a){return v(a)?a.substr(0,a.length-1):a}i={hasKana:t,hasIdeograph:a,hasIdeoOrSyll:b,hiraganaToKatakana:c,isKanaWithTrailingLatin:v,kanaRemoveTrailingLatin:d};e.exports=i}),null);
__d("UnicodeHangulKorean",[],(function(a,b,c,d,e,f){"use strict";var g=/[\u3130-\u318F\uAC00-\uD7AF]/;function h(a){return g.test(a)}var i=[4352,4353,4522,4354,4524,4525,4355,4356,4357,4528,4529,4530,4531,4532,4533,4378,4358,4359,4360,4385,4361,4362,4363,4364,4365,4366,4367,4368,4369,4370,4449,4450,4451,4452,4453,4454,4455,4456,4457,4458,4459,4460,4461,4462,4463,4464,4465,4466,4467,4468,4469,4448,4372,4373,4551,4552,4556,4558,4563,4567,4569,4380,4573,4575,4381,4382,4384,4386,4387,4391,4393,4395,4396,4397,4398,4399,4402,4406,4416,4423,4428,4593,4594,4439,4440,4441,4484,4485,4488,4497,4498,4500,4510,4513],j=12593;b=i.length;var k=j+b;function l(a){return String.fromCharCode(i[a-j])}var m=4352,n=4449,o=4519,p=44032;c=19;d=21;var q=28,r=d*q;f=c*r;var s=p+f;function t(a){a=a-p;var b=a%q;return String.fromCharCode(m+a/r)+String.fromCharCode(n+a%r/q)+(b>0?String.fromCharCode(o+b):"")}function a(a){if(!h(a))return a;var b=[];for(var c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b.push(j<=e&&e<k?l(e):p<=e&&e<s?t(e):d)}return b.join("")}b={toConjoiningJamo:a};e.exports=b}),null);
__d("browserUserLanguage",[],(function(a,b,c,d,e,f){b=a.navigator;c=(b.userLanguage||b.language).replace("-","_");d=c;f["default"]=d}),66);
__d("unicodeStringSplitter",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g;return a.match(b)||[]}f["default"]=a}),66);
__d("tryToRemoveStringAccents",["IntlBCP47LocaleConfig","browserUserLanguage","memoizeWithArgs","unicodeStringSplitter"],(function(a,b,c,d,e,f){"use strict";var g="a".charCodeAt(0),h="z".charCodeAt(0),i=b("IntlBCP47LocaleConfig").bcp47Locale||b("browserUserLanguage"),j=!1;try{j="a".localeCompare("A",i,{sensitivity:"base"})===0}catch(a){j=!1}var k=b("memoizeWithArgs")(function(a){var b=a.charCodeAt(0);if(!a||g<=b&&b<=h)return a;for(b=g;b<=h;b++){var c=String.fromCharCode(b);if(c.localeCompare(a,i,{sensitivity:"base"})===0)return c}return a},function(a){return a});function a(a){return j?b("unicodeStringSplitter")(a).map(k).join(""):a}a.isBrowserSupported=j;e.exports=a}),null);
__d("SearchI18nMatch",["invariant","SearchI18nArabic","UnicodeCJK","UnicodeHangulKorean","forEachObject","tryToRemoveStringAccents"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a){this.config={prefix_hangul_conjoining_jamo:!1,prefix_kana_drop_trailing_latin:!1,prefix_kana_hiragana_to_katakana:!1,prefix_try_ignoring_accents:!1,search_i18n_prefix_arabic_normalization:!1},a!=null&&this.setConfigs(a)}var b=a.prototype;b.setConfigs=function(a){var b=this;c("forEachObject")(a,function(a,c){return b.setConfig(c,a)},this)};b.setConfig=function(a,b){a in this.config||h(0,11853,a),b!=null&&(this.config[a]=b)};b.prefixMatchPrepare=function(a){if(a){var b=this.config;b.prefix_hangul_conjoining_jamo&&(a=d("UnicodeHangulKorean").toConjoiningJamo(a));b.prefix_kana_drop_trailing_latin&&(a=d("UnicodeCJK").kanaRemoveTrailingLatin(a));b.prefix_kana_hiragana_to_katakana&&(a=d("UnicodeCJK").hiraganaToKatakana(a));b.search_i18n_prefix_arabic_normalization&&(a=d("SearchI18nArabic").arabicNormalization(a));b.prefix_try_ignoring_accents&&(a=c("tryToRemoveStringAccents")(a))}return a};b.prefixMatch=function(a,b){a=this.prefixMatchPrepare(a);b=this.prefixMatchPrepare(b);return a.startsWith(b)};return a}();g["default"]=a}),98);
__d("DataSource",["ArbiterMixin","AsyncRequest","SearchI18nMatch","TokenizeUtil","createArrayFromMixed","createObjectFrom","emptyFunction","killswitch","mixin","str2rstr"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d._maxResults=c.maxResults||10;d.token=c.token;d.queryData=c.queryData||{};d.queryEndpoint=c.queryEndpoint||"";d.bootstrapData=c.bootstrapData||{};d.bootstrapEndpoint=c.bootstrapEndpoint||"";d.globalKeywordsEndpoint=c.globalKeywordsEndpoint||"";d._indexedFields=c.indexedFields||["text","tokens"];d._titleFields=c.titleFields||[];d._alwaysPrefixMatch=c.alwaysPrefixMatch||!1;d._deduplicationKey=c.deduplicationKey||null;d._enabledLocalCache=c.enabledLocalCache!=null?c.enabledLocalCache:!0;d._enabledQueryCache=c.enabledQueryCache!=null?c.enabledQueryCache:!0;d._disableAllCaches=c.disableAllCaches!=null?c.disableAllCaches:!1;d._enabledMergeUids=c.enabledMergeUids!=null?c.enabledMergeUids:!1;d._queryExactMatch=c.queryExactMatch||!1;d._acrossTransitions=c.acrossTransitions||!1;d._minQueryLength=c.minQueryLength||-1;d._enforceNewRequestIDUponFetch=c.enforceNewRequestIDUponFetch||!1;d._minExactMatchLength=4;d._filters=[];d._headerflags=c.headerflags||new Map();d.transport=null;d.setExclusions(c.exclusions);d.backendUnicodeMatch=new(b("SearchI18nMatch"))({prefix_kana_hiragana_to_katakana:!!c.kanaNormalization});d.cacheUnicodeMatch=new(b("SearchI18nMatch"))({prefix_kana_hiragana_to_katakana:!!c.kanaNormalization});return d}var d=c.prototype;d.init=function(){this.init=b("emptyFunction"),this._fields=b("createObjectFrom")(this._indexedFields),this._activeQueries=0,this.dirty()};d.dirty=function(){this.value="";this._bootstrapped=!1;this._bootstrapping=!1;this._data=Object.create(null);this.localCache={};this.queryCache={};this.queryIDs={};this.inform("dirty",{});return this};d.bootstrap=function(a){a===void 0&&(a=!1);if(this._bootstrapped&&!a)return;this.bootstrapWithoutToken();this._bootstrapped=!0;this._bootstrapping=!0;this.inform("bootstrap",{bootstrapping:!0})};d.bootstrapWithoutToken=function(){this.fetch(this.bootstrapEndpoint,this.bootstrapData,{bootstrap:!0,token:this.token})};d.bootstrapWithToken=function(){var a=babelHelpers["extends"]({},this.bootstrapData);a.token=this.token;var c=b("killswitch")("DATA_SOURCE_USE_FETCH_CONTEXT_EMPTY_STRING")?{bootstrap:!0,replaceCache:!0,value:""}:{bootstrap:!0,replaceCache:!0};this.fetch(this.bootstrapEndpoint,a,c)};d.query=function(a,b,c,d,e){this.inform("beforeQuery",babelHelpers["extends"]({value:a,local_only:b,exclusions:c,time_waited:d},e));d=Date.now();if(this._disableAllCaches){this.dirty();if(!a){this.bootstrap();return!0}}else this._enabledQueryCache||(this.queryCache={},this.queryIDs={});var f=this.buildUids(a,[],c),g=this.respond(a,f);this.value=a;this.inform("query",babelHelpers["extends"]({value:a,results:g},e));var h=this.tokenizeBackend(a).flatValue;if(b||!h||this._isQueryTooShort(h)||!this.queryEndpoint||Object.prototype.hasOwnProperty.call(this.getQueryCache(),h)||!this.shouldFetchMoreResults(g)){this.inform("logPerformanceTiming",babelHelpers["extends"]({field:"cache_keypress_render",value:Date.now()-d},e));this.inform("completeCacheFetch");return!1}this.inform("queryEndpoint",babelHelpers["extends"]({value:a},e));this.fetch(this.queryEndpoint,this.getQueryData(a,f),babelHelpers["extends"]({value:a,exclusions:c},e));return!0};d._isQueryTooShort=function(a){return a.length<this._minQueryLength};d._tokenize=function(a,c){return b("TokenizeUtil").parse(a,c)};d.tokenizeBackend=function(a,b){a=this.backendUnicodeMatch.prefixMatchPrepare(a);return this._tokenize(a,b)};d.tokenizeCache=function(a,b){a=this.cacheUnicodeMatch.prefixMatchPrepare(a);return this._tokenize(a,b)};d.shouldFetchMoreResults=function(a){return a.length<this._maxResults};d.getQueryData=function(a,b){a=babelHelpers["extends"]({value:a},this.queryData);b=b||[];b.length&&(a.existing_ids=b.join(","));this._bootstrapping&&(a.bsp=!0);return a};d.setQueryData=function(a,b){b&&(this.queryData={});Object.assign(this.queryData,a);return this};d.setBootstrapData=function(a,b){b&&(this.bootstrapData={});Object.assign(this.bootstrapData,a);return this};d.getExclusions=function(){return b("createArrayFromMixed")(this._exclusions)};d.setExclusions=function(a){this._exclusions=a?a.map(String):[]};d.addFilter=function(a){var b=this._filters;b.push(a);return{remove:function(){b.splice(b.indexOf(a),1)}}};d.clearFilters=function(){this._filters=[]};d.notify=function(a,b,c,d){b=this.buildData(b);this.inform("notify",{value:a,results:b,isAsync:!!c,rootid:d});return b};d.respond=function(a,b,c){b=this.buildData(b);this.processResults(a,b,c);this.inform("respond",{value:a,results:b,isAsync:!!c});return b};d.respondWithResults=function(a,b,c){this.processResults(a,b,c);this.inform("respond",{value:a,results:b,isAsync:!!c});return b};d.processResults=function(a,b,c){if(this.bootstrapData.alwaysShowEcho){c=-1;for(var d=0;d<b.length;++d)if(b[d].text.toLowerCase()===a.toLowerCase()){c=d;break}d={};c===-1?(d={bootstrapped:!1,index:0,query:a,render_type:"hashtag",text:a,type:"hashtag",uid:this.getUniqueID()},b.map(function(a){a.index+=1}),b.unshift(d)):c>0&&(d=b.splice(c,1)[0],b.unshift(d),b.map(function(a,b){a.index=b}))}};d.getUniqueID=function(){var a="_"+Math.random().toString(36).substr(2,9);while(this._data[a]!==void 0)a="_"+Math.random().toString(36).substr(2,9);return a};d.fetch=function(a,c,d){var e=this;if(!a)return;(this._enforceNewRequestIDUponFetch||c.request_id===void 0)&&(c.request_id=this._guid(),d.request_id=c.request_id);c=new(b("AsyncRequest"))().setURI(a).setData(c).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(this._acrossTransitions).setHandler(function(a){e.fetchHandler(a,d||{})});if(a===this.queryEndpoint){for(var f of this._headerflags){var g=f[0],h=f[1];c.setRequestHeader(g,h)}c.setFinallyHandler(function(){e._activeQueries--,e._activeQueries||e.inform("activity",{activity:!1})})}c.setErrorHandler(function(a){return e.asyncErrorHandler(a,d)});this.inform("beforeFetch",{request:c,fetch_context:d});c.send();this.transport=c.transport;a===this.queryEndpoint&&(this._activeQueries||this.inform("activity",{activity:!0}),this._activeQueries++)};d.fetchHandler=function(a,b){var c=b.value,d=b.exclusions;a.getPayload().requestID!==void 0&&(b.request_id=a.getPayload().requestID);var e=this.getQueryIDs(),f=this.tokenizeBackend(c||"").flatValue;e[f]=b.request_id;!c&&b.replaceCache&&(this.localCache={});this.inform("buildQueryCache",{});e=a.getPayload().entries;this.addEntries(e,c);this.inform("fetchComplete",{entries:e,response:a,value:c,fetch_context:b});f=!c&&this.value?this.value:c;this.respond(f,this.buildUids(f,[],d),!0);c||(this._bootstrapping&&(this._bootstrapping=!1,this.inform("bootstrap",{bootstrapping:!1})),b.token&&a.getPayload().token!==b.token&&this.bootstrapWithToken())};d.addEntries=function(a,c){a=this.processEntries(b("createArrayFromMixed")(a||[]),c);var d=a;this._enabledMergeUids&&(d=this.buildUids(c,a));if(c){var e=this.getQueryCache();c=this.tokenizeBackend(c).flatValue;e[c]=d}else this.fillCache(d);return a};d.processEntries=function(a,b){return a.map(function(a,c){var d=a.uid+="",e=this.getEntry(d);!e?(e=a,e.query=b,e.bootstrapped=!b,this.setEntry(d,e)):Object.assign(e,a);this.processEntry(e,b);e.index===void 0&&(e.index=c);return d},this)};d.processEntry=function(a,b){};d.getAllEntries=function(){return this._data||{}};d.getEntry=function(a){return this._data[a]||null};d.setEntry=function(a,b){this._data[a]=b};d.fillCache=function(a){if(!this._enabledLocalCache)return;var b=this.localCache;a.forEach(function(a){var c=this.getEntry(a);if(!c)return;c=this.tokenizeCache(this.getTextToIndex(c)).tokens;for(var d=0,e=c.length;d<e;++d){var f=c[d];Object.prototype.hasOwnProperty.call(b,f)||(b[f]={});b[f][a]=!0}},this)};d.getTextToIndex=function(a){if(a.textToIndex&&!a.needs_update)return a.textToIndex;a.needs_update=!1;a.textToIndex=this.getTextToIndexFromFields(a,this._indexedFields);return a.textToIndex};d.getTextToIndexFromFields=function(a,b){var c=[];for(var d=0;d<b.length;++d){var e=a[b[d]];e&&c.push(e.join?e.join(" "):e)}return c.join(" ")};d.mergeUids=function(a,b,c,d){this.inform("mergeUids",{local_uids:a,query_uids:b,new_uids:c,value:d});this._checkExtendedMatch(d,a);return this.deduplicateByKey(a.sort(this.bootstrapSort.bind(this)).concat(b,c))};d.bootstrapSort=function(a,b){a=this.getEntry(a);b=this.getEntry(b);if(a.extended_match!==b.extended_match)return a.extended_match?1:-1;if(a.index!==b.index)return a.index-b.index;if(a.text.length!==b.text.length)return a.text.length-b.text.length;return a.text===b.text?a.uid<b.uid?-1:1:a.text<b.text?-1:1};d._checkExtendedMatch=function(a,c){var d=this._alwaysPrefixMatch?b("TokenizeUtil").isPrefixMatch:b("TokenizeUtil").isQueryMatch;for(var e=0;e<c.length;++e){var f=this.getEntry(c[e]);f.extended_match=f.tokens?!d(a,f.text):!1}};d.buildUids=function(a,c,d){c||(c=[]);if(!a)return c;d||(d=[]);var e=this.buildCacheResults(a,this.localCache),f=this.buildQueryResults(a);e=this.mergeUids(e,f,c,a);var g=b("createObjectFrom")(d.concat(this._exclusions));f=e.filter(function(b){if(Object.prototype.hasOwnProperty.call(g,b)||!this.getEntry(b))return!1;for(var c=0;c<this._filters.length;++c)if(!this._filters[c](this.getEntry(b),a))return!1;return g[b]=!0},this);return this.uidsIncludingExact(a,f)};d.uidsIncludingExact=function(a,c){var d=c.length;if(d<=this._maxResults||b("str2rstr")(a).length<this._minExactMatchLength)return c;for(var e=0;e<d;++e){var f=this.getEntry(c[e]);if(f.text==null&&f.text_lower==null)continue;f.text_lower||(f.text_lower=f.text.toLowerCase());if(f.text_lower===this.tokenizeCache(a).flatValue){if(e>=this._maxResults){f=c.splice(e,1)[0];c.splice(this._maxResults-1,0,f)}break}}return c};d.buildData=function(a){var b=[],c=Math.min(a.length,this._maxResults);for(var d=0;d<c;++d)b.push(this.getEntry(a[d]));return b};d.findBestPreviousQuery=function(a,b){var c=0,d=null;if(this._queryExactMatch)return Object.prototype.hasOwnProperty.call(b,a)?a:null;for(b in b)a.indexOf(b)===0&&b.length>c&&(c=b.length,d=b);return d};d.findQueryCache=function(a){a=this.findBestPreviousQuery(a,this.getQueryCache());return this.getQueryCache()[a]||[]};d.buildQueryResults=function(a){a=this.tokenizeBackend(a).flatValue;var b=this.findQueryCache(a);if(Object.prototype.hasOwnProperty.call(this.getQueryCache(),a))return b;a=this.filterQueryResults(a,b);return a};d.filterQueryResults=function(a,c){var d=this._alwaysPrefixMatch?b("TokenizeUtil").isPrefixMatch:b("TokenizeUtil").isQueryMatch;return c.filter(function(b){return d(a,this.getTextToIndex(this.getEntry(b)))},this)};d.buildCacheResults=function(a,b){var c=this.tokenizeCache(a,this._alwaysPrefixMatch),d=this._alwaysPrefixMatch?c.sortedTokens:c.tokens,e=d.length;c=c.isPrefixQuery?e-1:null;var f={},g={},h={},i=[],j=!1,k={},l=0;for(var m=0;m<e;++m){var n=d[m];if(!Object.prototype.hasOwnProperty.call(k,n))l++,k[n]=!0;else continue;for(var o in b)if(!Object.prototype.hasOwnProperty.call(f,o)&&o===n||(this._alwaysPrefixMatch||c===m)&&this.cacheUnicodeMatch.prefixMatch(o,n)){o===n?(Object.prototype.hasOwnProperty.call(g,o)&&(j=!0),f[o]=!0):((Object.prototype.hasOwnProperty.call(f,o)||Object.prototype.hasOwnProperty.call(g,o))&&(j=!0),g[o]=!0);for(var p in b[o])(m===0||Object.prototype.hasOwnProperty.call(h,p)&&h[p]==l-1)&&(h[p]=l)}}n=a.toLowerCase();for(o in b)if(!Object.prototype.hasOwnProperty.call(f,o)&&this.cacheUnicodeMatch.prefixMatch(o,n))for(p in b[o])h[p]=l;for(m in h)h[m]==l&&i.push(m);(j||l<e)&&(i=this.filterQueryResults(a,i));this._titleFields&&this._titleFields.length>0&&(i=this.filterNonTitleMatchQueryResults(a,i));return i};d.filterNonTitleMatchQueryResults=function(a,c){return c.filter(function(c){var d=this.tokenizeCache(a),e=d.tokens.length;if(e===0)return!0;c=this.getTitleTerms(this.getEntry(c));d=d.tokens[0];return e===1||this._alwaysPrefixMatch?b("TokenizeUtil").isPrefixMatch(d,c)||this.cacheUnicodeMatch.prefixMatch(c,d):b("TokenizeUtil").isQueryMatch(d,c)},this)};d.getTitleTerms=function(a){a.titleToIndex||(a.titleToIndex=this.getTextToIndexFromFields(a,this._titleFields));return a.titleToIndex};d.deduplicateByKey=function(a){var c=this;if(!this._deduplicationKey)return a;var d=b("createObjectFrom")(a.map(this._getDeduplicationKey.bind(this)),a);return a.filter(function(a){return d[c._getDeduplicationKey(a)]==a})};d._getDeduplicationKey=function(a){var b=this.getEntry(a);if(b[this._deduplicationKey])return b[this._deduplicationKey]+"";else return"__"+a+"__"};d.getQueryCache=function(){return this.queryCache};d.getQueryIDs=function(){return this.queryIDs};d.setMaxResults=function(a){this._maxResults=a,this.value&&this.respond(this.value,this.buildUids(this.value))};d.getMaxResults=function(){return this._maxResults};d.updateToken=function(a){this.token=a;this.dirty();return this};d.getResponseHeaderValue=function(a){var b="";this.transport&&(b=this.transport.getResponseHeader(a),b||(b=""));return b};d._guid=function(){var a=Date.now(),b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=Math.floor((a+Math.random()*16)%16);a=Math.floor(a/16);b=(b=="x"?c:c&7|8).toString(16);return b});return b};return c}(b("mixin")(b("ArbiterMixin")));Object.assign(a.prototype,{events:["bootstrap","query","respond"],asyncErrorHandler:b("emptyFunction")});e.exports=a}),null);
__d("XUIBadge",["cx","invariant","CSS","DOM","formatNumber"],(function(a,b,c,d,e,f,g,h){function i(a){return parseInt(a,10)===a}a=function(){"use strict";function a(a){this.target=a.target,this.count=a.count,this.maxcount=a.maxcount}var c=a.prototype;c.getCount=function(){return this.count};c.setCount=function(a){i(a)||h(0,186),a>=0||h(0,3502),this.count=a,b("CSS").conditionClass(this.target,"hidden_elem",this.count===0),b("DOM").setContent(this.target,b("formatNumber").withMaxLimit(a,this.maxcount)),a>this.maxcount?b("CSS").addClass(this.target,"_5ugi"):b("CSS").removeClass(this.target,"_5ugi")};c.setLegacyContent=function(a){typeof a==="string"?(b("CSS").conditionClass(this.target,"hidden_elem",a==0),b("DOM").setContent(this.target,a),b("CSS").removeClass(this.target,"_5ugi")):this.setCount(a)};c.increment=function(){this.setCount(this.getCount()+1)};return a}();e.exports=a}),null);
__d("SplitImage.react",["cx","Image.react","joinClasses","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.size,c=this.props.srcs,d=this.props.border,e=this.props.className,f=this.props.halfView;if(c.length===0)return null;var g=null;c.length===1?g=this.$1(c[0],a):c.length===2?g=this.$2(c,a,d):g=this.$3(c,a,d,f);return i.jsx("div",{className:b("joinClasses")(e,"_55lt"),style:{width:a,height:a},children:g})};d.$1=function(a,c){return i.jsx(b("Image.react"),{src:a,width:c,height:c,alt:""})};d.$2=function(a,c,d){var e=Math.floor(c/2),f=-Math.floor(e/2);d="_55lu"+(d?" _57xo":"");return i.jsxs("div",{children:[i.jsx("div",{className:"_55lu",style:{width:e},children:i.jsx(b("Image.react"),{src:a[0],width:c,height:c,style:{marginLeft:f},alt:""})}),i.jsx("div",{className:d,style:{width:e},children:i.jsx(b("Image.react"),{src:a[1],width:c,height:c,style:{marginLeft:f},alt:""})})]})};d.$3=function(a,c,d,e){e=e===!0?Math.floor(c/3*1.5)+1:Math.floor(c/3*2);var f=-Math.floor((c-e)/2),g=Math.floor(c/2),h=c-e,j=-Math.floor((g-h)/2),k="_55lu"+(d?" _57pl":"");d="_55lu"+(d?" _57pm":"");return i.jsxs("div",{children:[i.jsx("div",{className:k,style:{width:e},children:i.jsx(b("Image.react"),{src:a[0],width:c,height:c,style:{marginLeft:f},alt:""})}),i.jsx("div",{className:d,style:{width:h,height:g},children:i.jsx(b("Image.react"),{src:a[1],width:g,height:g,style:{marginLeft:j},alt:""})}),i.jsx("div",{className:"_55lu",style:{width:h,height:g},children:i.jsx(b("Image.react"),{src:a[2],width:g,height:g,style:{marginLeft:j},alt:""})})]})};return c}(i.Component);e.exports=a}),null);
__d("SRLink.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("a",babelHelpers["extends"]({},this.props,{children:this.props.children}))};return b}(h.Component);g["default"]=a}),98);
__d("FBPaymentsDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(c("ExplicitRegistrationReactDispatcher"));b=new a({strict:!1});g["default"]=b}),98);
__d("FBPaymentsDialogActions",["FBPaymentsDispatcher","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";var h=c("keyMirror")({SHOW_DIALOG:null,HIDE_DIALOG:null});function a(a,b){c("FBPaymentsDispatcher").dispatch({type:h.SHOW_DIALOG,data:{dialogClass:a,dialogProps:b}})}function b(){c("FBPaymentsDispatcher").dispatch({type:h.HIDE_DIALOG,data:{}})}g.types=h;g.showDialog=a;g.hideDialog=b}),98);
__d("MsgrPresenceUpdateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2511");b=d("FalcoLoggerInternal").create("msgr_presence_update",a);e=b;g["default"]=e}),98);
__d("P2PTransferStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({SYSTEM_FAILURE:0,PENDING_SENDER_MANUAL_REVIEW:1,PENDING_SENDER_VERIFICATION:2,CANCELED_SENDER_RISK:3,PENDING_RECIPIENT_NUX:4,CANCELED_DECLINED:5,PENDING_RECIPIENT_VERIFICATION:6,PENDING_RECIPIENT_MANUAL_REVIEW:7,PENDING_RECIPIENT_PROCESSING:8,PENDING_PUSH_FAIL:9,CANCELED_RECIPIENT_RISK:10,CANCELED_SYSTEM_FAIL:11,CANCELED_EXPIRED:12,COMPLETED:13,INTERMEDIATE_PROCESSING:14,PENDING_SENDER_INITED:15,CANCELED_SAME_CARD:16,PENDING_SENDER_VERIFICATION_PROCESSING:17,PENDING_RECIPIENT_VERIFICATION_PROCESSING:18,CANCELED_SENDER_CANCEL:19,PENDING_SENDER_IDV_REVIEW:20,PENDING_RECEIVER_IDV_REVIEW:21});f["default"]=a}),66);
__d("PaymentModulesClient",[],(function(a,b,c,d,e,f){a=Object.freeze({DONATION_P4P:"donation_p4p",MOR_DONATIONS:"mor_donations",PPGF_DONATION:"ppgf_donation",DONATION_P4C:"donation_p4c",INSTANT_EXPERIENCES:"instant_experiences",BUSINESS_PLATFORM_COMMERCE:"business_platform_commerce",MESSENGER_OMNIM:"messenger_omnim",MESSENGER_PLATFORM:"messenger_platform",PAGES_COMMERCE:"pages_commerce",MESSAGING_COMMERCE:"messaging_commerce",SHIPPING_LABEL:"shipping_label",SYNCHRONOUS_COMPONENT_FLOW:"synchronous_component_flow",PAGES_SOLUTION:"pages_solution",CHECKOUT_EXPERIENCES:"checkout_experiences",C2C_CHECKOUT_EXPERIENCES:"c2c_checkout_experiences",MOBILE_TOP_UP:"mobile_top_up",MOCK:"mock",ADVERTISER_SUBSCRIPTION:"advertiser_subscription",NMOR_FB_BROWSER_PAY:"fb_browser_payment",P2M_MESSENGER:"p2m_messenger"});f["default"]=a}),66);
__d("onAfterDisplay",["NavigationMetrics","TimeSlice","requestIdleCallback"],(function(a,b,c,d,e,f,g){"use strict";var h=[],i=!1;function a(a){a=c("TimeSlice").guard(a,"onAfterDisplay invocation",{propagationType:c("TimeSlice").PropagationType.ORPHAN});i?c("requestIdleCallback")(a):h.push(a)}c("NavigationMetrics").addRetroactiveListener(c("NavigationMetrics").Events.EVENT_OCCURRED,function(a,b){["all_pagelets_displayed","e2e"].indexOf(b.event)>-1&&!i&&(i=!0,h.forEach(function(a){c("requestIdleCallback")(a)}))});g["default"]=a}),98);
__d("RelayFBLiveEnvironmentFactory",["RelayFBHandlerProvider","RelayFBOperationLoader","RelayModern","cr:1121434","getRelayFBMissingFieldHandlers","liveQueryFetch","liveQueryFetchWithWWWInitial","relay-runtime","relayFBGetDataID","resolveImmediate"],(function(a,b,c,d,e,f,g){"use strict";a=d("RelayModern").createEnvironmentFactory(function(a){return{configName:"RelayFBLiveEnvironment",networkConfig:{liveQueryFetchFn:c("liveQueryFetch"),liveQueryFetchWithWWWInitialFn:c("liveQueryFetchWithWWWInitial")},handlerProvider:c("RelayFBHandlerProvider"),log:b("cr:1121434")!=null?b("cr:1121434")():null,operationLoader:c("RelayFBOperationLoader"),store:new(d("relay-runtime").Store)(new(d("relay-runtime").RecordSource)(),{getDataID:c("relayFBGetDataID"),gcReleaseBufferSize:10,gcScheduler:c("resolveImmediate"),operationLoader:c("RelayFBOperationLoader")}),missingFieldHandlers:c("getRelayFBMissingFieldHandlers")(),getDataID:c("relayFBGetDataID"),actorID:a}});g["default"]=a}),98);
__d("XGroupsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/{idorvanity}/{?view}/{?post_id}/",{comment_id:{type:"IntOrPFBID"},reply_comment_id:{type:"IntOrPFBID"},comment_tracking:{type:"String"},idorvanity:{type:"String",required:!0},view:{type:"Enum",enumType:1},post_id:{type:"Int"},story_title:{type:"String"},rule_id:{type:"Int"},ref:{type:"String"},source_id:{type:"String"},notif_t:{type:"String"},nux:{type:"Enum",enumType:1},tip_id:{type:"Int"},feedback_id:{type:"FBID"},member_tag_id:{type:"FBID"},section:{type:"Enum",enumType:1},thread_id:{type:"String"},support_thread_id:{type:"String"},mentorship_profile_id:{type:"FBID"},autopopup_create_chat_dialog:{type:"Bool",defaultValue:!1},sorting_setting:{type:"String"},multi_events:{type:"String"},stories:{type:"Exists",defaultValue:!1},topics:{type:"Exists",defaultValue:!1},highlight_location:{type:"Exists",defaultValue:!1},highlight_sections:{type:"Exists",defaultValue:!1},highlight_groupapps:{type:"Exists",defaultValue:!1},highlight_pixel:{type:"Exists",defaultValue:!1},highlight_mentorship_option:{type:"Exists",defaultValue:!1},highlight_fundraiser_option:{type:"Exists",defaultValue:!1},highlight_auto_approval:{type:"Exists",defaultValue:!1},highlight_page_member:{type:"Exists",defaultValue:!1},highlight_units_edit_bar:{type:"Exists",defaultValue:!1},highlight_keyword_alerts:{type:"Exists",defaultValue:!1},queue:{type:"Enum",enumType:1},composer_prefill:{type:"String"},hide_workplace_pagelet:{type:"Bool",defaultValue:!1},permalink_add_comment_nux_shown:{type:"Bool",defaultValue:!1},work_learning_entry_point:{type:"Enum",enumType:1},chained_wp:{type:"Bool",defaultValue:!1},hoist_pending_member_ids_suggested_order:{type:"FBIDKeyset"},hashtags:{type:"Exists",defaultValue:!1},sale_post_id:{type:"FBID"},exp:{type:"String"},invite_short_link_key:{type:"String"},member_modal:{type:"Bool",defaultValue:!1},onboarding:{type:"Enum",enumType:1},email_type:{type:"Enum",enumType:1},link_type:{type:"Enum",enumType:1},module_type:{type:"Enum",enumType:1},user_id:{type:"FBID"}})}),null);
__d("MessagingThreadType",[],(function(a,b,c,d,e,f){a=Object.freeze({COMMUNITY_FOLDER:17,COMMUNITY_GROUP:18,COMMUNITY_GROUP_UNJOINED:19,COMMUNITY_CHANNEL_CATEGORY:20,COMMUNITY_PRIVATE_HIDDEN_JOINED_THREAD:21,COMMUNITY_PRIVATE_HIDDEN_UNJOINED_THREAD:22,COMMUNITY_BROADCAST_JOINED_THREAD:23,COMMUNITY_BROADCAST_UNJOINED_THREAD:24,COMMUNITY_GROUP_INVITED_UNJOINED:25,COMMUNITY_SUB_THREAD:26,DISCOVERABLE_PUBLIC_CHAT:150,DISCOVERABLE_PUBLIC_CHAT_UNJOINED:151,DISCOVERABLE_PUBLIC_BROADCAST_CHAT:152,DISCOVERABLE_PUBLIC_BROADCAST_CHAT_UNJOINED:153,DISCOVERABLE_PUBLIC_CHAT_V2:154,DISCOVERABLE_PUBLIC_CHAT_V2_UNJOINED:155,ONE_TO_ONE:1,GROUP:2,ROOM:3,MONTAGE:4,MARKETPLACE:5,FOLDER:6,TINCAN_ONE_TO_ONE:7,TINCAN_GROUP_DISAPPEARING:8,CARRIER_MESSAGING_ONE_TO_ONE:10,CARRIER_MESSAGING_GROUP:11,TINCAN_ONE_TO_ONE_DISAPPEARING:13,PAGE_FOLLOW_UP:14,SECURE_MESSAGE_OVER_WA_ONE_TO_ONE:15,SECURE_MESSAGE_OVER_WA_GROUP:16,PINNED:101,LWG:102,XAC_GROUP:200,AI_BOT:201});f["default"]=a}),66);
__d("bs_caml_array",[],(function(a,b,c,d,e,f){"use strict";function a(b,c,a){var d=new Array(a),e=0;c=c;while(e<a)d[e]=b[c],e=e+1|0,c=c+1|0;return d}function g(a,b){while(!0){var c=b,d=a;if(!c)return d;b=c.tl;a=c.hd.length+d|0;continue}}function h(a,b,c){while(!0){var d=c,e=b;if(!d)return;var f=d.hd,g=f.length;e=e;var h=0;while(h<g)a[e]=f[h],e=e+1|0,h=h+1|0;c=d.tl;b=e;continue}}function b(a){var b=g(0,a);b=new Array(b);h(b,0,a);return b}function c(a,b,c){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};a[b]=c}function d(a,b){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};return a[b]}function e(a,b){var c=new Array(a);for(var d=0;d<a;++d)c[d]=b;return c}function i(a){var b=new Array(a);for(var c=0;c<a;++c)b[c]=0;return b}function j(b,c,d,e,a){if(e<=c){for(var f=0;f<a;++f)d[f+e|0]=b[f+c|0];return}for(f=a-1|0;f>=0;--f)d[f+e|0]=b[f+c|0]}function k(a){return a.slice(0)}f.dup=k;f.sub=a;f.concat=b;f.make=e;f.make_float=i;f.blit=j;f.get=d;f.set=c}),null);
__d("bs_curry",["bs_caml_array"],(function(a,b,c,d,e,f){"use strict";function g(a,c){while(!0){var d=c,e=a,f=e.length;f=f===0?1:f;var h=d.length;h=f-h|0;if(h===0)return e.apply(null,d);if(h>=0)return function(b,a){return function(c){return g(b,a.concat([c]))}}(e,d);c=b("bs_caml_array").sub(d,f,-h|0);a=e.apply(null,b("bs_caml_array").sub(d,0,f));continue}}function h(a,b){var c=a.length;if(c===1)return a(b);else switch(c){case 1:return a(b);case 2:return function(c){return a(b,c)};case 3:return function(c,d){return a(b,c,d)};case 4:return function(c,d,e){return a(b,c,d,e)};case 5:return function(c,d,e,f){return a(b,c,d,e,f)};case 6:return function(c,d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(c,d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b])}}function a(a){var b=a.length;if(b===1)return a;else return function(b){return h(a,b)}}function i(a,b,c){var d=a.length;if(d===2)return a(b,c);else switch(d){case 1:return g(a(b),[c]);case 2:return a(b,c);case 3:return function(d){return a(b,c,d)};case 4:return function(d,e){return a(b,c,d,e)};case 5:return function(d,e,f){return a(b,c,d,e,f)};case 6:return function(d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c])}}function c(a){var b=a.length;if(b===2)return a;else return function(b,c){return i(a,b,c)}}function j(a,b,c,d){var e=a.length;if(e===3)return a(b,c,d);else switch(e){case 1:return g(a(b),[c,d]);case 2:return g(a(b,c),[d]);case 3:return a(b,c,d);case 4:return function(e){return a(b,c,d,e)};case 5:return function(e,f){return a(b,c,d,e,f)};case 6:return function(e,f,g){return a(b,c,d,e,f,g)};case 7:return function(e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d])}}function d(a){var b=a.length;if(b===3)return a;else return function(b,c,d){return j(a,b,c,d)}}function k(a,b,c,d,e){var f=a.length;if(f===4)return a(b,c,d,e);else switch(f){case 1:return g(a(b),[c,d,e]);case 2:return g(a(b,c),[d,e]);case 3:return g(a(b,c,d),[e]);case 4:return a(b,c,d,e);case 5:return function(f){return a(b,c,d,e,f)};case 6:return function(f,g){return a(b,c,d,e,f,g)};case 7:return function(f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e])}}function e(a){var b=a.length;if(b===4)return a;else return function(b,c,d,e){return k(a,b,c,d,e)}}function l(a,b,c,d,e,f){var h=a.length;if(h===5)return a(b,c,d,e,f);else switch(h){case 1:return g(a(b),[c,d,e,f]);case 2:return g(a(b,c),[d,e,f]);case 3:return g(a(b,c,d),[e,f]);case 4:return g(a(b,c,d,e),[f]);case 5:return a(b,c,d,e,f);case 6:return function(g){return a(b,c,d,e,f,g)};case 7:return function(g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e,f])}}function m(a){var b=a.length;if(b===5)return a;else return function(b,c,d,e,f){return l(a,b,c,d,e,f)}}function n(a,b,c,d,e,f,h){var i=a.length;if(i===6)return a(b,c,d,e,f,h);else switch(i){case 1:return g(a(b),[c,d,e,f,h]);case 2:return g(a(b,c),[d,e,f,h]);case 3:return g(a(b,c,d),[e,f,h]);case 4:return g(a(b,c,d,e),[f,h]);case 5:return g(a(b,c,d,e,f),[h]);case 6:return a(b,c,d,e,f,h);case 7:return function(g){return a(b,c,d,e,f,h,g)};default:return g(a,[b,c,d,e,f,h])}}function o(a){var b=a.length;if(b===6)return a;else return function(b,c,d,e,f,g){return n(a,b,c,d,e,f,g)}}function p(a,b,c,d,e,f,h,i){var j=a.length;if(j===7)return a(b,c,d,e,f,h,i);else switch(j){case 1:return g(a(b),[c,d,e,f,h,i]);case 2:return g(a(b,c),[d,e,f,h,i]);case 3:return g(a(b,c,d),[e,f,h,i]);case 4:return g(a(b,c,d,e),[f,h,i]);case 5:return g(a(b,c,d,e,f),[h,i]);case 6:return g(a(b,c,d,e,f,h),[i]);case 7:return a(b,c,d,e,f,h,i);default:return g(a,[b,c,d,e,f,h,i])}}function q(a){var b=a.length;if(b===7)return a;else return function(b,c,d,e,f,g,h){return p(a,b,c,d,e,f,g,h)}}function r(a,b,c,d,e,f,h,i,j){var k=a.length;if(k===8)return a(b,c,d,e,f,h,i,j);else switch(k){case 1:return g(a(b),[c,d,e,f,h,i,j]);case 2:return g(a(b,c),[d,e,f,h,i,j]);case 3:return g(a(b,c,d),[e,f,h,i,j]);case 4:return g(a(b,c,d,e),[f,h,i,j]);case 5:return g(a(b,c,d,e,f),[h,i,j]);case 6:return g(a(b,c,d,e,f,h),[i,j]);case 7:return g(a(b,c,d,e,f,h,i),[j]);default:return g(a,[b,c,d,e,f,h,i,j])}}function s(a){var b=a.length;if(b===8)return a;else return function(b,c,d,e,f,g,h,i){return r(a,b,c,d,e,f,g,h,i)}}f.app=g;f._1=h;f.__1=a;f._2=i;f.__2=c;f._3=j;f.__3=d;f._4=k;f.__4=e;f._5=l;f.__5=m;f._6=n;f.__6=o;f._7=p;f.__7=q;f._8=r;f.__8=s}),null);
__d("bs_belt_Option",["bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a,c){if(a!==void 0&&c(b("bs_caml_option").valFromOption(a)))return a}function a(a,c){return g(a,b("bs_curry").__1(c))}function h(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function c(a,c){return h(a,b("bs_curry").__1(c))}function d(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a);throw{RE_EXN_ID:"Not_found",Error:new Error()}}function i(a,c,d){if(a!==void 0)return d(b("bs_caml_option").valFromOption(a));else return c}function e(a,c,d){return i(a,c,b("bs_curry").__1(d))}function j(a,c){if(a!==void 0)return b("bs_caml_option").some(c(b("bs_caml_option").valFromOption(a)))}function k(a,c){return j(a,b("bs_curry").__1(c))}function l(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function m(a,c){return l(a,b("bs_curry").__1(c))}function n(a,c){if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return c}function o(a){return a!==void 0}function p(a){return a===void 0}function q(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return!1;else return c===void 0}function r(a,c,d){return q(a,c,b("bs_curry").__2(d))}function s(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return 1;else if(c!==void 0)return-1;else return 0}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}f.keepU=g;f.keep=a;f.forEachU=h;f.forEach=c;f.getExn=d;f.mapWithDefaultU=i;f.mapWithDefault=e;f.mapU=j;f.map=k;f.flatMapU=l;f.flatMap=m;f.getWithDefault=n;f.isSome=o;f.isNone=p;f.eqU=q;f.eq=r;f.cmpU=s;f.cmp=t}),null);