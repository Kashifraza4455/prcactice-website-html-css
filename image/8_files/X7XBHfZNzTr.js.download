;/*FB_PKG_DELIM*/

__d("MessagingTag",[],(function(a,b,c,d,e,f){e.exports={ACTION_ARCHIVED:"action:archived",INBOX:"inbox",MARKETPLACE_FOLDER:"marketplace_folder",PENDING:"pending",MONTAGE:"montage",OTHER:"other",EVENT:"event",SENT:"sent",SPAM:"spam",UPDATES:"broadcasts_inbox",BCC:"header:bcc",FILTERED_CONTENT:"filtered_content",FILTERED_CONTENT_BH:"filtered_content_bh",FILTERED_CONTENT_ACCOUNT:"filtered_content_account",FILTERED_CONTENT_QUASAR:"filtered_content_quasar",FILTERED_CONTENT_INVALID_APP:"filtered_content_invalid_app",UNAVAILABLE_ATTACHMENT:"unavailable_attachment",UNREAD:"unread",FLAGGED:"flagged",GROUPS:"groups",TRANSITIONAL_MAILBOX:"transitional_mailbox",ARCHIVED:"archived",EMAIL:"email",VOICEMAIL:"voicemail",SPAM_SPOOFING:"spam:spoofing",SPOOF_WARNING:"MTA:spoof_warning",SMS_TAG_ROOT:"SMSShortcode:",APP_ID_ROOT:"app_id:",DOMAIN_AUTH_PASS:"MTA:dmarc:pass",DOMAIN_AUTH_FAIL:"MTA:dmarc:fail",MTA_SYSTEM_MESSAGE:"MTA:system_message",EMAIL_MESSAGE:"source:email",MARKETPLACE:"marketplace",BC_PARTNERSHIP:"bc_partnership",ROOM:"room",PAGES:"pages",PAGE_BACKGROUND:"page_background",PAGE_FOLLOWUP:"page_followup",ONE_CLICK_MESSAGE:"page_one_click_message",MESSAGE_REQUEST_AGGREGATION_UNIT:"message_request_aggregation_unit",ONE_WAY_MESSAGE:"one_way_message",ACTION_COPIED_MESSAGE:"action:copy_message",ACTION_COPIED_SELF_MESSAGE:"copy_self_message",ACTION_COPIED_ATTACHMENT:"action:copy_attachment",ACTION_COPIED_SELF_ATTACHMENT:"copy_self_attachment",STORY_REPLY:"story_reply",IRIS_MAPPING:{FOLDER_INVALID:null,FOLDER_INBOX:"inbox",FOLDER_OTHER:"other",FOLDER_SPAM:"spam",FOLDER_PENDING:"pending",FOLDER_MONTAGE:"montage",FOLDER_HIDDEN:"hidden",FOLDER_DISABLED:"disabled",FOLDER_PAGE_BACKGROUND:"page_background",FOLDER_PAGE_DONE:"page_done",FOLDER_BLOCKED:"blocked",FOLDER_COMMUNITY:"community",FOLDER_RESTRICTED:"restricted",FOLDER_BC_PARTNERSHIP:"bc_partnership",FOLDER_E2EE_CUTOVER:"e2ee_cutover",FOLDER_INTEROP:"interop"}}}),null);
__d("FantaDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ExplicitRegistrationDispatcher"));b=new a({strict:!1});g["default"]=b}),98);
__d("MercuryIDs",["gkx"],(function(a,b,c,d,e,f){"use strict";var g={isValid:function(a){return a==null||a===""||typeof a!=="string"?!1:/^\w{3,12}:.+/.test(a)},isValidThreadID:function(a){if(!g.isValid(a))return!1;a=g.tokenize(a);switch(a.type){case"user":case"support":case"thread":case"root":return!0;default:return(a.type==="pending"||a.type==="group")&&!b("gkx")("863760")?!0:!1}},tokenize:function(a){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var b=a.indexOf(":");return{type:a.substr(0,b),value:a.substr(b+1)}},getUserIDFromParticipantID:function(a){if(!g.isValid(a))throw new Error("bad_id_format "+a);a=g.tokenize(a);var b=a.type;a=a.value;return b==="fbid"?a:null},getParticipantIDFromUserID:function(a){if(isNaN(a))throw new Error("Not a user ID: "+a);return"fbid:"+a},getUserIDFromThreadID:function(a){return!this.isCanonical(a)?null:this.tokenize(a).value},getThreadIDFromUserID:function(a){return"user:"+a},getThreadIDFromThreadFBID:function(a){return"thread:"+a},getThreadIDFromSupportInboxItemID:function(a){return"support:"+a},getThreadFBIDFromThreadID:function(a){return this.tokenize(a).value},getThreadKeyfromThreadIDUserID:function(a,b){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var c=this.tokenize(a).type;a=this.tokenize(a).value;if(c!=="user")return"g"+a;c="";var d="";if(a.length!==b.length)a.length>b.length?(c=a,d=b):(c=b,d=a);else if(b===a)return b+"u"+a;else{var e=0;while(e<a.length&&e<b.length)if(a[e]===b[e])e++;else{a[e]>b[e]?(c=a,d=b):(c=b,d=a);break}}return d+"u"+c},getThreadIDFromParticipantID:function(a){a=this.getUserIDFromParticipantID(a);return a?this.getThreadIDFromUserID(a):null},getParticipantIDFromFromThreadID:function(a){a=this.getUserIDFromThreadID(a);return a?this.getParticipantIDFromUserID(a):null},getSupportInboxItemIDFromThreadID:function(a){return this.tokenize(a).value},isCanonical:function(a){return this.isValid(a)&&this.tokenize(a).type==="user"},isGroupChat:function(a){return this.isValid(a)&&this.tokenize(a).type!=="user"},isLocalThread:function(a){return this.isValid(a)&&this.tokenize(a).type==="root"}};e.exports=g}),null);
__d("WebMessengerThreadPermalinks",["MercuryIDs","MessagingTag","MessengerURIConstants","URI","WWWBase","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f="";d("MercuryIDs").isCanonical(a)?f=d("MercuryIDs").tokenize(a).value:c("requireWeak")("MercuryThreadIDMap",function(b){f=b.get().getServerIDFromClientIDNow(a)});e=h(f||"",e);b&&b(e)}function h(a,b){var d=new(c("URI"))(c("WWWBase").uri),e=c("MessengerURIConstants").FACEBOOK_PREFIX;if(b)switch(b){case c("MessagingTag").OTHER:e+="/filtered";break;case c("MessagingTag").PENDING:e+="/requests";break;case c("MessagingTag").INBOX:break;default:e+="/"+b;break}d.setPath(e+c("MessengerURIConstants").THREAD_PREFIX+a);return d.toString()}function b(a,b){var d=new(c("URI"))(c("WWWBase").uri),e=c("MessengerURIConstants").FACEBOOK_PREFIX;d.setPath(i(e,b)+"/t/"+a);return d.toString()}function i(a,b){b&&b!=c("MessagingTag").INBOX&&(a+="/"+b);return a}g.getThreadURI=a;g.getThreadURIFromServerID=h;g.getThreadURIFromUserID=b}),98);
__d("FantaTabActions",["Bootloader","CurrentUser","Env","FBIDCheck","FantaDispatcher","MercuryIDs","MessengerURIConstants","URI","WebMessengerThreadPermalinks","WorkplaceChatHelper","goURI","ifRequired","keyMirror","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=c("keyMirror")({BLUR_TAB:null,CLEAR_PAGE_INDICATOR_DESCRIPTION:null,CLOSE_ALL_TABS:null,CLOSE_AND_TAB_NEXT:null,CLOSE_TAB:null,DELETE_TAB:null,FOCUS_NEXT_TAB:null,FOCUS_PREVIOUS_TAB:null,FOCUS_TAB:null,HIGHLIGHT_NEW_MESSAGE:null,HOVERED_TAB:null,JUMP_TO_MESSAGE:null,LOAD_FROM_DATA:null,MINIMIZE_ALL_TABS:null,MINIMIZE_TAB:null,OPEN_TAB_WITH_INTERSTITIAL_DATA:null,OPEN_TAB:null,OPT_IN_OPEN_TAB_WITH_BLOCKEES:null,CLOSE_GROUP_ENTRANCE_WARNING_DIALOG:null,REPLACE_TAB:null,SCROLL_BOTTOM_CHANGED:null,SET_ALLOWED_RAISED_TABS:null,SET_MESSAGE_COUNT:null,SET_PAGE_INDICATOR_DESCRIPTION:null,SET_PERMANENT_URI:null,SHOW_UNSEEN_MESSAGES:null,UNHIGHLIGHT_NEW_MESSAGE:null,UNHOVERED_TAB:null,UNMINIMIZE_TAB:null,WIPE_JUMP_TO_MESSAGE:null,CREATE_NEW_NAMED_GROUP_CHAT:null});function i(a,b){var e=a?new(c("URI"))(d("WebMessengerThreadPermalinks").getThreadURIFromServerID(a)):new(c("URI"))(c("MessengerURIConstants").COMPOSE_SUBPATH);c("ifRequired")("BusinessURI.brands",function(a){return c("goURI")(a(e))},function(){return c("setTimeout")(function(){j(a,b)},100)})}function a(a,b,c){j(a,b,c,!0)}function j(a,b,e,f,g){if(c("Env").isCQuick){var j=d("MercuryIDs").getUserIDFromThreadID(a);c("Bootloader").loadModules(["BlueCompatRouter"],function(a){j!=null&&a.startChat(j,!d("FBIDCheck").isUser_deprecated(j))},"FantaTabActions");return}if(c("CurrentUser").isWorkUser()){var l=c("ifRequired")("WorkGalahadChat_DEPRECATED",function(b){b.openThreadFromThreadID(a);return!0},function(){return!1});if(l)return}c("ifRequired")("FantaTabsEagerBootloader",function(a){return a.bootload()});M(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB,tabID:a,entryPoint:b,defaultText:e,isNewMessageTab:f,defaultPreview:g}),c("ifRequired")("FantaTabsReactApp",function(c){k(a,b)},function(){k(a,b,function(){return i(a,b)})})})}function b(a,b,d){M(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:a,interstitialData:b,entryPoint:d}),c("ifRequired")("FantaTabsReactApp",function(c){l(a,b,d)},function(){l(a,b,d)})})}function k(a,b,d){c("ifRequired")("FantaTabsSlimApp",function(d){c("ifRequired")("FantaAppStore",function(){},function(){d.getPumpedUp(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB,tabID:a,entryPoint:b})})})},function(){return d&&d(a)})}function l(a,b,d){c("ifRequired")("FantaTabsSlimApp",function(e){c("ifRequired")("FantaAppStore",function(){},function(){e.getPumpedUp(function(){c("FantaDispatcher").dispatch({type:h.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:a,interstitialData:b,entryPoint:d})})})})}function e(a,b){c("FantaDispatcher").dispatch({type:h.REPLACE_TAB,tabID:a,newTabID:b})}function f(a){c("FantaDispatcher").dispatch({type:h.MINIMIZE_TAB,tabID:a})}function m(){c("FantaDispatcher").dispatch({type:h.MINIMIZE_ALL_TABS})}function n(a){c("FantaDispatcher").dispatch({type:h.UNMINIMIZE_TAB,tabID:a})}function o(a){c("FantaDispatcher").dispatch({type:h.OPT_IN_OPEN_TAB_WITH_BLOCKEES,tabID:a})}function p(a){c("FantaDispatcher").dispatch({type:h.CLOSE_GROUP_ENTRANCE_WARNING_DIALOG,tabID:a})}function q(a){c("FantaDispatcher").dispatch({type:h.CLOSE_TAB,tabID:a})}function r(){c("FantaDispatcher").dispatch({type:h.CLOSE_ALL_TABS})}function s(a){c("FantaDispatcher").dispatch({type:h.CLOSE_AND_TAB_NEXT,tabID:a})}function t(a){c("FantaDispatcher").dispatch({type:h.DELETE_TAB,tabID:a})}function u(a){c("FantaDispatcher").dispatch({type:h.FOCUS_TAB,tabID:a})}function v(a){c("FantaDispatcher").dispatch({type:h.BLUR_TAB,tabID:a})}function w(a){c("FantaDispatcher").dispatch({type:h.HOVERED_TAB,tabID:a})}function x(a){c("FantaDispatcher").dispatch({type:h.UNHOVERED_TAB,tabID:a})}function y(a){c("FantaDispatcher").dispatch({type:h.HIGHLIGHT_NEW_MESSAGE,tabId:a})}function z(a){c("FantaDispatcher").dispatch({type:h.UNHIGHLIGHT_NEW_MESSAGE,tabId:a})}function A(a){c("FantaDispatcher").dispatch({type:h.SET_ALLOWED_RAISED_TABS,allowedRaisedTabs:a})}function B(a){if(d("WorkplaceChatHelper").suppressChatIfActiveOnDesktop())return;M(function(){a&&c("FantaDispatcher").dispatch({type:h.LOAD_FROM_DATA,tabData:a})})}function C(a){c("FantaDispatcher").dispatch({type:h.FOCUS_NEXT_TAB,event:a})}function D(a){c("FantaDispatcher").dispatch({type:h.FOCUS_PREVIOUS_TAB,event:a})}function E(b,d,a){c("FantaDispatcher").dispatch({type:h.SCROLL_BOTTOM_CHANGED,isScrolledToBottom:d,tabID:b,showUnseenMessages:a})}function F(a,b){c("FantaDispatcher").dispatch({type:h.JUMP_TO_MESSAGE,mid:b,tabID:a})}function G(a){c("FantaDispatcher").dispatch({type:h.WIPE_JUMP_TO_MESSAGE,tabID:a})}function H(a,b){c("FantaDispatcher").dispatch({type:h.SET_PAGE_INDICATOR_DESCRIPTION,tabID:a,description:b})}function I(a){c("FantaDispatcher").dispatch({type:h.CLEAR_PAGE_INDICATOR_DESCRIPTION,tabID:a})}function J(a){c("FantaDispatcher").dispatch({type:h.SHOW_UNSEEN_MESSAGES,tabID:a})}function K(a,b){c("FantaDispatcher").dispatch({type:h.SET_PERMANENT_URI,tabID:a,uri:b})}function L(a,b){c("FantaDispatcher").dispatch({type:h.CREATE_NEW_NAMED_GROUP_CHAT,tabID:a,tokens:b})}function M(a){c("ifRequired")("FantaReducersGetMessages",function(){a()},function(){c("ifRequired")("FantaAppStore",function(b){c("Bootloader").loadModules(["FantaReducersGetMessages"],function(c){b.addReducers(c),a()},"FantaTabActions")},function(){a()})})}g.Types=h;g.openNewMessageTab=a;g.openTab=j;g.openInterstitialTab=b;g._tryLoadSlimApp=k;g._tryLoadSlimAppWithInterstitialData=l;g.replaceTab=e;g.minimizeTab=f;g.minimizeAllTabs=m;g.unminimizeTab=n;g.optInOpenTabWithBlockees=o;g.closeGroupEntranceWarningDialog=p;g.closeTab=q;g.closeAllTabs=r;g.closeAndTabNext=s;g.deleteTab=t;g.focusTab=u;g.blurTab=v;g.hoveredTab=w;g.unhoveredTab=x;g.highlightNewMessage=y;g.unhighlightNewMessage=z;g.setAllowedRaisedTabs=A;g.loadFromData=B;g.focusNextTab=C;g.focusPreviousTab=D;g.scrollBottomChanged=E;g.jumpToMessage=F;g.wipeJumpToMessage=G;g.setPageIndicatorDescription=H;g.clearPageIndicatorDescription=I;g.showUnseenMessages=J;g.setPermanentUri=K;g.createNewNamedGroupChat=L;g.dispatchOrBootloadGetMessages=M}),98);