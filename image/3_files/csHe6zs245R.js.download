;/*FB_PKG_DELIM*/

__d("UFI2ComposerAction.react",["UFI2TooltipCometCompatWrapper.react","cr:844029","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(d,a);function d(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.state={initializeComponentClicked:!1,popoverShown:!1,shouldBeginBootloading:!1},d.$2=function(a){d.$1=!1,d.props.placeholder.props.onBlur&&d.props.placeholder.props.onBlur(a)},d.$3=function(a){d.$1=!0,d.$4(),d.props.placeholder.props.onFocus&&d.props.placeholder.props.onFocus(a)},d.$5=function(a){d.$4(),d.props.placeholder.props.onMouseUp&&d.props.placeholder.props.onMouseUp(a),d.setState(function(a){a=a.initializeComponentClicked;return{initializeComponentClicked:!a}})},d.$6=function(a){d.$4(),d.props.placeholder.props.onMouseOver&&d.props.placeholder.props.onMouseOver(a)},d.$7=function(a){if(a!=null&&d.$1){d.$1=!1;if(b("cr:844029")!=null)b("cr:844029").set(a,!0);else try{a.focus()}catch(a){}}},d.$8=function(a){d.setState({popoverShown:a})},c)||babelHelpers.assertThisInitialized(d)}var e=d.prototype;e.$4=function(){this.state.shouldBeginBootloading||this.setState({shouldBeginBootloading:!0})};e.render=function(){var a=this.state,b=a.popoverShown;a=a.shouldBeginBootloading;var d=this.props,e=d.resource;d=d.label;var f=h.cloneElement(this.props.placeholder,{hasBeenClicked:this.state.initializeComponentClicked,onBlur:this.$2,onFocus:this.$3,onMouseOver:this.$6,onMouseUp:this.$5});return h.jsx(c("UFI2TooltipCometCompatWrapper.react"),{alignH:"center",delayMountUntilHover:!0,position:"above",tooltip:b?null:d,children:h.jsx(h.Suspense,{fallback:f,children:a?h.jsx(e,babelHelpers["extends"]({onFocusableElementRefChange:this.$7,onTogglePopover:this.$8},this.props.createComponentProps({clicked:this.state.initializeComponentClicked}))):f})})};return d}(h.Component);g["default"]=a}),98);
__d("UFI2ComposerActionPlaceholder.react",["cx","UFI2LinkWrapper.react","cr:1232139","cr:1232140","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(d,a);function d(){return a.apply(this,arguments)||this}var e=d.prototype;e.render=function(){var a=null;if(this.props.hasBeenClicked===!0){b("cr:1232140")!=null?a=i.jsx(b("cr:1232140"),{className:"_2wv6",size:"small"}):b("cr:1232139")!=null&&(a=i.jsx("div",{className:"_2wv6",children:i.jsx(b("cr:1232139"),{color:"disabled",duration:1.2,size:12,type:"estimated"})}));return a}return i.jsx(c("UFI2LinkWrapper.react"),{"aria-label":this.props.label,className:this.props.buttonClassName,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onMouseOver:this.props.onMouseOver,onMouseUp:this.props.onMouseUp,role:"button",children:i.jsx("div",{className:this.props.iconClassName})})};return d}(i.PureComponent);g["default"]=a}),98);
__d("UFI2ComposerPreviewArea.react",["cx","CloseButton.react","react","useTriggerAccessibilityAlert"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b=a.children,d=a.label,e=a.onRemove,f=a.removeAnnouncement;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","label","onRemove","removeAnnouncement"]);var g=c("useTriggerAccessibilityAlert")(),h=j(function(a){e(a),f!=null&&g(f)},[e,f,g]);return i.jsxs("div",babelHelpers["extends"]({},a,{className:"_1llh",children:[b,i.jsx(c("CloseButton.react"),{ariaLabel:d,className:"_1lli",onClick:h,tooltip:d})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UFI2AvatarComposerAction.react",["cx","fbt","JSResource","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("lazyLoadComponent")(c("JSResource")("UFI2InsertAvatarButton.react").__setRef("UFI2AvatarComposerAction.react"));function a(a){var b=i._("Post an Avatar Sticker");return j.jsx(c("UFI2ComposerAction.react"),{createComponentProps:function(b){b=b.clicked;return{buttonClassName:"_1t9_ _8rl6",hasAvatar:a.hasAvatar,iconActiveClassName:"_8rl7",iconClassName:"InsertAvatar",initiallyVisible:b,onComposerStateChange:a.onComposerStateChange}},label:b,placeholder:j.jsx(c("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _8rl6",iconClassName:"InsertAvatar",label:b}),resource:k})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withReparentingGuard",["getReactComponentDisplayName","isReactClassComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){function b(b){var d,e,f=c("isReactClassComponent")(b)?b:function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b,babelHelpers["extends"]({},this.props))};return c}(h.Component),g;function i(c){c&&(g&&g!==c&&a(b),g=c)}var j=c("getReactComponentDisplayName")(b);return e=d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx(f,babelHelpers["extends"]({},this.props,{ref:i}))};return b}(h.Component),d.displayName="withReparentingGuard("+j+")",e}return b}g["default"]=a}),98);
__d("createUFI2ComposerPlugin",["FBLogger","react","withReparentingGuard"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){return c("withReparentingGuard")(function(a){var b;a=(b=(b=a.displayName)!=null?b:a.name)!=null?b:"Unknown";b="The UFI2 comment composer plugin that wraps the `"+a+"` component caused it to be reparented. Learn how to remedy this mustfix here: https://fburl.com/ufi-composer-plugins-must-never-reparent-wrapped-components";c("FBLogger")("ufi2").blameToPreviousFile().mustfix(b)})(a)}g["default"]=a}),98);
__d("createUFI2AvatarComposerPlugin",["cr:232","createUFI2ComposerPlugin","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){return function(d){function e(c){var e=i(function(){return[].concat(c.actions,[h.jsx(b("cr:232"),{hasAvatar:a.hasAvatar,onComposerStateChange:c.inputProps.onComposerStateChange,postID:a.postID},"avatarComposerAction")])},[c.actions,c.inputProps.onComposerStateChange]);return h.jsx(d,babelHelpers["extends"]({},c,{actions:e}))}e.displayName=e.name+" [from "+f.id+"]";return c("createUFI2ComposerPlugin")(e)}}g["default"]=a}),98);
__d("UFI2InsertEmojiComposerAction.react",["cx","fbt","JSResource","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("lazyLoadComponent")(c("JSResource")("UFI2EmojiInputButton.react").__setRef("UFI2InsertEmojiComposerAction.react"));function a(a){var b=i._("Insert an emoji");return j.jsx(c("UFI2ComposerAction.react"),{createComponentProps:function(b){b=b.clicked;return{buttonClassName:"_1t9_ _1ta3",iconActiveClassName:"UFICommentEmojiIconActive",iconClassName:"InsertEmoji",initiallyVisible:b,onComposerStateChange:a.onComposerStateChange}},label:b,placeholder:j.jsx(c("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _1ta3",iconClassName:"InsertEmoji",label:b}),resource:k})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UFI2InsertGIFComposerAction.react",["cx","fbt","JSResource","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("lazyLoadComponent")(c("JSResource")("UFI2InsertGIFButton.react").__setRef("UFI2InsertGIFComposerAction.react"));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this.props,b=a.onComposerStateChange,d=a.ftentidentifier,e=i._("Post a GIF");return j.jsx(c("UFI2ComposerAction.react"),{createComponentProps:function(a){a=a.clicked;return{buttonClassName:"_1t9_ _1ny6",ftentidentifier:d,iconActiveClassName:"_1ny9",iconClassName:"_1nyp",initiallyVisible:a,label:e,onComposerStateChange:b}},label:e,placeholder:j.jsx(c("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _1ny6",iconClassName:"_1nyp",label:e}),resource:k})};return b}(j.PureComponent);g["default"]=a}),98);
__d("UFI2MediaUploadComposerAction.react",["cx","fbt","CometUFIActionsContext","Event","JSResource","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","UFICommentFileInputAcceptValues","injectSubscriptionsHandler.react","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useContext,m=b.useEffect,n=c("lazyLoadComponent")(c("JSResource")("UFI2MediaUploadButton.react").__setRef("UFI2MediaUploadComposerAction.react"));function a(a){var b=a.fileIsHoveringOverDropTarget,e=b===void 0?!1:b;b=a.hasErrored;var f=b===void 0?!1:b,g=a.onComposerStateChange,h=a.subscriptionsHandler,o=a.feedbackID;b=a.feedback;a=l(d("CometUFIActionsContext").CometUFIActionsContext);var p=a.registerUFIActions,q=k(function(a){var b=a.target.files.item(0);g(function(a){return babelHelpers["extends"]({},a,{attachment:{__type:"Media",reference:{__type:"File",file:b}}})})},[g]);b=((a=b.viewer_actor)==null?void 0:a.__typename)==="Page";var r=b?c("UFICommentFileInputAcceptValues").photos:c("UFICommentFileInputAcceptValues").both,s=k(function(){var a=document.createElement("input");a.setAttribute("accept",r);a.setAttribute("type","file");h.addSubscriptions(c("Event").listen(a,"change",q));a.click()},[r,h,q]);m(function(){if(o==null)return;var a=p(o,{uploadMedia:s});return function(){a&&a.dispose()}},[p,s,o]);var t=f?i._("There was a problem with attaching the file, please try again"):i._("Attach a photo or video");return j.jsx(c("UFI2ComposerAction.react"),{createComponentProps:function(a){a=a.clicked;return{acceptedFileTypes:r,feedbackID:o,fileIsHoveringOverDropTarget:e,hasErrored:f,initialUploadDialogIsOpen:a,label:t,onComposerStateChange:g}},label:t,placeholder:j.jsx(c("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _7ja_",iconClassName:(e?"_3n42":"")+(!e&&!f?" _3n43":"")+(f?" _3nb4":""),label:t,onMouseUp:s}),resource:n})}a.displayName=a.name+" [from "+f.id+"]";e=c("injectSubscriptionsHandler.react")(a);g["default"]=e}),98);
__d("UFI2InsertStickerComposerAction.react",["cx","fbt","JSResource","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("lazyLoadComponent")(c("JSResource")("UFI2InsertStickerButton.react").__setRef("UFI2InsertStickerComposerAction.react"));function a(a){var b=i._("Post a sticker");return j.jsx(c("UFI2ComposerAction.react"),{createComponentProps:function(c){c=c.clicked;return{buttonClassName:"_1t9_ _2r-o",feedbackID:a.feedbackID,iconActiveClassName:"_2r-q",iconClassName:"_2r-r",initiallyVisible:c,label:b,onComposerStateChange:a.onComposerStateChange,targetID:a.targetID}},label:b,placeholder:j.jsx(c("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _2r-o",iconClassName:"_2r-r",label:b}),resource:k})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoUploadSurface",["$InternalEnum","VideoUploadFlowNotifier","WaterfallIDGenerator"],(function(a,b,c,d,e,f,g){"use strict";a=b("$InternalEnum")({JEST_TESTS:"jest_tests",COMMENTS:"comments",FEED:"feed"});var h=function(){function a(a){this.$1={},this.$2=a}var b=a.prototype;b.getByID=function(a){return this.$1[a]};b.getExistingOrNoOpByID=function(a){a=this.getByID(a);return a==null?this.$2.noOpProvider():a};b.register=function(a,b){b=b==null?d("WaterfallIDGenerator").generate():b;this.$1[b]=a;return b};b.clear=function(a){this.$1[a]=void 0};return a}();c=function(){function a(){this.$2=new h({noOpProvider:function(){return d("VideoUploadFlowNotifier").NoOpVideoUploadFlowNotifier.getInstance()}})}a.getOrCreate=function(b){var c=a.$1[b];c==null&&(c=new a(),a.$1[b]=c);return c};var b=a.prototype;b.notifiers=function(){return this.$2};return a}();c.$1={};g.VideoUploadSurfaceIDs=a;g.VideoUploadSurface=c}),98);