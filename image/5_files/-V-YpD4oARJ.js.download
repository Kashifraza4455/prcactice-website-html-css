;/*FB_PKG_DELIM*/

__d("BrowseEmptyResult",["csx","$","DOMQuery","UIPagelet"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,e){var f=[],g=!1;if(a===null)return;for(var h=0;h<a.length;h++){var i=c("$")(a[h]);if(a[h]==="initial_browse_result"){var j=d("DOMQuery").scry(i,"._58b7");j.length>0&&(g=!0)}if(i!==null&&i.textContent){j=d("DOMQuery").scry(i,"._jyu");i=j!=null;i||f.push(a[h])}}f.length===0&&!g&&(a&&a.length===0,c("UIPagelet").loadFromEndpoint("BrowsePageletNoContentError",b,e,{usePipe:!1}))}g.init=a}),98);
__d("BrowseGroupResult",["Event"],(function(a,b,c,d,e,f,g){"use strict";function a(){}a.toggle=function(a,b,d){c("Event").listen(b,"click",function(){d.toggle(),a.hideFlyout()})};g["default"]=a}),98);
__d("BrowseWindowTransitions",["Arbiter","BrowseClientEventLogger","Event","NavigationMessage","Run","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g,h,i){var j=this;this.subscriptions=new(c("SubscriptionsHandler"))();this.currentSessionID=a;this.currentVertical=b;this.logData("window_load");d("Run").onLeave(function(){j.logData("window_transition_to_fb_page"),j.cleanup()});this.unLoadAttached||(this.unLoadAttached=!0,d("Run").onUnload(function(){j.logData("window_unloaded")}));this.subscriptions.addSubscriptions(c("Event").listen(window,"focus",function(){j.logData("window_focus")}),c("Event").listen(window,"blur",function(){j.logData("window_blur")}),c("Arbiter").subscribe("pre_page_transition",function(a,b){j.logData("window_pre_page_transition")}),c("Arbiter").subscribe(c("NavigationMessage").NAVIGATION_BEGIN,function(a,b){j.logData("window_transition_to_LHC"),j.cleanup()}),c("Arbiter").subscribe("BlueBar/homeClick",function(){j.logData("window_transition_to_home_click"),j.cleanup()}))}function b(a){d("BrowseClientEventLogger").logData(a,this.currentSessionID,this.currentVertical)}function e(){this.subscriptions.release()}g.init=a;g.logData=b;g.cleanup=e}),98);
__d("DesktopVisibilityTracking",["Arbiter","ErrorUtils","LitestandMessages","Run","VisibilityTracking","VisibilityTrackingConfig"],(function(a,b,c,d,e,f){var g,h={init:function(){h.instance===void 0&&(h.instance=new(b("VisibilityTracking"))(b("VisibilityTrackingConfig")),h.instance.listeners.addSubscriptions(b("Arbiter").subscribe([b("LitestandMessages").STORIES_INSERTED],(g||(g=b("ErrorUtils"))).guard(function(){h.instance.refreshAndFireEvent()},"VisibilityTracking")))),b("Run").onLoad(function(){h.instance.refreshAndFireEvent()})}};e.exports=h}),null);
__d("HoverButton",["csx","cx","AsyncRequest","CSS","DOM","URI"],(function(a,b,c,d,e,f,g,h){var i;a=function(){"use strict";function a(a,b,c,d){this._button=a,this._flyout=b,this._flyoutAjaxify=d,this._flyoutContent=c,b.subscribe("show",this._onShow.bind(this)),b.subscribe("hide",this._onHide.bind(this))}var c=a.prototype;c.showFlyoutBriefly=function(){this.showFlyout(),this._flyout.hideFlyoutDelayed(5e3)};c.showFlyout=function(){this._flyout.showFlyout(this._button,!0),this._flyout.inform("show",this._button)};c.hideFlyout=function(){this._flyout.hideFlyout(!0),this._flyout.inform("hide",this._button)};c.enableButton=function(){this._flyout.initNode(this._button)};c.disableButton=function(){this.hideFlyout(),this._flyout.deactivateNode(this._button)};c._onShow=function(a,c){var d=this;b("CSS").addClass(c,"_52nd");(b("CSS").hasClass(c,"uiButton")||b("CSS").matchesSelector(c,"._42fu"))&&b("CSS").addClass(c,"selected");this._flyoutAjaxify&&(b("CSS").addClass(this._flyoutContent,"async_saving"),new(b("AsyncRequest"))().setURI(new(i||(i=b("URI")))(this._flyoutAjaxify)).setHandler(function(a){b("CSS").removeClass(d._flyoutContent,"async_saving"),b("DOM").setContent(d._flyoutContent,a.payload)}).send(),this._flyoutAjaxify=null)};c._onHide=function(a,c){b("CSS").removeClass(c,"_52nd"),(b("CSS").hasClass(c,"uiButton")||b("CSS").matchesSelector(c,"._42fu"))&&b("CSS").removeClass(c,"selected")};c.destroy=function(){this.hideFlyout(),this._flyout.destroy()};c.suppressNextMouseEnter=function(){this._flyout.setActiveNode(this._button)};return a}();Object.assign(a.prototype,{_button:null,_flyout:null,_flyoutAjaxify:null,_flyoutContent:null});e.exports=a}),null);
__d("SwapButton",["Arbiter","DOM","Event","Focus"],(function(a,b,c,d,e,f,g){function h(a,b,e,f){f!=null&&f!==""?c("Arbiter").informSingle(f):(c("DOM").insertAfter(b,a),c("DOM").remove(b),e&&d("Focus").setWithoutOutline(a))}a=function(){function a(a,b,d,e){var f=this;this.toggle=function(a){f._swapperButton.parentNode?f.swap(a):f.unswap(a)};this._swapperButton=a;this._swappeeButton=b;c("Event").listen(a,"click",h.bind(null,b,a,!0,e));d&&c("Event").listen(b,"click",h.bind(null,a,b,!0,e));e!=null&&e!==""&&c("Arbiter").subscribe(e,this.toggle)}var b=a.prototype;b.swap=function(a){a===void 0&&(a=!1),this._swapperButton.parentNode&&h(this._swappeeButton,this._swapperButton,a,null)};b.unswap=function(a){a===void 0&&(a=!1),this._swapperButton.parentNode||h(this._swapperButton,this._swappeeButton,a,null)};b.getCurrentButton=function(){return this._swapperButton.parentNode?this._swapperButton:this._swappeeButton};return a}();g["default"]=a}),98);
__d("HoverFlyout",["Arbiter","ArbiterMixin","DataStore","Event","Keys","mixin","removeFromArray","shield"],(function(a,b,c,d,e,f){c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e,f){var g;g=a.call(this)||this;g._focusOnJoinSubscription=null;c&&(g._showDelay=e,g._hideDelay=f,g.init(c),d&&g.initNode(d));g._focusOnJoinSubscription=b("Arbiter").subscribe("SwapButtonDEPRECATED/focusOnJoinButton",b("shield")(g.hideFlyout,babelHelpers.assertThisInitialized(g)),"all");return g}var d=c.prototype;d.init=function(a){this._flyout=a;this._showDelay=this._showDelay||0;this._hideDelay=this._hideDelay||100;this._showTimeout=null;this._hideTimeout=null;this._flyoutSubscriptions=[this._flyout.subscribe("mouseenter",this._onFlyoutMouseEnter.bind(this)),this._flyout.subscribe("mouseleave",b("shield")(this.hideFlyout,this))];this._nodes=[];this._dataStoreUnique="HoverFlyout_"+Date.now()+"_listeners";return this};d.initNode=function(a){if(this._nodes.includes(a))return this;this._nodes.push(a);b("DataStore").set(a,this._dataStoreUnique,[b("Event").listen(a,"mouseenter",this._onNodeMouseEnter.bind(this,a)),b("Event").listen(a,"mouseleave",b("shield")(this.hideFlyout,this)),b("Event").listen(a,"click",this._onNodeMouseEnter.bind(this,a)),b("Event").listen(a,"keydown",this._onNodeKeyEscape.bind(this))]);return this};d.deactivateNode=function(a){var c=b("DataStore").get(a,this._dataStoreUnique);if(c)while(c.length)c.pop().remove();b("removeFromArray")(this._nodes,a)};d.setShowDelay=function(a){this._showDelay=a;return this};d.setHideDelay=function(a){this._hideDelay=a;return this};d.showFlyout=function(a,b){this.setActiveNode(a);b?(this._flyout.setContext(a).show(),this.inform("show",a)):this._showTimeout=setTimeout(this.showFlyout.bind(this,a,!0),this._showDelay);return this};d.hideFlyout=function(a){clearTimeout(this._showTimeout),a?(this._flyout.hide(),this._activeNode&&this.inform("hide",this._activeNode),this._activeNode=null):this._hideTimeout=setTimeout(this.hideFlyout.bind(this,!0),this._hideDelay)};d.hideFlyoutDelayed=function(a){clearTimeout(this._showTimeout),clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(this.hideFlyout.bind(this,!0),a)};d.getActiveNode=function(){return this._activeNode};d.setActiveNode=function(a){clearTimeout(this._hideTimeout);this._activeNode&&this._activeNode!==a&&this.hideFlyout(!0);this._activeNode=a;return this};d.clearNodes=function(){for(var a=this._nodes.length;a>0;a--)this.deactivateNode(this._nodes[a-1])};d.destroy=function(){while(this._flyoutSubscriptions.length)this._flyout.unsubscribe(this._flyoutSubscriptions.pop());this.clearNodes();this._focusOnJoinSubscription!==null&&this._focusOnJoinSubscription.unsubscribe()};d._onNodeMouseEnter=function(a){this._activeNode===a?clearTimeout(this._hideTimeout):this.showFlyout(a)};d._onFlyoutMouseEnter=function(){clearTimeout(this._hideTimeout)};d._onNodeKeyEscape=function(a){b("Event").getKeyCode(a)===b("Keys").ESC&&(this._activeNode&&this.inform("hide",this._activeNode),this._activeNode=null)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a.HoverFlyout||c}),null);