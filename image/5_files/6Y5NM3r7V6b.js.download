;/*FB_PKG_DELIM*/

__d("BasicTypeaheadRenderer",["BadgeHelper","DOM"],(function(a,b,c,d,e,f){function a(a,c){c=[];a.icon&&c.push(b("DOM").create("img",{alt:"",src:a.icon}));var d=a.debug_info;d&&c.push(b("DOM").create("span",{className:"debugInfo"},d));if(a.text){d=[a.text];a.is_verified&&d.push(b("BadgeHelper").renderBadge("xsmall","verified"));c.push(b("DOM").create("span",{className:"text"},d))}if(a.subtext){d=[a.subtext];c.push(b("DOM").create("span",{className:"subtext"},d))}d=b("DOM").create("li",{className:a.type||""},c);a.text&&(d.setAttribute("title",a.text),d.setAttribute("aria-label",a.text));return d}a.className="basic";e.exports=a}),null);
__d("createIxElement",["invariant","DOM","coerceImageishSprited","coerceImageishURL","joinClasses"],(function(a,b,c,d,e,f,g,h){function a(a,b){var d="img",e=c("coerceImageishSprited")(a);a=c("coerceImageishURL")(a);if(e){e=c("DOM").create("i",{className:c("joinClasses")(d,e.type==="css"?e.className:void 0),style:e.type==="cssless"?e.style:void 0});b!=null&&c("DOM").setContent(e,c("DOM").create("u",null,b));return e}a||h(0,2521);e=c("DOM").create("img",{className:d,src:a.uri});b!=null&&e.setAttribute("alt",b);e.setAttribute("width",String(a.width));e.setAttribute("height",String(a.height));return e}g["default"]=a}),98);
__d("TypeaheadView",["csx","cx","ix","$","ArbiterMixin","BasicTypeaheadRenderer","CSS","DOM","Event","Parent","createIxElement","getElementText","getOrCreateDOMID","mixin"],(function(a,b,c,d,e,f,g,h,i,j){b=function(b){babelHelpers.inheritsLoose(e,b);function e(a,d){var e;e=b.call(this)||this;e.initialized=!1;e.$TypeaheadView1=0;e.element=e.content=c("$").fromIDOrElement(a);Object.assign(babelHelpers.assertThisInitialized(e),d);return e}var f=e.prototype;f.init=function(){this.initialized||(this.initialized=!0,this.initializeEvents(),this.reset())};f.initializeEvents=function(){c("Event").listen(this.element,{mouseup:this.mouseup.bind(this),mouseover:this.mouseover.bind(this)})};f.setTypeahead=function(a){this.typeahead=a};f.setAccessibilityControlElement=function(a){this.accessibilityElement=a};f.getElement=function(){return this.element};f.mouseup=function(a){a.button!=2&&(this.select(!0),a.prevent())};f.mouseover=function(a){if(this.ignoreMouseover){this.ignoreMouseover=!1;return}this.visible&&(this.resetColumn(),this.highlight(this.getIndex(a)))};f.reset=function(a){a||(this.disableAutoSelect=!1);this.index=-1;this.$TypeaheadView1=0;this.$TypeaheadView2();this.items=[];this.results=[];this.value="";this.content.innerHTML="";this.inform("reset");return this};f.getIndex=function(a){return this.items.indexOf(d("Parent").byTag(a.getTarget(),"li"))};f.getSelection=function(){var a=this.results[this.index]||null;return this.visible?a:null};f.isEmpty=function(){return!this.results.length};f.isVisible=function(){return!!this.visible};f.show=function(){d("CSS").show(this.element);if(this.results&&this.results.length&&(this.autoSelect&&this.accessibilityElement&&this.selected)){var a=c("DOM").scry(this.selected,'[role="gridcell"]');a=a.length<2?this.selected:a[this.$TypeaheadView1];this.accessibilityElement.setAttribute("aria-activedescendant",c("getOrCreateDOMID")(a))}this.accessibilityElement&&this.accessibilityElement.setAttribute("aria-expanded","true");this.visible=!0;return this};f.hide=function(){d("CSS").hide(this.element);this.accessibilityElement&&(this.accessibilityElement.setAttribute("aria-expanded","false"),this.accessibilityElement.removeAttribute("aria-activedescendant"));this.visible=!1;return this};f.render=function(a,b,d){this.value=a;if(!b.length){this.accessibilityElement&&this.accessibilityElement.removeAttribute("aria-activedescendant");this.reset(!0);return}a={results:b,value:a};this.inform("beforeRender",a);b=a.results;a=(!this.value||d)&&this.index!==-1?this.index:this.getDefaultIndex(b);this.results=b;c("DOM").setContent(this.content,this.buildResults(b));this.items=this.getItems();this.highlight(a,!1);this.inform("render",this.results)};f.getItems=function(){return c("DOM").scry(this.content,"li")};f.buildResults=function(b){var d,e=null;typeof this.renderer==="function"?(d=this.renderer,e=this.renderer.className||""):(d=a.TypeaheadRenderers[this.renderer],e=this.renderer);d=d.bind(this);b=b.map(function(a,b){a=a.node||d(a,b);a.setAttribute("role","option");return a});e=c("DOM").create("ul",{className:e,id:"typeahead_list_"+(this.typeahead?c("getOrCreateDOMID")(this.typeahead):c("getOrCreateDOMID")(this.element))},b);e.setAttribute("role","listbox");return e};f.showLoadingIndicator=function(){var a=c("createIxElement")(j("85428"));a=c("DOM").create("li",{className:"typeaheadViewInternalLoading"},a);a=c("DOM").create("ul",{role:"listbox"},a);c("DOM").setContent(this.content,a)};f.getDefaultIndex=function(a){a=this.autoSelect&&!this.disableAutoSelect;return this.index<0&&!a?-1:0};f.$TypeaheadView2=function(){var a=c("DOM").scry(this.element,".active")[0];a!=null&&d("CSS").removeClass(a,"active");if(this.selected==null||this.index===-1)return;a=c("DOM").scry(this.selected,'[role="gridcell"]');if(a.length<2)return;a=a[this.$TypeaheadView1];d("CSS").addClass(a,"active")};f.next=function(){this.$TypeaheadView1=0,this.highlight(this.index+1),this.inform("next",this.selected)};f.prev=function(){this.$TypeaheadView1=0,this.highlight(this.index-1),this.inform("prev",this.selected)};f.getCurrentColumnIndex=function(){return this.$TypeaheadView1};f.resetColumn=function(){if(this.selected==null)return;var a=c("DOM").scry(this.selected,'[role="gridcell"]');if(a.length<2)return;this.$TypeaheadView1=0;a=a[this.$TypeaheadView1];this.accessibilityElement.setAttribute("aria-activedescendant",c("getOrCreateDOMID")(a));this.$TypeaheadView2()};f.nextColumn=function(){if(this.index==-1||this.selected==null)return;var a=c("DOM").scry(this.selected,'[role="gridcell"]');if(a.length<2)return;if(this.$TypeaheadView1<a.length-1){this.$TypeaheadView1++;a=a[this.$TypeaheadView1];this.accessibilityElement.setAttribute("aria-activedescendant",c("getOrCreateDOMID")(a));this.$TypeaheadView2()}else this.next()};f.prevColumn=function(){if(this.index==-1||this.selected==null)return;var a=c("DOM").scry(this.selected,'[role="gridcell"]');if(a.length<2)return;if(this.$TypeaheadView1>0){this.$TypeaheadView1--;a=a[this.$TypeaheadView1];this.accessibilityElement.setAttribute("aria-activedescendant",c("getOrCreateDOMID")(a));this.$TypeaheadView2()}else this.prev()};f.getItemText=function(a){var b="";a&&(b=a.getAttribute("aria-label"),b||(b=c("getElementText")(a),a.setAttribute("aria-label",b)));return b};f.setIsViewingSelectedItems=function(a){this.viewingSelected=a;return this};f.getIsViewingSelectedItems=function(){return!!this.viewingSelected};f.highlight=function(a,b){var e=this,f=this.selected;f!=null&&(d("CSS").removeClass(f,"selected"),f.setAttribute("aria-selected","false"));a>this.items.length-1?a=-1:a<-1&&(a=this.items.length-1);a>=0&&a<this.items.length?(this.selected=this.items[a],d("CSS").addClass(this.selected,"selected"),this.selected!=null&&this.selected.setAttribute("aria-selected","true"),this.accessibilityElement&&window.setTimeout(function(){var a=c("DOM").scry(e.selected,'[role="gridcell"]');a=a.length<2?e.selected:a[e.$TypeaheadView1];a!=null&&e.accessibilityElement.setAttribute("aria-activedescendant",c("getOrCreateDOMID")(a));e.$TypeaheadView2()},0)):this.accessibilityElement&&this.accessibilityElement.removeAttribute("aria-activedescendant");this.index=a;this.disableAutoSelect=a==-1;b!==!1&&this.inform("highlight",{index:a,selected:this.results[a],element:this.selected})};f.select=function(a){var b=this;if(this.headerIndex&&a)return;var c=this.index,d=this.results[c],e=this.element.getAttribute("id");if(d){var f=function(d){b.inform("select",{index:c,clicked:!!a,selected:d,id:e,query:b.value,element:b.selected}),b.inform("afterSelect")};this.shouldValidateTypeaheadSelection(d)?this.validateTypeaheadSelection(d,f):f(d)}};f.shouldValidateTypeaheadSelection=function(a){return!1};f.validateTypeaheadSelection=function(a,b){};return e}(c("mixin")(c("ArbiterMixin")));Object.assign(b.prototype,{events:["highlight","render","reset","select","beforeRender","next","prev"],renderer:c("BasicTypeaheadRenderer"),autoSelect:!1,ignoreMouseover:!1});g["default"]=b}),98);
__d("BucketedTypeaheadView",["fbt","DOM","TypeaheadView"],(function(a,b,c,d,e,f,g){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(b,c,d,e){var f=c.length>0;for(var g=0;g<c.length;++g)c[g].type!=="hashtag"&&(f=!1);f||(c=this.buildBuckets(b,c));if(d&&e){g=this.results.length-this.index;this.index=c.length-g}return a.prototype.render.call(this,b,c,d)};d.highlight=function(b,c){this.headerIndex=!1;b==-1&&this.index!==0&&(b=this.index);while(b>=0&&b<this.items.length&&!this.isHighlightable(this.results[b]))b+=1,this.headerIndex=!0;a.prototype.highlight.call(this,b,c)};d.buildBuckets=function(a,b){if(!this.typeObjects||!b||!b.length)return b;a=[];var c={};for(var d=0;d<b.length;++d){var e=b[d],f=e.render_type||e.type;Object.prototype.hasOwnProperty.call(c,f)||(c[f]=a.length,a.push([this.buildBucketHeader(f)]));e.classNames=e.classNames||f;e.groupIndex=c[f];e.indexInGroup=a[e.groupIndex].length-1;e.globalIndex=d;a[e.groupIndex].push(e)}for(f in this.typeObjects)!Object.prototype.hasOwnProperty.call(c,f)&&this.typeObjects[f].show_always&&(c[f]=a.length,a.push([this.buildBucketHeader(f)]),e=this.buildNoResultsEntry(),e.classNames=e.type,e.groupIndex=c[f],e.indexInGroup=a[e.groupIndex].length-1,a[e.groupIndex].push(e));d=[];if(this.typeObjectsOrder)for(b=0;b<this.typeObjectsOrder.length;++b){e=this.typeObjectsOrder[b];Object.prototype.hasOwnProperty.call(c,e)&&(d=d.concat(a[c[e]]))}else for(f=0;f<a.length;++f)d=d.concat(a[f]);return d};d.buildNoResultsEntry=function(){return{uid:"disabled_result",type:"disabled_result",text:g._("No Results")}};d.buildBucketHeader=function(a){var b=this.typeObjects[a];if(b===void 0)throw new Error(a+" is undefined in "+JSON.stringify(this.typeObjects));b.markup&&(b.text=b.markup,delete b.markup);return this.typeObjects[a]};d.buildResults=function(c){c=a.prototype.buildResults.call(this,c);if(this.typeObjects)return b("DOM").create("div",{className:"bucketed"},[c]);else return c};d.isHighlightable=function(a){return a.type!="header"&&a.type!="disabled_result"};d.select=function(b){var c=this.results[this.index];c&&this.isHighlightable(c)&&a.prototype.select.call(this,b)};d.updateResults=function(a){this.results=a};d.normalizeIndex=function(a){var b=this.results.length;if(b===0)return-1;else if(a<-1)return a%b+b+1;else if(a>=b)return a%b-1;else return a};d.getDefaultIndex=function(a){var b=this.autoSelect&&!this.disableAutoSelect;if(this.index<0&&!b)return-1;if(!a||a&&a.length===0)return-1;b=0;while(!this.isHighlightable(a)&&b<a.length)b++;return b};d.prev=function(){var b=this.results[this.normalizeIndex(this.index-1)];while(b&&!this.isHighlightable(b))this.index=this.normalizeIndex(this.index-1),b=this.results[this.normalizeIndex(this.index-1)];return a.prototype.prev.call(this)};d.next=function(){var b=this.results[this.normalizeIndex(this.index+1)];while(b&&!this.isHighlightable(b))this.index=this.normalizeIndex(this.index+1),b=this.results[this.normalizeIndex(this.index+1)];return a.prototype.next.call(this)};return c}(b("TypeaheadView"));e.exports=a}),null);
__d("ContextualTypeaheadView",["BucketedTypeaheadView","CSS","ContextualLayer","ContextualLayerAutoFlip","ContextualLayerHideOnScroll","DOM","DOMDimensions","Style"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.init=function(){this.initializeLayer(),a.prototype.init.call(this)};e.initializeLayer=function(){this.context=this.getContext(),this.wrapper=c("DOM").create("div"),c("DOM").appendContent(this.wrapper,this.element),d("CSS").addClass(this.element,"uiContextualTypeaheadView"),this.layer=new(c("ContextualLayer"))({context:this.context,position:"below",alignment:this.alignment,causalElement:this.causalElement,permanent:!0,shouldSetARIAProperties:!1},this.wrapper),this.layer.enableBehavior(c("ContextualLayerHideOnScroll")),(c("Style").isFixed(this.context)||this.autoflip)&&this.layer.enableBehavior(c("ContextualLayerAutoFlip")),this.subscribe("render",this.renderLayer.bind(this))};e.show=function(){this.minWidth?c("Style").set(this.wrapper,"min-width",this.minWidth+"px"):this.width?c("Style").set(this.wrapper,"width",this.width+"px"):c("Style").set(this.wrapper,"width",d("DOMDimensions").getElementDimensions(this.context).width+"px");var b=a.prototype.show.call(this);this.layer.show();this.inform("show");return b};e.hide=function(){this.layer.hide();this.inform("hide");return a.prototype.hide.call(this)};e.renderLayer=function(){if(!this.isVisible())return;this.layer.isShown()?this.layer.updatePosition():this.layer.show()};e.clearText=function(){this.layer.getCausalElement().value=""};e.getContext=function(){return this.element.parentNode};return b}(c("BucketedTypeaheadView"));g["default"]=a}),98);
__d("Typeahead",["ArbiterMixin","BehaviorsMixin","DOM","DataStore","Event","Parent","Run","Style","emptyFunction","ge","mixin"],(function(a,b,c,d,e,f,g){b=function(b){babelHelpers.inheritsLoose(e,b);function e(a,c,e,f){var g;g=b.call(this)||this;g.args={data:a,view:c,core:e};d("DataStore").set(f,"Typeahead",babelHelpers.assertThisInitialized(g));g.element=f;return g}var f=e.prototype;f.init=function(a){this.init=c("emptyFunction"),this.getCore(),this.getView().setAccessibilityControlElement(this.getCore().getElement()),this.proxyEvents(),this.initBehaviors(a||[]),this.inform("init",this),this.data.bootstrap(),this.core.focus()};e.loadDataServer=function(a,b,c){a.getData().onLoad(b,c)};f.getData=function(){if(!this.data){var a=this.args.data;this.data=a;this.data.init()}return this.data};f.getView=function(){if(!this.view){var a=this.args.view,b=a.node||c("ge")(a.node_id);b||(b=c("DOM").create("div",{className:"uiTypeaheadView"}),c("DOM").appendContent(this.element,b));typeof a.ctor==="string"?this.view=new window[a.ctor](b,a.options||{}):this.view=new a.ctor(b,a.options||{});this.view.init();this.view.setTypeahead(this.element)}return this.view};f.getCore=function(){if(!this.core){var a=this.args.core;typeof a.ctor==="string"?this.core=new window[a.ctor](a.options||{}):this.core=new a.ctor(a.options||{});this.core.init(this.getData(),this.getView(),this.getElement())}return this.core};f.getElement=function(){return this.element};f.setHeight=function(a){a!=="auto"&&(a+="px"),c("Style").set(this.element,"height",a)};f.swapData=function(a){return this.$Typeahead1(a,!0)};f.swapDataNoCoreReset=function(a){return this.$Typeahead1(a,!1)};f.$Typeahead1=function(a,b){var c=this.core;this.data=this.args.data=a;a.init();c&&(c.data=a,c.initData(),b&&c.reset(),this.proxyEvents());a.bootstrap();return a};f.proxyEvents=function(){var a=this;[this.data,this.view,this.core].forEach(function(b){b.subscribe(b.events,a.inform.bind(a))})};f.initBehaviors=function(b){var e=this;b.forEach(function(b){typeof b==="string"?a.TypeaheadBehaviors&&a.TypeaheadBehaviors[b]?a.TypeaheadBehaviors[b](e):d("Run").onLoad(function(){a.TypeaheadBehaviors&&(a.TypeaheadBehaviors[b]||c("emptyFunction"))(e)}):e.enableBehavior(b)})};e.getInstance=function(a){a=d("Parent").byClass(a,"uiTypeahead");return a?d("DataStore").get(a,"Typeahead"):null};e.initNow=function(a,b,c){c&&c.init(a),a.init(b)};e.init=function(a,b,d,f){c("DOM").isNodeOfType(a,["input","textarea"])||(a=c("DOM").scry(a,"input")[0]||c("DOM").scry(a,"textarea")[0]);var g=!1;try{g=document.activeElement===a}catch(a){}if(g)e.initNow(b,d,f);else var h=c("Event").listen(a,"focus",function(){e.initNow(b,d,f),h.remove()})};return e}(c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));g["default"]=b}),98);
__d("TypeaheadCore",["Arbiter","ArbiterMixin","CSS","DOM","Event","Focus","Input","InputSelection","Keys","StickyPlaceholderInput","UserAgent","bind","emptyFunction","mixin"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.events=["blur","focus","click","unselect","loading","change"];c.keepFocused=!0;c.preventFocusChangeOnTab=!1;c.queryTimeout=250;c.resetOnKeyup=!0;c.resetOnSelect=!1;c.setValueOnSelect=!1;c.selectOnTabKey=!0;c.selectOnClick=!0;Object.assign(babelHelpers.assertThisInitialized(c),b);return c}var e=b.prototype;e.init=function(a,b,e){this.init=c("emptyFunction"),this.data=a,this.view=b,this.root=e,this.initInput(),this.inputWrap=c("DOM").find(e,"div.wrap"),this.hiddenInput=c("DOM").find(e,"input.hiddenInput"),this.value="",this.nextQuery=null,this.selectedText=null,this.setValueOnSelect&&d("CSS").hasClass(this.inputWrap,"selected")&&(this.selectedText=this.getValue()),this.initView(),this.initData(),this.initEvents(),this.initToggle(),this._exclusions=[]};e.initInput=function(){this.element=c("DOM").find(this.root,".textInput");var a=c("DOM").scry(this.element,"input")[0];a&&(this.element=a)};e.initView=function(){var a=this;this.view.subscribe("highlight",d("Focus").set.bind(null,this.element));this.view.subscribe("select",function(b,c){a.select(c.selected)});this.view.subscribe("afterSelect",function(){a.afterSelect()})};e.initData=function(){var a=this;this.data.subscribe("notify",function(b,c){a.root.id==c.rootid&&!a.element.disabled&&c.value==a.getValue()&&a.view.render(c.value,c.results,c.isAsync)});this.data.subscribe("respond",function(b,c){(c.forceDisplay||c.value==a.getValue()&&!a.element.disabled&&(a.element.getAttribute("singlestate")!=="true"||c.nullState))&&a.view.render(c.value,c.results,c.isAsync)});this.data.subscribe("activity",function(b,c){a.fetching=c.activity,a.fetching||a.nextQuery&&a.performQuery(),a.loading!=a.fetching&&(a.loading=a.fetching,a.inform("loading",{loading:a.loading}))})};e.initEvents=function(){c("Event").listen(this.view.getElement(),{mouseup:this.viewMouseup.bind(this),mousedown:this.viewMousedown.bind(this)});var a={blur:c("bind")(this,"blur"),focus:c("bind")(this,"focus"),click:c("bind")(this,"click"),keyup:c("bind")(this,"keyup"),keydown:c("bind")(this,"keydown"),keypress:c("bind")(this,"keypress")};c("UserAgent").isBrowser("Firefox")&&c("Event").listen(this.element,{input:a.keyup});c("Event").listen(this.element,a)};e.initToggle=function(){this.subscribe("blur",this.view.hide.bind(this.view)),this.subscribe("focus",this.view.show.bind(this.view))};e.viewMousedown=function(){this.selecting=!0};e.viewMouseup=function(){this.selecting=!1};e.blur=function(){if(this.selecting){this.selecting=!1;return}this.inform("blur")};e.click=function(){if(this.selectOnClick){var a=d("InputSelection").get(this.element);a.start==a.end&&this.element.select()}this.inform("click")};e.focus=function(){this.checkValue(),this.inform("focus")};e.keyup=function(){this.resetOnKeyup&&!this.getValue()&&this.view.reset(),this.checkValue(),this.getValue().length===0&&this.inform("change",null)};e.keydown=function(a){if(!this.view.isVisible()||this.view.isEmpty()){setTimeout(this.checkValue.bind(this),0);return}switch(c("Event").getKeyCode(a)){case c("Keys").TAB:this.handleTab(a);return;case c("Keys").UP:this.view.prev();break;case c("Keys").DOWN:this.view.next();break;case c("Keys").ESC:this.view.reset();break;default:setTimeout(this.checkValue.bind(this),0);return}a.kill()};e.keypress=function(a){this.view.getSelection()&&c("Event").getKeyCode(a)==c("Keys").RETURN&&(this.view.select(),a.kill())};e.handleTab=function(a){this.preventFocusChangeOnTab&&(this.view.getSelection()?a.kill():a.prevent()),this.selectOnTabKey&&this.view.select()};e.select=function(a){if(a&&this.setValueOnSelect){var b=a.orig_text||a.text;this.setValue(b);this.setHiddenValue(a.uid);this.selectedText=b;d("CSS").addClass(this.inputWrap,"selected")}};e.afterSelect=function(){this.keepFocused?d("Focus").set(this.element):this.element.blur(),this.resetOnSelect?this.reset():this.view.reset()};e.unselect=function(){this.setValueOnSelect&&(this.selectedText=null,d("CSS").removeClass(this.inputWrap,"selected")),this.setHiddenValue(),this.inform("unselect",this)};e.setEnabled=function(a){a=a===!1;this.element.disabled=a;d("CSS").conditionClass(this.root,"uiTypeaheadDisabled",a)};e.reset=function(){this.unselect(),this.setValue(),this.keepFocused||d("Input").reset(this.element),this.view.reset(),this.inform("reset")};e.getElement=function(){return this.element};e.setExclusions=function(a){this._exclusions=a.map(String)};e.getExclusions=function(){return this._exclusions};e.setValue=function(a){this.value=this.nextQuery=a||"",d("Input").setValue(this.element,this.value),d("StickyPlaceholderInput").update(this.element),this.inform("change",a)};e.setHiddenValue=function(a){typeof a==="number"&&(a=String(a));this.hiddenInput.value=a||"";c("Arbiter").inform("Form/change",{node:this.hiddenInput});a=document.createEvent("HTMLEvents");a.initEvent("change",!1,!0);this.hiddenInput.dispatchEvent(a)};e.getValue=function(){return d("Input").getValue(this.element)};e.getHiddenValue=function(){return this.hiddenInput.value||""};e.checkValue=function(){var a=this.getValue();if(a==this.value)return;this.selectedText&&this.selectedText!=a&&this.unselect();var b=Date.now(),c=b-this.time;this.time=b;this.value=this.nextQuery=a;this.inform("change",this.value);this.performQuery(c)};e.performQuery=function(a){if(this.selectedText)return;a=a||0;this.fetching&&a<this.queryTimeout?this.data.query(this.nextQuery,!0,this._exclusions,a):(this.data.query(this.nextQuery,!1,this._exclusions,a),this.nextQuery=null)};e.updateHeight=function(){};return b}(c("mixin")(c("ArbiterMixin")));g["default"]=a}),98);
__d("ClearableTypeahead",["Event"],(function(a,b,c,d,e,f,g){a={resetOnCloseButtonClick:function(a,b){c("Event").listen(b,"click",function(){var b=a.getCore();b.getElement().focus();b.reset()})}};f.exports=a}),34);
__d("TypeaheadSetPhotoOnSelect",["CSS","DOM","Event"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._typeahead=a}var c=a.prototype;c.enable=function(){var a=this,c=b("DOM").scry(this._typeahead.getElement(),".photo")[0];if(c){if(!b("DOM").isNodeOfType(c,"img")){var d=b("DOM").create("img",{className:c.className});b("DOM").replace(c,d);c=d}var e=b("CSS").hide.bind(null,c);d=b("CSS").show.bind(null,c);this._eventListener=b("Event").listen(c,{load:d,error:e,abort:e});this._subscription=this._typeahead.subscribe("select",function(b,d){b=d.selected.photo||a._typeahead.view.fallbackPhoto;b?c.setAttribute("src",b):e()})}};c.disable=function(){this._eventListener.remove(),this._eventListener=null,this._typeahead.unsubscribe(this._subscription),this._subscription=null};return a}();Object.assign(a.prototype,{_eventListener:null,_subscription:null});e.exports=a}),null);
__d("legacy:SetPhotoOnSelectTypeaheadBehavior",["TypeaheadSetPhotoOnSelect"],(function(a,b,c,d,e,f){a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.setPhotoOnSelect=function(a){a.enableBehavior(b("TypeaheadSetPhotoOnSelect"))}}),3);